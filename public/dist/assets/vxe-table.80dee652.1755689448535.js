import{X as i}from"./xe-utils.47aaf4a0.1755689448535.js";import{V as ge}from"./@vxe-ui.bb6a1021.1755689448535.js";import{D as ta}from"./dom-zindex.d72a3c32.1755689448535.js";import{w as Tt,e as vl,h,k as Yo,r as je,i as Ho,f as et,d as on,m as ln,p as tn,n as de,t as In,a as Pe,s as oa,N as hc,O as mc,y as bc,a1 as xc}from"./@vue.f517c4d3.1755689448535.js";function Ct(e){return e&&e.enabled!==!1}function ks(e){return e==null||e===""}function la(e){const l=e.name,c=i.lastIndexOf(l,"."),p=l.substring(c+1,l.length).toLowerCase();return{filename:l.substring(0,c),type:p}}function na(){return ta.getNext()}function ra(){return ta.getCurrent()}function Dn(e){return e&&e.children&&e.children.length>0}function Cl(e,l){if(e){const c=ge.getConfig().translate;return i.toValueString(c?c(""+e,l):e)}return""}function Eo(e,l){return""+(ks(e)?l?ge.getConfig().emptyCell:"":e)}function Ml(e){return e===""||i.eqNull(e)}const As="4.13.32";ge.version=As;ge.tableVersion=As;ge.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},rowGroupConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const Bt="vxe-table-icon-";ge.setIcon({TABLE_SORT_ASC:Bt+"caret-up",TABLE_SORT_DESC:Bt+"caret-down",TABLE_FILTER_NONE:Bt+"funnel",TABLE_FILTER_MATCH:Bt+"funnel",TABLE_EDIT:Bt+"edit",TABLE_TITLE_PREFIX:Bt+"question-circle-fill",TABLE_TITLE_SUFFIX:Bt+"question-circle-fill",TABLE_TREE_LOADED:Bt+"spinner roll",TABLE_TREE_OPEN:Bt+"caret-right rotate90",TABLE_TREE_CLOSE:Bt+"caret-right",TABLE_EXPAND_LOADED:Bt+"spinner roll",TABLE_EXPAND_OPEN:Bt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Bt+"arrow-right",TABLE_CHECKBOX_CHECKED:Bt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Bt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Bt+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:Bt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Bt+"radio-unchecked",TABLE_CUSTOM_SORT:Bt+"drag-handle",TABLE_MENU_OPTIONS:Bt+"arrow-right",TABLE_DRAG_ROW:Bt+"drag-handle",TABLE_DRAG_COLUMN:Bt+"drag-handle",TABLE_DRAG_STATUS_ROW:Bt+"sort",TABLE_DRAG_STATUS_SUB_ROW:Bt+"add-sub",TABLE_DRAG_STATUS_COLUMN:Bt+"swap",TABLE_DRAG_DISABLED:Bt+"no-drop",TABLE_ROW_GROUP_OPEN:Bt+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:Bt+"arrow-right",TOOLBAR_TOOLS_REFRESH:Bt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Bt+"repeat roll",TOOLBAR_TOOLS_IMPORT:Bt+"upload",TOOLBAR_TOOLS_EXPORT:Bt+"download",TOOLBAR_TOOLS_PRINT:Bt+"print",TOOLBAR_TOOLS_FULLSCREEN:Bt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Bt+"minimize",TOOLBAR_TOOLS_CUSTOM:Bt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Bt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Bt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Bt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Bt+"fixed-right-fill"});const vc=ge.setTheme,Cc=ge.getTheme,wc=ge.setConfig,Ec=ge.getConfig,yc=ge.setIcon,Rc=ge.getIcon,Sc=ge.setLanguage,Oc=ge.setI18n,Dc=ge.getI18n,Mc=ge.globalEvents,Fc=ge.globalResize,Tc=ge.renderer,Ic=ge.validators,kc=ge.menus,Ac=ge.formats,Lc=ge.commands,Hc=ge.interceptor,Bc=ge.clipboard,$c=ge.log,Pc=ge.hooks,Vc=ge.use,sa=e=>ge.setConfig(e);ge.setup=sa;const ia=e=>ge.setConfig(e);ge.config=ia;const aa=(e,l)=>ge.getI18n(e,l);ge.t=aa;const ca=(e,l)=>Cl(e,l);ge._t=ca;const Nc=ge,jc=e=>ge.saveFile(e),zc=e=>ge.readFile(e),_c=e=>ge.print(e),Wc={get(e){return ge.modal.get(e)},close(e){return ge.modal.close(e)},open(e){return ge.modal.open(e)},alert(e,l,c){return ge.modal.alert(e,l,c)},confirm(e,l,c){return ge.modal.confirm(e,l,c)},message(e,l){return ge.modal.message(e,l)},notification(e,l,c){return ge.modal.notification(e,l,c)}},{log:da}=ge,ua="table v4.13.32",pt=da.create("warn",ua),ze=da.create("error",ua),{getI18n:Gc,formats:pi}=ge;class Ms{constructor(l,c,{renderHeader:p,renderCell:w,renderFooter:x,renderData:y}={}){const k=l.props,B=l.xeGrid,U=c.formatter,f=i.isBoolean(c.visible)?c.visible:!0,d=["seq","checkbox","radio","expand","html"];if(c.type&&d.indexOf(c.type)===-1&&pt("vxe.error.errProp",[`type=${c.type}`,d.join(", ")]),(i.isBoolean(c.cellRender)||c.cellRender&&!i.isObject(c.cellRender))&&pt("vxe.error.errProp",[`column.cell-render=${c.cellRender}`,"column.cell-render={}"]),(i.isBoolean(c.editRender)||c.editRender&&!i.isObject(c.editRender))&&pt("vxe.error.errProp",[`column.edit-render=${c.editRender}`,"column.edit-render={}"]),c.type==="expand"){const{treeConfig:z}=k,{computeTreeOpts:N}=l.getComputeMaps(),M=N.value;z&&(M.showLine||M.line)&&ze("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(U){if(i.isString(U)){const z=pi.get(U)||i[U];(!z||!i.isFunction(z.tableCellFormatMethod||z.cellFormatMethod))&&ze("vxe.error.notFormats",[U])}else if(i.isArray(U)){const z=pi.get(U[0])||i[U[0]];(!z||!i.isFunction(z.tableCellFormatMethod||z.cellFormatMethod))&&ze("vxe.error.notFormats",[U[0]])}}if(Object.assign(this,{type:c.type,property:c.field,field:c.field,title:c.title,width:c.width,minWidth:c.minWidth,maxWidth:c.maxWidth,resizable:c.resizable,fixed:c.fixed,align:c.align,headerAlign:c.headerAlign,footerAlign:c.footerAlign,showOverflow:c.showOverflow,showHeaderOverflow:c.showHeaderOverflow,showFooterOverflow:c.showFooterOverflow,className:c.className,headerClassName:c.headerClassName,footerClassName:c.footerClassName,formatter:U,footerFormatter:c.footerFormatter,padding:c.padding,verticalAlign:c.verticalAlign,sortable:c.sortable,sortBy:c.sortBy,sortType:c.sortType,filters:$s(c.filters),filterMultiple:i.isBoolean(c.filterMultiple)?c.filterMultiple:!0,filterMethod:c.filterMethod,filterResetMethod:c.filterResetMethod,filterRecoverMethod:c.filterRecoverMethod,filterRender:c.filterRender,rowGroupNode:c.rowGroupNode,treeNode:c.treeNode,dragSort:c.dragSort,rowResize:c.rowResize,cellType:c.cellType,cellRender:c.cellRender,editRender:c.editRender,contentRender:c.contentRender,headerExportMethod:c.headerExportMethod,exportMethod:c.exportMethod,footerExportMethod:c.footerExportMethod,titleHelp:c.titleHelp,titlePrefix:c.titlePrefix,titleSuffix:c.titleSuffix,params:c.params,id:c.colId||i.uniqueId("col_"),parentId:null,visible:f,halfVisible:!1,defaultVisible:f,defaultFixed:c.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:p||c.renderHeader,renderCell:w||c.renderCell,renderFooter:x||c.renderFooter,renderData:y,slots:c.slots}),B){const{computeProxyOpts:z}=B.getComputeMaps(),N=z.value;N.beforeColumn&&N.beforeColumn({$grid:B,column:this})}}getTitle(){return Cl(this.title||(this.type==="seq"?Gc("vxe.table.seqTitle"):""))}getKey(){const{type:l}=this;return this.field||(l?`type=${l}`:null)}update(l,c){l!=="filters"&&(l==="field"&&(this.property=c),this[l]=c)}}const ms={};let Mn;function fa(){return Mn||(Mn=new Image,Mn.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Mn}function Fs(){return Mn||fa()}function $l(e,l){return e?i.isFunction(e)?e(l):e:""}function pa(e){return ms[e]||(ms[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),ms[e]}function Ts(e){return e&&/^\d+(px)?$/.test(e)}function Sn(e){return e&&/^\d+%$/.test(e)}function Fl(e,l){return!!(e&&e.className&&e.className.match&&e.className.match(pa(l)))}function zo(e,l){e&&Fl(e,l)&&(e.className=e.className.replace(pa(l),""))}function cl(e,l){e&&!Fl(e,l)&&(zo(e,l),e.className=`${e.className} ${l}`)}function lr(e){return e.ctrlKey||e.metaKey}function rr(e,l="px"){return i.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${l}`:`${e||""}`}function Ol(e,l){return e?e.querySelector(l):null}function Gr(){const e=document.documentElement,l=document.body;return{scrollTop:e.scrollTop||l.scrollTop,scrollLeft:e.scrollLeft||l.scrollLeft,visibleHeight:e.clientHeight||l.clientHeight,visibleWidth:e.clientWidth||l.clientWidth}}function Yn(e){return e?e.offsetHeight:0}function Is(e){if(e){const l=getComputedStyle(e),c=i.toNumber(l.paddingTop),p=i.toNumber(l.paddingBottom);return c+p}return 0}function jt(e,l){e&&(e.scrollTop=l)}function Gt(e,l){e&&(e.scrollLeft=l)}function Ls(e,l){const c=l.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==c&&e.setAttribute("title",c)}function Vt(e,l,c,p){let w,x=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;x&&x.nodeType&&x!==document;){if(c&&Fl(x,c)&&(!p||p(x)))w=x;else if(x===l)return{flag:c?!!w:!0,container:l,targetElem:w};x=x.parentNode}return{flag:!1}}function Br(e){const l=e.getBoundingClientRect(),c=l.top,p=l.left,{scrollTop:w,scrollLeft:x,visibleHeight:y,visibleWidth:k}=Gr();return{boundingTop:c,top:w+c,boundingLeft:p,left:x+p,visibleHeight:y,visibleWidth:k}}const gi="scrollIntoViewIfNeeded",hi="scrollIntoView";function qc(e){e&&(e[gi]?e[gi]():e[hi]&&e[hi]())}function Xc(e,l){e&&e.dispatchEvent(new Event(l))}const ga=(e,l)=>{const c=[];return e.forEach(p=>{p.parentId=l?l.id:null,p.visible&&(p.children&&p.children.length&&p.children.some(w=>w.visible)?(c.push(p),c.push(...ga(p.children,p))):c.push(p))}),c},Kc=e=>{let l=1;const c=(x,y)=>{if(y&&(x.level=y.level+1,l<x.level&&(l=x.level)),x.children&&x.children.length&&x.children.some(k=>k.visible)){let k=0;x.children.forEach(B=>{B.visible&&(c(B,x),k+=B.colSpan)}),x.colSpan=k}else x.colSpan=1};e.forEach(x=>{x.level=1,c(x)});const p=[];for(let x=0;x<l;x++)p.push([]);return ga(e).forEach(x=>{x.children&&x.children.length&&x.children.some(y=>y.visible)?x.rowSpan=1:x.rowSpan=l-x.level+1,p[x.level-1].push(x)}),p};function bs(e,l,c){const p=e.internalData;return l||c?(p.intoRunScroll=!1,p.inVirtualScroll=!1,p.inWheelScroll=!1,p.inHeaderScroll=!1,p.inBodyScroll=!1,p.inFooterScroll=!1,p.scrollRenderType="",e.scrollTo(l,c)):e.clearScroll()}function nr(){return i.uniqueId("row_")}function Yc(e){return e.indexOf(".")>-1}function Kl(e){const{currKeyField:l}=e.internalData;return l}function Be(e,l){const c=e.internalData,{isCurrDeepKey:p,currKeyField:w}=c;return l?qr((p?Hs:Bs)(l,w)):""}function mi(e){const l=e.internalData,{isCurrDeepKey:c,currKeyField:p}=l,w=c?Uc:Zc;return{rowKey:p,handleUpdateRowId(x){return x?w(x,p):""}}}function po(e){const l=e.internalData,{isCurrDeepKey:c,currKeyField:p}=l,w=c?Hs:Bs;return{rowKey:p,handleGetRowId(x){return x?qr(w(x,p)):""}}}function qr(e){return i.eqNull(e)?"":encodeURIComponent(e)}function Hs(e,l){return i.get(e,l)}function Uc(e,l){let c=qr(Hs(e,l));return Ml(c)&&(c=nr(),i.set(e,l,c)),c}function Bs(e,l){return e[l]}function Zc(e,l){let c=qr(Bs(e,l));return Ml(c)&&(c=nr(),e[l]=c),c}const to=(e,l)=>l?i.isString(l)||i.isNumber(l)?e.getColumnByField(`${l}`):l:null,bi=(e,l)=>{if(l){const c=i.isString(l)||i.isNumber(l)?l:Be(e,l);return e.getRowById(c)}return null};function xi(e){if(e){const l=getComputedStyle(e),c=i.toNumber(l.paddingLeft),p=i.toNumber(l.paddingRight);return c+p}return 0}function Ll(e){if(e){const l=getComputedStyle(e),c=i.toNumber(l.marginLeft),p=i.toNumber(l.marginRight);return e.offsetWidth+c+p}return 0}function $s(e){return e&&i.isArray(e)?e.map(({label:l,value:c,data:p,resetValue:w,checked:x})=>({label:l,value:c,data:p,resetValue:w,checked:!!x,_checked:!!x})):e}function vi(e){return e.map((l,c)=>c%2===0?Number(l)+1:".").join("")}function bo(e,l){return i.get(e,l.field)}function dl(e,l,c){return i.set(e,l.field,c)}function Je(e){if(e){const l=e.value;if(l)return l.$el||l}return null}function Vr(e){return e==="unset"?0:e||0}function Ci(e){const{$table:l,column:c,cell:p}=e,w=l.props,x=l.internalData,{computeResizableOpts:y}=l.getComputeMaps(),k=y.value,{minWidth:B}=k;if(B){const he=i.isFunction(B)?B(e):B;if(he!=="auto")return Math.max(1,i.toNumber(he))}const{elemStore:U}=x,{showHeaderOverflow:f}=w,{showHeaderOverflow:d,minWidth:z}=c,N=i.isUndefined(d)||i.isNull(d)?f:d,V=N==="title"||(N===!0||N==="tooltip")||N==="ellipsis",K=i.floor((i.toNumber(getComputedStyle(p).fontSize)||14)*1.8),le=xi(p)+xi(Ol(p,".vxe-cell"));let Q=K+le;if(V){const he=Ll(Ol(p,".vxe-cell--drag-handle")),re=Ll(Ol(p,".vxe-cell--checkbox")),E=Ll(Ol(p,".vxe-cell--required-icon")),O=Ll(Ol(p,".vxe-cell--edit-icon")),L=Ll(Ol(p,".vxe-cell-title-prefix-icon")),ae=Ll(Ol(p,".vxe-cell-title-suffix-icon")),W=Ll(Ol(p,".vxe-cell--sort")),T=Ll(Ol(p,".vxe-cell--filter"));Q+=he+re+E+O+L+ae+T+W}if(z){const he=Je(U["main-body-scroll"]);if(he){if(Sn(z)){const E=(he.clientWidth-1)/100;return Math.max(Q,Math.floor(i.toInteger(z)*E))}else if(Ts(z))return Math.max(Q,i.toInteger(z))}}return Q}function $r(e){return e&&(e.constructor===Ms||e instanceof Ms)}function Qc(e,l,c){return $r(l)?l:vl(new Ms(e,l,c))}function ha(e,l,c){Object.keys(l).forEach(p=>{Tt(()=>l[p],w=>{c.update(p,w),e&&(p==="filters"?(e.setFilter(c,w),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(p)&&e.handleRefreshColumnQueue())})})}function ma(e,l,c,p){const{reactData:w}=e,{staticColumns:x}=w,y=l.parentNode,k=p?p.columnConfig:null,B=k?k.children:x;y&&B&&(B.splice(i.arrayIndexOf(y.children,l),0,c),w.staticColumns=x.slice(0))}function ba(e,l){const{reactData:c}=e,{staticColumns:p}=c,w=i.findTree(p,x=>x.id===l.id,{children:"children"});w&&w.items.splice(w.index,1),c.staticColumns=p.slice(0)}function wi(e,l){const{internalData:c}=e,{fullColumnIdData:p}=c;if(!l)return null;let w=l.parentId;for(;p[w];){const x=p[w].column;if(w=x.parentId,!w)return x}return l}const Jc={mini:3,small:2,medium:1,large:0},xa=(e,l)=>{let c=1;if(!e)return c;const{$table:p}=l,{computeTreeOpts:w}=p.getComputeMaps(),x=w.value,{transform:y,mapChildrenField:k}=x,B=x.children||x.childrenField,U=e[y?k:B];if(U&&p.isTreeExpandByRow(e))for(let f=0;f<U.length;f++)c+=xa(U[f],l);return c},va=e=>{const{computeSize:l}=e.getComputeMaps(),c=l.value;return c&&Jc[c]||0};function ed(e,l){const{$table:c,row:p}=e,w=c.props,x=c.reactData,y=c.internalData,{showOverflow:k}=w,{scrollYLoad:B}=x,{fullAllDataRowIdData:U}=y,{computeRowOpts:f,computeCellOpts:d,computeDefaultRowHeight:z}=c.getComputeMaps(),N=f.value,M=d.value,_=z.value,oe=Be(c,p),V=U[oe],K=V.resizeHeight||M.height||N.height||V.height||_;let le=1;l&&(le=xa(l,e));let Q=K;const he=V.height;return B&&(k||(Q=he||K)),Q*le-(l?1:12-va(c))}function td(e){const{props:l,internalData:c}=e;return c.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(l.keyboardConfig||l.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&l.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function od(e){return e.clearFilter&&e.clearFilter(),td(e)}function Ei(e,l){const c=e.props,p=e.reactData,w=e.internalData,{computeLeftFixedWidth:x,computeRightFixedWidth:y,computeRowOpts:k,computeCellOpts:B,computeDefaultRowHeight:U}=e.getComputeMaps(),{showOverflow:f}=c,{scrollYLoad:d,scrollYTop:z}=p,{elemStore:N,afterFullData:M,fullAllDataRowIdData:_,isResizeCellHeight:oe}=w,V=k.value,K=B.value,le=U.value,Q=x.value,he=y.value,re=Je(N["main-body-scroll"]),E=Be(e,l);if(re){const O=re.clientHeight,L=re.scrollTop,ae=re.querySelector(`[rowid="${E}"]`);if(ae){const W=ae.offsetTop+(d?z:0),T=ae.clientHeight;if(W<L||W>L+O)return e.scrollTo(null,W);if(W+T>=O+L)return e.scrollTo(null,L+T)}else if(d){if(!(oe||K.height||V.height)&&f)return e.scrollTo(null,(e.findRowIndexOf(M,l)-1)*le);let T=0;const G=_[E]||{},fe=G.resizeHeight||K.height||V.height||G.height||le;for(let Ie=0;Ie<M.length;Ie++){const Ee=M[Ie],Ae=Be(e,Ee);if(Ee===l||Ae===E)break;const Ce=_[Ae]||{};T+=Ce.resizeHeight||K.height||V.height||Ce.height||le}return T<L?e.scrollTo(null,T-Q-1):e.scrollTo(null,T+fe-(O-he-1))}}return Promise.resolve()}function yi(e,l,c){const p=e.reactData,w=e.internalData,{computeLeftFixedWidth:x,computeRightFixedWidth:y}=e.getComputeMaps(),{scrollXLoad:k,scrollXLeft:B}=p,{elemStore:U,visibleColumn:f}=w,d=x.value,z=y.value,N=Je(U["main-body-scroll"]);if(l.fixed)return Promise.resolve();if(N){const M=N.clientWidth,_=N.scrollLeft;let oe=null;if(c){const V=Be(e,c);oe=N.querySelector(`[rowid="${V}"] .${l.id}`)}if(oe||(oe=N.querySelector(`.${l.id}`)),oe){const V=oe.offsetLeft+(k?B:0),K=oe.clientWidth;if(V<_+d)return e.scrollTo(V-d-1);if(V+K-_>M-z)return e.scrollTo(V+K-(M-z-1))}else if(k){let V=0;const K=l.renderWidth;for(let le=0;le<f.length;le++){const Q=f[le];if(Q===l||Q.id===l.id)break;V+=Q.renderWidth}return V<_?e.scrollTo(V-d-1):e.scrollTo(V+K-(M-z-1))}}return Promise.resolve()}function Pl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Ca(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function wa(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Ao(e){return e==null?[]:i.isArray(e)?e:[e]}const{getI18n:Un,getIcon:Jt,renderer:tr,formats:Ri,renderEmptyElement:Ql}=ge;function ld(e){const{$table:l,column:c}=e,p=c.titlePrefix||c.titleHelp;return p?h("span",{class:["vxe-cell-title-prefix-icon",p.iconStatus?`theme--${p.iconStatus}`:""],onMouseenter(w){l.triggerHeaderTitleEvent(w,p,e)},onMouseleave(w){l.handleTargetLeaveEvent(w)}},[h("i",{class:p.icon||Jt().TABLE_TITLE_PREFIX})]):Ql(l)}function nd(e){const{$table:l,column:c}=e,p=c.titleSuffix;return p?h("span",{class:["vxe-cell-title-suffix-icon",p.iconStatus?`theme--${p.iconStatus}`:""],onMouseenter(w){l.triggerHeaderTitleEvent(w,p,e)},onMouseleave(w){l.handleTargetLeaveEvent(w)}},[h("i",{class:p.icon||Jt().TABLE_TITLE_SUFFIX})]):Ql(l)}function Si(e){const{$table:l,column:c}=e,{context:p}=l,w=p.slots,x=l.props,{slots:y}=c,{dragConfig:k}=x,{computeRowDragOpts:B}=l.getComputeMaps(),U=B.value,{icon:f,trigger:d,disabledMethod:z}=U,N=z||(k?k.rowDisabledMethod:null),M=N&&N(e),_=(y?y.rowDragIcon||y["row-drag-icon"]:null)||w.rowDragIcon||w["row-drag-icon"],oe={};return d!=="cell"&&(oe.onMousedown=V=>{M||l.handleCellDragMousedownEvent(V,e)},oe.onMouseup=l.handleCellDragMouseupEvent),h("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":M}]},oe),_?l.callSlot(_,e):[h("i",{class:f||(k?k.rowIcon:"")||Jt().TABLE_DRAG_ROW})])}function Fo(e,l){const{$table:c,column:p,level:w}=e,{dragSort:x}=p,y=c.props,{treeConfig:k,dragConfig:B}=y,{computeRowOpts:U,computeRowDragOpts:f,computeTreeOpts:d}=c.getComputeMaps(),z=U.value,N=f.value,M=d.value,{showIcon:_,isPeerDrag:oe,isCrossDrag:V,visibleMethod:K}=N,le=K||(B?B.rowVisibleMethod:null),Q=[];return x&&z.drag&&(_||B&&B.showRowIcon)&&(!le||le(e))&&(k?M.transform&&(oe||V||!w)&&Q.push(Si(e)):Q.push(Si(e))),Q.concat(i.isArray(l)?l:[l])}function rd(e){const{$table:l,column:c}=e,{context:p}=l,w=p.slots,{slots:x}=c,{computeColumnOpts:y,computeColumnDragOpts:k}=l.getComputeMaps(),B=y.value,U=k.value,{showIcon:f,icon:d,trigger:z,isPeerDrag:N,isCrossDrag:M,visibleMethod:_,disabledMethod:oe}=U;if(B.drag&&f&&(!_||_(e))&&!c.fixed&&(N||M||!c.parentId)){const V=oe&&oe(e),K=(x?x.columnDragIcon||x["column-drag-icon"]:null)||w.columnDragIcon||w["column-drag-icon"],le={};return z!=="cell"&&(le.onMousedown=Q=>{V||l.handleHeaderCellDragMousedownEvent(Q,e)},le.onMouseup=l.handleHeaderCellDragMouseupEvent),h("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":V}]},le),K?l.callSlot(K,e):[h("i",{class:d||Jt().TABLE_DRAG_COLUMN})])}return Ql(l)}function gl(e,l){return[ld(e),rd(e),...i.isArray(l)?l:[l],nd(e)]}function Hl(e,l){const{$table:c,column:p}=e,w=c.props,x=c.reactData,{computeTooltipOpts:y}=c.getComputeMaps(),{showHeaderOverflow:k}=w,{type:B,showHeaderOverflow:U}=p,d=y.value.showAll,z=i.isUndefined(U)||i.isNull(U)?k:U,N=z==="title",M=z===!0||z==="tooltip",_={};return(N||M||d)&&(_.onMouseenter=oe=>{x.isDragResize||(N?Ls(oe.currentTarget,p):(M||d)&&c.triggerHeaderTooltipEvent(oe,e))}),(M||d)&&(_.onMouseleave=oe=>{x.isDragResize||(M||d)&&c.handleTargetLeaveEvent(oe)}),[B==="html"&&i.isString(l)?h("span",Object.assign({class:"vxe-cell--title",innerHTML:l},_)):h("span",Object.assign({class:"vxe-cell--title"},_),Ao(l))]}function sd(e){const{$table:l,column:c,_columnIndex:p,items:w,row:x}=e,{slots:y,editRender:k,cellRender:B,footerFormatter:U}=c,f=k||B,d=y?y.footer:null;if(d)return l.callSlot(d,e);let z="";i.isArray(w)?z=w[p]:z=i.get(x,c.field);const N=Object.assign(e,{itemValue:z});if(U){if(i.isFunction(U))return[h("span",{class:"vxe-cell--label"},`${U(N)}`)];const M=i.isArray(U),_=M?Ri.get(U[0]):Ri.get(U),oe=_?_.tableFooterCellFormatMethod:null;return oe?[h("span",{class:"vxe-cell--label"},`${M?oe(N,...U.slice(1)):oe(N)}`)]:[h("span",{class:"vxe-cell--label"},"")]}if(f){const M=tr.get(f.name);if(M){const _=M.renderTableFooter||M.renderFooter;if(_)return Ao(_(f,N))}}return[h("span",{class:"vxe-cell--label"},Eo(z,1))]}function Oi(e){const{$table:l,row:c,column:p}=e;return Eo(l.getCellLabel(c,p),1)}function id(e){const{column:l,$table:c}=e,p=c.props,{editConfig:w}=p,{type:x,treeNode:y,rowGroupNode:k,editRender:B}=l,{computeEditOpts:U,computeCheckboxOpts:f}=c.getComputeMaps(),d=f.value,z=U.value,N=y||k;switch(x){case"seq":return N?dt.renderDeepIndexCell(e):dt.renderSeqCell(e);case"radio":return N?dt.renderDeepRadioCell(e):dt.renderRadioCell(e);case"checkbox":return d.checkField?N?dt.renderDeepSelectionCellByProp(e):dt.renderCheckboxCellByProp(e):N?dt.renderDeepSelectionCell(e):dt.renderCheckboxCell(e);case"expand":return dt.renderExpandCell(e);case"html":return N?dt.renderDeepHTMLCell(e):dt.renderHTMLCell(e)}return Ct(w)&&B?z.mode==="cell"?N?dt.renderDeepCellEdit(e):dt.renderCellEdit(e):N?dt.renderDeepRowEdit(e):dt.renderRowEdit(e):N?dt.renderDeepCell(e):dt.renderDefaultCell(e)}function ad(e){const{column:l,$table:c}=e,p=c.props,{editConfig:w}=p,{type:x,filters:y,sortable:k,editRender:B}=l;switch(x){case"seq":return dt.renderSeqHeader(e);case"radio":return dt.renderRadioHeader(e);case"checkbox":return dt.renderCheckboxHeader(e);case"html":if(y&&k)return dt.renderSortAndFilterHeader(e);if(k)return dt.renderSortHeader(e);if(y)return dt.renderFilterHeader(e);break}return w&&B?dt.renderEditHeader(e):y&&k?dt.renderSortAndFilterHeader(e):k?dt.renderSortHeader(e):y?dt.renderFilterHeader(e):dt.renderDefaultHeader(e)}function cd(e){return dt.renderDefaultFooter(e)}const dt={createColumn(e,l){const{type:c}=l,p={renderHeader:ad,renderCell:id,renderFooter:cd};return c==="expand"&&(p.renderData=dt.renderExpandData),Qc(e,l,p)},renderHeaderTitle(e){const{$table:l,column:c}=e,{slots:p,editRender:w,cellRender:x}=c,y=w||x,k=p?p.header:null;if(k)return Hl(e,l.callSlot(k,e));if(y){const B=tr.get(y.name);if(B){const U=B.renderTableHeader||B.renderHeader;if(U)return Hl(e,Ao(U(y,e)))}}return Hl(e,Eo(c.getTitle(),1))},renderDefaultHeader(e){return gl(e,dt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:l,row:c,column:p}=e,w=l.reactData,x=l.internalData,{isRowGroupStatus:y}=w,{slots:k,editRender:B,cellRender:U,rowGroupNode:f}=p,d=B||U,z=k?k.default:null;if(z)return Fo(e,l.callSlot(z,e));if(d){const _=tr.get(d.name);if(_){const oe=_.renderTableCell||_.renderCell,V=_.renderTableDefault||_.renderDefault,K=B?oe:V;if(K)return Fo(e,Ao(K(d,Object.assign({$type:B?"edit":"cell"},e))))}}let N="";if(y&&f&&c.isAggregate){const{fullColumnFieldData:_}=x,{computeRowGroupOpts:oe}=l.getComputeMaps(),V=oe.value,{showTotal:K,totalMethod:le,contentMethod:Q,mapChildrenField:he}=V,re=c.groupField;N=c.groupContent;const E=he?c[he]||[]:[],O=E.length,L=_[re]||{},ae={$table:l,groupField:re,groupColumn:L?L.column:null,column:p,groupValue:N,children:E,totalValue:O};Q&&(N=`${Q(ae)}`),K&&(N=Un("vxe.table.rowGroupContentTotal",[N,le?le(ae):O,O]))}else y&&c.isAggregate||(N=l.getCellLabel(c,p));const M=B?B.placeholder:"";return Fo(e,[h("span",{class:"vxe-cell--label"},[B&&Ml(N)?h("span",{class:"vxe-cell--placeholder"},Eo(Cl(M),1)):h("span",Eo(N,1))])])},renderDeepCell(e){return dt.renderDeepNodeBtn(e,dt.renderDefaultCell(e))},renderDefaultFooter(e){return sd(e)},renderRowGroupBtn(e,l){const{$table:c}=e,p=c.reactData,w=c.internalData,{row:x,level:y}=e,{computeRowGroupOpts:k}=c.getComputeMaps(),{rowGroupExpandedFlag:B}=p,{rowGroupExpandedMaps:U}=w,f=k.value,{padding:d,indent:z}=f,N=Be(c,x),M=!!B&&!!U[N];return h("div",{class:["vxe-row-group--tree-node",{"is--expanded":M}],style:d&&z?{paddingLeft:`${y*z}px`}:void 0},[h("span",{class:"vxe-row-group--node-btn",onClick(_){c.triggerRowGroupExpandEvent(_,e)}},[h("i",{class:M?Jt().TABLE_ROW_GROUP_OPEN:Jt().TABLE_ROW_GROUP_CLOSE})]),h("div",{class:"vxe-row-group-cell"},l)])},renderTreeNodeBtn(e,l){const{$table:c,isHidden:p}=e,w=c.reactData,x=c.internalData,{row:y,column:k,level:B}=e,{slots:U}=k,f=U?U.icon:null;if(f)return c.callSlot(f,e);const{computeTreeOpts:d}=c.getComputeMaps(),{treeExpandedFlag:z}=w,{fullAllDataRowIdData:N,treeExpandedMaps:M,treeExpandLazyLoadedMaps:_}=x,oe=d.value,{padding:V,indent:K,lazy:le,trigger:Q,iconLoaded:he,showIcon:re,iconOpen:E,iconClose:O}=oe,L=oe.children||oe.childrenField,ae=oe.hasChild||oe.hasChildField,W=y[L],T=W&&W.length;let G=!1,fe=!1,Ie=!1,Ee=!1;const Ae={};if(!p){const Ce=Be(c,y);if(fe=!!z&&!!M[Ce],le){const De=N[Ce];Ie=!!_[Ce],G=y[ae],Ee=!!De.treeLoaded}}return(!Q||Q==="default")&&(Ae.onClick=Ce=>{c.triggerTreeExpandEvent(Ce,e)}),h("div",{class:["vxe-cell--tree-node",{"is--active":fe}],style:V&&K?{paddingLeft:`${B*K}px`}:void 0},[re&&(le?Ee?T:T||G:T)?[h("div",Object.assign({class:"vxe-cell--tree-btn"},Ae),[h("i",{class:Ie?he||Jt().TABLE_TREE_LOADED:fe?E||Jt().TABLE_TREE_OPEN:O||Jt().TABLE_TREE_CLOSE})])]:null,h("div",{class:"vxe-tree-cell"},l)])},renderDeepNodeBtn(e,l){const{row:c,column:p}=e,{rowGroupNode:w}=p;return w&&c.isAggregate?[dt.renderRowGroupBtn(e,l)]:[dt.renderTreeNodeBtn(e,l)]},renderSeqHeader(e){const{$table:l,column:c}=e,{slots:p}=c,w=p?p.header:null;return gl(e,Hl(e,w?l.callSlot(w,e):Eo(c.getTitle(),1)))},renderSeqCell(e){const{$table:l,column:c}=e,p=l.props,{treeConfig:w}=p,{computeSeqOpts:x}=l.getComputeMaps(),y=x.value,{slots:k}=c,B=k?k.default:null;if(B)return Fo(e,l.callSlot(B,e));const{seq:U}=e,f=y.seqMethod;return Fo(e,[h("span",`${Eo(f?f(e):w?U:(y.startIndex||0)+U,1)}`)])},renderDeepIndexCell(e){return dt.renderDeepNodeBtn(e,dt.renderSeqCell(e))},renderRadioHeader(e){const{$table:l,column:c}=e,{slots:p}=c,w=p?p.header:null,x=p?p.title:null;return gl(e,Hl(e,w?l.callSlot(w,e):[h("span",{class:"vxe-radio--label"},x?l.callSlot(x,e):Eo(c.getTitle(),1))]))},renderRadioCell(e){const{$table:l,column:c,isHidden:p}=e,w=l.reactData,{computeRadioOpts:x}=l.getComputeMaps(),{selectRadioRow:y}=w,k=x.value,{slots:B}=c,{labelField:U,checkMethod:f,visibleMethod:d}=k,{row:z}=e,N=B?B.default:null,M=B?B.radio:null,_=l.eqRow(z,y),oe=!d||d({$table:l,row:z});let V=!!f,K;p||(K={onClick(he){!V&&oe&&l.triggerRadioRowEvent(he,e)}},f&&(V=!f({$table:l,row:z})));const le=Object.assign(Object.assign({},e),{checked:_,disabled:V,visible:oe});if(M)return Fo(e,l.callSlot(M,le));const Q=[];return oe&&Q.push(h("span",{class:["vxe-radio--icon",_?Jt().TABLE_RADIO_CHECKED:Jt().TABLE_RADIO_UNCHECKED]})),(N||U)&&Q.push(h("span",{class:"vxe-radio--label"},N?l.callSlot(N,le):i.get(z,U))),Fo(e,[h("span",Object.assign({class:["vxe-cell--radio",{"is--checked":_,"is--disabled":V}]},K),Q)])},renderDeepRadioCell(e){return dt.renderDeepNodeBtn(e,dt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:l,column:c,isHidden:p}=e,w=l.reactData,{computeIsAllCheckboxDisabled:x,computeCheckboxOpts:y}=l.getComputeMaps(),{isAllSelected:k,isIndeterminate:B}=w,U=x.value,{slots:f}=c,d=f?f.header:null,z=f?f.title:null,N=y.value,{checkStrictly:M,showHeader:_,headerTitle:oe}=N,V=c.getTitle(),K={};p||(K.onClick=Q=>{U||l.triggerCheckAllEvent(Q,!k)});const le=Object.assign(Object.assign({},e),{checked:k,disabled:U,indeterminate:B});return d?gl(e,Hl(le,l.callSlot(d,le))):(M?!_:_===!1)?gl(e,Hl(le,[h("span",{class:"vxe-checkbox--label"},z?l.callSlot(z,le):V)])):gl(e,Hl(le,[h("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":k,"is--disabled":U,"is--indeterminate":B}],title:i.eqNull(oe)?Un("vxe.table.allTitle"):`${oe||""}`},K),[h("span",{class:["vxe-checkbox--icon",B?Jt().TABLE_CHECKBOX_INDETERMINATE:k?Jt().TABLE_CHECKBOX_CHECKED:Jt().TABLE_CHECKBOX_UNCHECKED]})].concat(z||V?[h("span",{class:"vxe-checkbox--label"},z?l.callSlot(z,le):V)]:[]))]))},renderCheckboxCell(e){const{$table:l,row:c,column:p,isHidden:w}=e,x=l.props,y=l.reactData,k=l.internalData,{treeConfig:B}=x,{updateCheckboxFlag:U,isRowGroupStatus:f}=y,{selectCheckboxMaps:d,treeIndeterminateRowMaps:z}=k,{computeCheckboxOpts:N}=l.getComputeMaps(),M=N.value,{labelField:_,checkMethod:oe,visibleMethod:V}=M,{slots:K}=p,le=K?K.default:null,Q=K?K.checkbox:null;let he=!1,re=!1;const E=!V||V({$table:l,row:c});let O=!!oe;const L={};if(!w){const T=Be(l,c);re=!!U&&!!d[T],L.onClick=G=>{!O&&E&&l.triggerCheckRowEvent(G,e,!re)},oe&&(O=!oe({$table:l,row:c})),(B||f)&&(he=!!z[T])}const ae=Object.assign(Object.assign({},e),{checked:re,disabled:O,visible:E,indeterminate:he});if(Q)return Fo(e,l.callSlot(Q,ae));const W=[];return E&&W.push(h("span",{class:["vxe-checkbox--icon",he?Jt().TABLE_CHECKBOX_INDETERMINATE:re?Jt().TABLE_CHECKBOX_CHECKED:Jt().TABLE_CHECKBOX_UNCHECKED]})),(le||_)&&W.push(h("span",{class:"vxe-checkbox--label"},le?l.callSlot(le,ae):i.get(c,_))),Fo(e,[h("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":re,"is--disabled":O,"is--indeterminate":he,"is--hidden":!E}]},L),W)])},renderDeepSelectionCell(e){return dt.renderDeepNodeBtn(e,dt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:l,row:c,column:p,isHidden:w}=e,x=l.props,y=l.reactData,k=l.internalData,{treeConfig:B}=x,{updateCheckboxFlag:U,isRowGroupStatus:f}=y,{treeIndeterminateRowMaps:d}=k,{computeCheckboxOpts:z}=l.getComputeMaps(),N=z.value,{labelField:M,checkField:_,checkMethod:oe,visibleMethod:V}=N,K=N.indeterminateField||N.halfField,{slots:le}=p,Q=le?le.default:null,he=le?le.checkbox:null;let re=!1,E=!1;const O=!V||V({$table:l,row:c});let L=!!oe;const ae={};if(!w){const G=Be(l,c);E=!!U&&i.get(c,_),ae.onClick=fe=>{!L&&O&&l.triggerCheckRowEvent(fe,e,!E)},oe&&(L=!oe({$table:l,row:c})),(B||f)&&(re=!!d[G])}const W=Object.assign(Object.assign({},e),{checked:E,disabled:L,visible:O,indeterminate:re});if(he)return Fo(e,l.callSlot(he,W));const T=[];return O&&(T.push(h("span",{class:["vxe-checkbox--icon",re?Jt().TABLE_CHECKBOX_INDETERMINATE:E?Jt().TABLE_CHECKBOX_CHECKED:Jt().TABLE_CHECKBOX_UNCHECKED]})),(Q||M)&&T.push(h("span",{class:"vxe-checkbox--label"},Q?l.callSlot(Q,W):i.get(c,M)))),Fo(e,[h("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":L,"is--indeterminate":K&&!E?c[K]:re,"is--hidden":!O}]},ae),T)])},renderDeepSelectionCellByProp(e){return dt.renderDeepNodeBtn(e,dt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:l,isHidden:c,row:p,column:w}=e,x=l.reactData,y=l.internalData,{isRowGroupStatus:k}=x,{rowExpandedMaps:B,rowExpandLazyLoadedMaps:U}=y,{computeExpandOpts:f}=l.getComputeMaps(),d=f.value,{lazy:z,labelField:N,iconLoaded:M,showIcon:_,iconOpen:oe,iconClose:V,visibleMethod:K}=d,{slots:le}=w,Q=le?le.default:null,he=le?le.icon:null;let re=!1,E=!1;if(k&&p.isAggregate)return Fo(e,[]);if(he)return Fo(e,l.callSlot(he,e));if(!c){const O=Be(l,p);re=!!B[O],z&&(E=!!U[O])}return Fo(e,[_&&(!K||K(e))?h("span",{class:["vxe-table--expanded",{"is--active":re}],onMousedown(O){O.stopPropagation()},onClick(O){l.triggerRowExpandEvent(O,e)}},[h("i",{class:["vxe-table--expand-btn",E?M||Jt().TABLE_EXPAND_LOADED:re?oe||Jt().TABLE_EXPAND_OPEN:V||Jt().TABLE_EXPAND_CLOSE]})]):Ql(l),Q||N?h("span",{class:"vxe-table--expand-label"},Q?l.callSlot(Q,e):i.get(p,N)):Ql(l)])},renderExpandData(e){const{$table:l,column:c}=e,{slots:p,contentRender:w}=c,x=p?p.content:null;if(x)return l.callSlot(x,e);if(w){const y=tr.get(w.name);if(y){const k=y.renderTableExpand||y.renderExpand;if(k)return Ao(k(w,e))}}return[]},renderHTMLCell(e){const{$table:l,column:c}=e,{slots:p}=c,w=p?p.default:null;return w?Fo(e,l.callSlot(w,e)):Fo(e,[h("span",{class:"vxe-cell--html",innerHTML:Oi(e)})])},renderDeepHTMLCell(e){return dt.renderDeepNodeBtn(e,dt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return gl(e,dt.renderHeaderTitle(e).concat(dt.renderSortIcon(e).concat(dt.renderFilterIcon(e))))},renderSortHeader(e){return gl(e,dt.renderHeaderTitle(e).concat(dt.renderSortIcon(e)))},renderSortIcon(e){const{$table:l,column:c}=e,{computeSortOpts:p}=l.getComputeMaps(),w=p.value,{showIcon:x,allowBtn:y,ascTitle:k,descTitle:B,iconLayout:U,iconAsc:f,iconDesc:d,iconVisibleMethod:z}=w,{order:N}=c;return x&&(!z||z(e))?[h("span",{class:["vxe-cell--sort",`vxe-cell--sort-${U}-layout`]},[h("i",{class:["vxe-sort--asc-btn",f||Jt().TABLE_SORT_ASC,{"sort--active":N==="asc"}],title:i.eqNull(k)?Un("vxe.table.sortAsc"):`${k||""}`,onClick:y?M=>{M.stopPropagation(),l.triggerSortEvent(M,c,"asc")}:void 0}),h("i",{class:["vxe-sort--desc-btn",d||Jt().TABLE_SORT_DESC,{"sort--active":N==="desc"}],title:i.eqNull(B)?Un("vxe.table.sortDesc"):`${B||""}`,onClick:y?M=>{M.stopPropagation(),l.triggerSortEvent(M,c,"desc")}:void 0})])]:[]},renderFilterHeader(e){return gl(e,dt.renderHeaderTitle(e).concat(dt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:l,column:c,hasFilter:p}=e,w=l.reactData,{filterStore:x}=w,{computeFilterOpts:y}=l.getComputeMaps(),k=y.value,{showIcon:B,iconNone:U,iconMatch:f,iconVisibleMethod:d}=k;return B&&(!d||d(e))?[h("span",{class:["vxe-cell--filter",{"is--active":x.visible&&x.column===c}],onClick(z){l.triggerFilterEvent&&l.triggerFilterEvent(z,e.column,e)}},[h("i",{class:["vxe-filter--btn",p?f||Jt().TABLE_FILTER_MATCH:U||Jt().TABLE_FILTER_NONE],title:Un("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:l,column:c}=e,p=l.props,{computeEditOpts:w}=l.getComputeMaps(),{editConfig:x,editRules:y}=p,k=w.value,{sortable:B,filters:U,editRender:f}=c;let d=!1;if(y){const N=i.get(y,c.field);N&&(d=N.some(M=>M.required))}let z=[];return Ct(x)&&(z=[d&&k.showAsterisk?h("span",{class:"vxe-cell--required-icon"},[h("i")]):Ql(l),Ct(f)&&k.showIcon?h("span",{class:"vxe-cell--edit-icon"},[h("i",{class:k.icon||Jt().TABLE_EDIT})]):Ql(l)]),gl(e,z.concat(dt.renderHeaderTitle(e)).concat(B?dt.renderSortIcon(e):[]).concat(U?dt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:l,column:c}=e,p=l.reactData,{editStore:w}=p,{actived:x}=w,{editRender:y}=c;return dt.runRenderer(e,Ct(y)&&x&&x.row===e.row)},renderDeepRowEdit(e){return dt.renderDeepNodeBtn(e,dt.renderRowEdit(e))},renderCellEdit(e){const{$table:l,column:c}=e,p=l.reactData,{editStore:w}=p,{actived:x}=w,{editRender:y}=c;return dt.runRenderer(e,Ct(y)&&x&&x.row===e.row&&x.column===e.column)},renderDeepCellEdit(e){return dt.renderDeepNodeBtn(e,dt.renderCellEdit(e))},runRenderer(e,l){const{$table:c,column:p}=e,{slots:w,editRender:x,formatter:y}=p,k=w?w.default:null,B=w?w.edit:null,U=tr.get(x.name),f=U?U.renderTableEdit||U.renderEdit:null,d=Object.assign({$type:"",isEdit:l},e);return l?(d.$type="edit",B?c.callSlot(B,d):f?Ao(f(x,d)):[]):k?Fo(e,c.callSlot(k,d)):y?Fo(e,[h("span",{class:"vxe-cell--label"},Oi(d))]):dt.renderDefaultCell(d)}},Ea={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Vl=Yo({name:"VxeColumn",props:Ea,setup(e,{slots:l}){const c=je(),p=Ho("$xeTable",null),w=Ho("$xeColgroup",null);if(!p)return()=>et();const x=dt.createColumn(p,e);x.slots=l;const y=()=>h("div",{ref:c}),k={columnConfig:x,renderVN:y};return ha(p,e,x),on(()=>{const B=c.value;B&&ma(p,B,x,w)}),ln(()=>{ba(p,x)}),tn("$xeColumn",k),tn("$xeGrid",null),y}}),Ps=Object.assign({},Vl,{install(e){e.component(Vl.name,Vl),e.component("VxeTableColumn",Vl)}});ge.dynamicApp&&(ge.dynamicApp.component(Vl.name,Vl),ge.dynamicApp.component("VxeTableColumn",Vl));ge.component(Vl);const dd=Ps,Nl=Yo({name:"VxeColgroup",props:Ea,setup(e,{slots:l}){const c=je(),p=Ho("$xeTable",null),w=Ho("$xeColgroup",null);if(!p)return()=>et();const x=dt.createColumn(p,e),y={};l.header&&(y.header=l.header),x.slots=y,x.children=[],ha(p,e,x),on(()=>{const U=c.value;U&&ma(p,U,x,w)}),ln(()=>{ba(p,x)});const k=()=>h("div",{ref:c},l.default?l.default():[]);return tn("$xeColgroup",{columnConfig:x}),tn("$xeGrid",null),k}}),Vs=Object.assign({},Nl,{install(e){e.component(Nl.name,Nl),e.component("VxeTableColgroup",Nl)}});ge.dynamicApp&&(ge.dynamicApp.component(Nl.name,Nl),ge.dynamicApp.component("VxeTableColgroup",Nl));ge.component(Nl);const ud=Vs,{getI18n:fd,renderer:Di,renderEmptyElement:xs}=ge,Or="body",Mi=Yo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const l=Ho("$xeTable",{}),{xID:c,props:p,context:w,reactData:x,internalData:y}=l,{computeEditOpts:k,computeMouseOpts:B,computeCellOffsetWidth:U,computeAreaOpts:f,computeDefaultRowHeight:d,computeEmptyOpts:z,computeTooltipOpts:N,computeRadioOpts:M,computeExpandOpts:_,computeTreeOpts:oe,computeCheckboxOpts:V,computeCellOpts:K,computeValidOpts:le,computeRowOpts:Q,computeColumnOpts:he,computeRowDragOpts:re,computeColumnDragOpts:E,computeResizableOpts:O,computeVirtualXOpts:L,computeVirtualYOpts:ae}=l.getComputeMaps(),W=je(),T=je(),G=je(),fe=je(),Ie=je(),Ee=je(),Ae=je(),Ce=je(),De=()=>{const{delayHover:te}=p,{lastScrollTime:Y,isDragResize:J}=x;return!!(J||Y&&Date.now()<Y+te)},Se=(te,Y,J)=>{const{row:be,column:ee}=Y,{afterFullData:Re}=y,{treeConfig:ne}=p,ce=oe.value,{slots:Me,treeNode:me}=ee,{fullAllDataRowIdData:Z}=y;if(Me&&Me.line)return l.callSlot(Me.line,Y);const Fe=Z[te];let we=0,Ye=null;return Fe&&(we=Fe.level,Ye=Fe.items[Fe.treeIndex-1]),ne&&me&&(ce.showLine||ce.line)?[h("div",{key:"tl",class:"vxe-tree--line-wrapper"},[h("div",{class:"vxe-tree--line",style:{height:`${l.eqRow(Re[0],be)?1:ed(Y,Ye)}px`,bottom:`-${Math.floor(J/2)}px`,left:`${we*ce.indent+(we?2-va(l):0)+16}px`}})])]:[]},$=(te,Y,J,be,ee,Re,ne,ce,Me,me,Z,Fe,we)=>{const Ye=l.xeGrid,{columnKey:_e,resizable:Xe,showOverflow:He,border:nt,height:yt,treeConfig:Et,cellClassName:rt,cellStyle:gt,align:vt,spanMethod:qe,mouseConfig:Ge,editConfig:ut,editRules:We,tooltipConfig:st,padding:xe}=p,{tableData:Le,dragRow:ot,overflowX:Qe,currentColumn:X,scrollXLoad:pe,scrollYLoad:se,mergeBodyFlag:Oe,calcCellHeightFlag:ke,resizeHeightFlag:lt,resizeWidthFlag:it,editStore:xt,isAllOverflow:mt,validErrorMaps:Ot}=x,{fullAllDataRowIdData:qt,fullColumnIdData:Ze,mergeBodyCellMaps:wt,visibleColumn:It,afterFullData:Qt,mergeBodyList:go,scrollXStore:oo,scrollYStore:zt}=y,_t=K.value,kt=le.value,tt=V.value,Ft=k.value,ho=N.value,Nt=O.value,no=L.value,$t=ae.value,{isAllColumnDrag:ro,isAllRowDrag:So}=Nt,Wt=Q.value,so=re.value,To=d.value,yo=ke?_t.height||Wt.height:0,{disabledMethod:fo,isCrossDrag:Oo,isPeerDrag:eo}=so,St=he.value,ht=B.value,ul=f.value,ll=U.value,{selectCellToRow:nl}=ul,{type:Uo,cellRender:sr,editRender:An,align:ir,showOverflow:Ln,className:Ur,treeNode:Zr,rowResize:Qr,padding:ar,verticalAlign:cr,slots:dr}=me,{verticalAlign:r}=_t,{actived:Hn}=xt,nn=qt[Y]||{},fl=me.id,Bn=Ze[fl]||{},ur=An||sr,Zo=ur?Di.get(ur.name):null,$n=Zo?Zo.tableCellClassName||Zo.cellClassName:null,jl=Zo?Zo.tableCellStyle||Zo.cellStyle:"",wl=ho.showAll,fr=Bn.index,Tl=Bn._index,Pn=Ct(An),pr=lt?nn.resizeHeight:0;let rl=J?me.fixed!==J:me.fixed&&Qe;const Jr=i.eqNull(ar)?xe===null?_t.padding:xe:ar,rn=i.eqNull(Ln)?He:Ln,Vn=rn==="ellipsis",El=rn==="title",sl=rn===!0||rn==="tooltip",Il=mt||El||sl||Vn,gr=i.isBoolean(me.resizable)?me.resizable:St.resizable||Xe,hr=!!yo,Nn=pr>0;let jn;const pl={},sn=ir||(Zo?Zo.tableCellAlign:"")||vt,an=i.eqNull(cr)?r:cr,yl=Ot[`${Y}:${fl}`],cn=We&&kt.showMessage&&(kt.message==="default"?yt||Le.length>1:kt.message==="inline"),Qo={colid:fl},mo={$table:l,$grid:Ye,isEdit:!1,seq:te,rowid:Y,row:Re,rowIndex:ne,$rowIndex:ce,_rowIndex:Me,column:me,columnIndex:fr,$columnIndex:Z,_columnIndex:Tl,fixed:J,type:Or,isHidden:!!rl,level:ee,visibleData:Qt,data:Le,items:we};let Jo=!1,el=!1;Wt.drag&&(Jo=so.trigger==="row"||me.dragSort&&so.trigger==="cell"),Jo&&(el=!!(fo&&fo(mo))),(El||sl||wl||st)&&(pl.onMouseenter=Dt=>{De()||(El?Ls(Dt.currentTarget,me):(sl||wl)&&l.triggerBodyTooltipEvent(Dt,mo),l.dispatchEvent("cell-mouseenter",Object.assign({cell:Dt.currentTarget},mo),Dt))}),(sl||wl||st)&&(pl.onMouseleave=Dt=>{De()||((sl||wl)&&l.handleTargetLeaveEvent(Dt),l.dispatchEvent("cell-mouseleave",Object.assign({cell:Dt.currentTarget},mo),Dt))}),(Jo||tt.range||Ge)&&(pl.onMousedown=Dt=>{l.triggerCellMousedownEvent(Dt,mo)}),Jo&&(pl.onMouseup=l.triggerCellMouseupEvent),pl.onClick=Dt=>{l.triggerCellClickEvent(Dt,mo)},pl.onDblclick=Dt=>{l.triggerCellDblclickEvent(Dt,mo)};let dn=!1;if(Oe&&go.length){const Dt=wt[`${Me}:${Tl}`];if(Dt){const{rowspan:Co,colspan:Io}=Dt;if(!Co||!Io)return null;Co>1&&(dn=!0,Qo.rowspan=Co),Io>1&&(dn=!0,Qo.colspan=Io)}}else if(qe){const{rowspan:Dt=1,colspan:Co=1}=qe(mo)||{};if(!Dt||!Co)return null;Dt>1&&(Qo.rowspan=Dt),Co>1&&(Qo.colspan=Co)}rl&&dn&&(Qo.colspan>1||Qo.rowspan>1)&&(rl=!1),!rl&&ut&&(An||sr)&&(Ft.showStatus||Ft.showUpdateStatus)&&(jn=l.isUpdateByRow(Re,me.field));const Ro=se&&!Il,Rl=nn.resizeHeight||_t.height||Wt.height||nn.height||To,zn=Z===Fe.length-1,es=!me.resizeWidth&&(me.minWidth==="auto"||me.width==="auto");let un=!1;dn||(!ot||Be(l,ot)!==Y)&&(se&&!Et&&!$t.immediate&&(Me<zt.visibleStartIndex-zt.preloadSize||Me>zt.visibleEndIndex+zt.preloadSize)||pe&&!no.immediate&&!me.fixed&&(Tl<oo.visibleStartIndex-oo.preloadSize||Tl>oo.visibleEndIndex+oo.preloadSize))&&(un=!0);const zl={};if(Il&&it){let Dt=Qo.colspan||0;if(Dt>1)for(let Co=1;Co<Dt;Co++){const Io=It[fr+Co];Io&&(Dt+=Io.renderWidth)}zl.width=`${me.renderWidth-ll*Dt}px`}se||Il||hr||Nn?zl.height=`${Rl}px`:zl.minHeight=`${Rl}px`;const kl=[];if(rl&&mt)kl.push(h("div",{key:"tc",class:["vxe-cell",{"c--title":El,"c--tooltip":sl,"c--ellipsis":Vn}],style:zl}));else if(kl.push(...Se(Y,mo,Rl),h("div",{key:"tc",class:["vxe-cell",{"c--title":El,"c--tooltip":sl,"c--ellipsis":Vn}],style:zl,title:El?l.getCellLabel(Re,me):null},un?[]:[h("div",{colid:fl,rowid:Y,class:"vxe-cell--wrapper"},me.renderCell(mo))])),cn&&yl){const Dt=yl.rule,Co=dr?dr.valid:null,Io=Object.assign(Object.assign(Object.assign({},mo),yl),{rule:yl});kl.push(h("div",{key:"tcv",class:["vxe-cell--valid-error-tip",$l(kt.className,Io)],style:Dt&&Dt.maxWidth?{width:`${Dt.maxWidth}px`}:null},[h("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${kt.theme||"normal"}`},[Co?l.callSlot(Co,Io):[h("span",{class:"vxe-cell--valid-error-msg"},yl.content)]])]))}let mr=!1;return Ge&&ht.area&&nl&&(!Tl&&nl===!0||nl===me.field)&&(mr=!0),!rl&&gr&&ro&&kl.push(h("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!nt||nt==="none"}],onMousedown:Dt=>l.handleColResizeMousedownEvent(Dt,J,mo),onDblclick:Dt=>l.handleColResizeDblclickEvent(Dt,mo)})),(Qr||So)&&Wt.resizable&&kl.push(h("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Dt=>l.handleRowResizeMousedownEvent(Dt,mo),onDblclick:Dt=>l.handleRowResizeDblclickEvent(Dt,mo)})),h("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",fl,an?`col--vertical-${an}`:"",sn?`col--${sn}`:"",Uo?`col--${Uo}`:"",{"col--last":zn,"col--tree-node":Zr,"col--edit":Pn,"col--ellipsis":Il,"col--cs-height":hr,"col--rs-height":Nn,"col--to-row":mr,"col--auto-height":Ro,"fixed--width":!es,"fixed--hidden":rl,"is--padding":Jr,"is--progress":rl&&mt||un,"is--drag-cell":Jo&&(Oo||eo||!ee),"is--drag-disabled":el,"col--dirty":jn,"col--active":ut&&Pn&&Hn.row===Re&&(Hn.column===me||Ft.mode==="row"),"col--valid-error":!!yl,"col--current":X===me},$l($n,mo),$l(Ur,mo),$l(rt,mo)],key:_e||pe||se||St.useKey||Wt.useKey||St.drag?fl:Z},Qo),{style:Object.assign({},i.isFunction(jl)?jl(mo):jl,i.isFunction(gt)?gt(mo):gt)}),pl),be&&rl?[]:kl)},ue=(te,Y,J,be)=>{const ee=l.xeGrid,{stripe:Re,rowKey:ne,highlightHoverRow:ce,rowClassName:Me,rowStyle:me,editConfig:Z,treeConfig:Fe}=p,{hasFixedColumn:we,treeExpandedFlag:Ye,isColLoading:_e,scrollXLoad:Xe,scrollYLoad:He,isAllOverflow:nt,rowExpandedFlag:yt,expandColumn:Et,selectRadioRow:rt,pendingRowFlag:gt,isDragColMove:vt,rowExpandHeightFlag:qe,isRowGroupStatus:Ge}=x,{fullAllDataRowIdData:ut,fullColumnIdData:We,treeExpandedMaps:st,pendingRowMaps:xe,rowExpandedMaps:Le}=y,ot=V.value,Qe=M.value,X=oe.value,pe=k.value,se=Q.value,Oe=he.value,ke=E.value,{transform:lt,seqMode:it}=X,xt=X.children||X.childrenField,mt=[],{handleGetRowId:Ot}=po(l),qt=Fe||Ge;return J.forEach((Ze,wt)=>{const It=Ot(Ze),Qt=ut[It]||{};let go=wt,oo=0,zt=-1,_t=-1;const kt=Ge&&Ze.isAggregate,tt={};(se.isHover||ce)&&(tt.onMouseenter=Wt=>{De()||l.triggerHoverEvent(Wt,{row:Ze,rowIndex:go})},tt.onMouseleave=()=>{De()||l.clearHoverRow()}),Qt&&(oo=Qt.level,kt||Fe&&lt&&it==="increasing"?zt=Qt._index+1:zt=Qt.seq,go=Qt.index,_t=Qt._index);const Ft={$table:l,seq:zt,rowid:It,fixed:te,type:Or,level:oo,row:Ze,rowIndex:go,$rowIndex:wt,_rowIndex:_t},ho=Et&&!!yt&&!!Le[It];let Nt=!1,no=[],$t=!1;Z&&($t=l.isInsertByRow(Ze)),Fe&&!He&&!lt&&(no=Ze[xt],Nt=!!Ye&&no&&no.length>0&&!!st[It]),se.drag&&!Ge&&(!Fe||lt)&&(tt.onDragstart=l.handleRowDragDragstartEvent,tt.onDragend=l.handleRowDragDragendEvent,tt.onDragover=l.handleRowDragDragoverEvent);const ro=["vxe-body--row",qt?`row--level-${oo}`:"",{"row--stripe":Re&&(_t+1)%2===0,"is--new":$t,"is--expand-row":ho,"is--expand-tree":Nt,"row--new":$t&&(pe.showStatus||pe.showInsertStatus),"row--radio":Qe.highlight&&l.eqRow(rt,Ze),"row--checked":ot.highlight&&l.isCheckedByCheckboxRow(Ze),"row--pending":!!gt&&!!xe[It],"row--group":kt},$l(Me,Ft)],So=be.map((Wt,so)=>$(zt,It,te,Y,oo,Ze,go,wt,_t,Wt,so,be,J));if(mt.push(!_e&&Oe.drag&&ke.animation?h(In,Object.assign({name:`vxe-header--col-list${vt?"":"-disabled"}`,tag:"tr",class:ro,rowid:It,style:me?i.isFunction(me)?me(Ft):me:null,key:ne||Xe||He||se.useKey||se.drag||Oe.drag||Ge||Fe?It:wt},tt),{default:()=>So}):h("tr",Object.assign({class:ro,rowid:It,style:me?i.isFunction(me)?me(Ft):me:null,key:ne||Xe||He||se.useKey||se.drag||Oe.drag||Ge||Fe?It:wt},tt),So)),ho){const Wt=_.value,{height:so,padding:To,mode:yo}=Wt;if(yo==="fixed")mt.push(h("tr",{class:"vxe-body--row-expanded-place",key:`expand_${It}`,rowid:It},[h("td",{class:"vxe-body--row-expanded-place-column",colspan:be.length,style:{height:`${qe?Qt.expandHeight||so:0}px`}})]));else{const fo={};so&&(fo.height=`${so}px`),Fe&&(fo.paddingLeft=`${oo*X.indent+30}px`);const{showOverflow:Oo}=Et||{},eo=Et.id,St=We[eo]||{},ht=i.isUndefined(Oo)||i.isNull(Oo)?nt:Oo;let ul=-1,ll=-1,nl=-1;St&&(ul=St.index,ll=St.$index,nl=St._index);const Uo={$grid:ee,$table:l,seq:zt,column:Et,columnIndex:ul,$columnIndex:ll,_columnIndex:nl,fixed:te,type:Or,level:oo,row:Ze,rowid:It,rowIndex:go,$rowIndex:wt,_rowIndex:_t,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};mt.push(h("tr",{class:["vxe-body--expanded-row",{"is--padding":To}],key:`expand_${It}`},[h("td",{class:["vxe-body--expanded-column",{"fixed--hidden":te&&!we,"col--ellipsis":ht}],colspan:be.length},[h("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":so}],style:fo},[Et.renderData(Uo)])])]))}}Nt&&mt.push(...ue(te,Y,no,be))}),mt};return on(()=>{de(()=>{const{fixedType:te}=e,{elemStore:Y}=y,J=`${te||"main"}-body-`;Y[`${J}wrapper`]=W,Y[`${J}scroll`]=T,Y[`${J}table`]=G,Y[`${J}colgroup`]=fe,Y[`${J}list`]=Ie,Y[`${J}xSpace`]=Ee,Y[`${J}ySpace`]=Ae,Y[`${J}emptyBlock`]=Ce})}),ln(()=>{const{fixedType:te}=e,{elemStore:Y}=y,J=`${te||"main"}-body-`;Y[`${J}wrapper`]=null,Y[`${J}scroll`]=null,Y[`${J}table`]=null,Y[`${J}colgroup`]=null,Y[`${J}list`]=null,Y[`${J}xSpace`]=null,Y[`${J}ySpace`]=null,Y[`${J}emptyBlock`]=null}),()=>{const{slots:te}=w,Y=l.xeGrid,{fixedColumn:J,fixedType:be,tableColumn:ee}=e,{spanMethod:Re,footerSpanMethod:ne,mouseConfig:ce}=p,{isGroup:Me,tableData:me,isRowLoading:Z,isColLoading:Fe,overflowX:we,scrollXLoad:Ye,scrollYLoad:_e,isAllOverflow:Xe,isDragRowMove:He,expandColumn:nt,dragRow:yt,dragCol:Et}=x,{visibleColumn:rt,fullAllDataRowIdData:gt,fullColumnIdData:vt}=y,qe=Q.value,Ge=z.value,ut=B.value,We=re.value,st=_.value;let xe=me,Le=ee,ot=!1;if((Ye||_e||Xe)&&(nt&&st.mode!=="fixed"||Re||ne||(ot=!0)),!Fe&&(be||!we)&&(Le=rt),be&&ot&&(Le=J||[]),_e&&yt&&xe.length>2){const se=gt[Be(l,yt)];if(se){const Oe=se._index,ke=xe[0],lt=xe[xe.length-1],it=gt[Be(l,ke)],xt=gt[Be(l,lt)];if(it&&xt){const mt=it._index,Ot=xt._index;Oe<mt?xe=[yt].concat(xe):Oe>Ot&&(xe=xe.concat([yt]))}}}if(!be&&!Me&&Ye&&Et&&Le.length>2){const se=vt[Et.id];if(se){const Oe=se._index,ke=Le[0],lt=Le[Le.length-1],it=vt[ke.id],xt=vt[lt.id];if(it&&xt){const mt=it._index,Ot=xt._index;Oe<mt?Le=[Et].concat(Le):Oe>Ot&&(Le=Le.concat([Et]))}}}let Qe;const X=te?te.empty:null;if(X)Qe=l.callSlot(X,{$table:l,$grid:Y});else{const se=Ge.name?Di.get(Ge.name):null,Oe=se?se.renderTableEmpty||se.renderTableEmptyView||se.renderEmpty:null;Oe?Qe=Ao(Oe(Ge,{$table:l})):Qe=p.emptyText||fd("vxe.table.emptyText")}const pe={onScroll(se){l.triggerBodyScrollEvent(se,be)}};return h("div",{ref:W,class:["vxe-table--body-wrapper",be?`fixed-${be}--wrapper`:"body--wrapper"],xid:c},[h("div",Object.assign({ref:T,class:"vxe-table--body-inner-wrapper"},pe),[be?xs(l):h("div",{ref:Ee,class:"vxe-body--x-space"}),h("div",{ref:Ae,class:"vxe-body--y-space"}),h("table",{ref:G,class:"vxe-table--body",xid:c,cellspacing:0,cellpadding:0,border:0,xvm:ot?"1":null},[h("colgroup",{ref:fe},Le.map((se,Oe)=>h("col",{name:se.id,key:Oe,style:{width:`${se.renderWidth}px`}}))),!(Z||Fe)&&qe.drag&&We.animation?h(In,{ref:Ie,name:`vxe-body--row-list${He?"":"-disabled"}`,tag:"tbody"},{default:()=>ue(be,ot,xe,Le)}):h("tbody",{ref:Ie},ue(be,ot,xe,Le))]),h("div",{class:"vxe-table--checkbox-range"}),ce&&ut.area?h("div",{class:"vxe-table--cell-area"},[h("span",{class:"vxe-table--cell-main-area"},ut.extension?[h("span",{class:"vxe-table--cell-main-area-btn",onMousedown(se){l.triggerCellAreaExtendMousedownEvent&&l.triggerCellAreaExtendMousedownEvent(se,{$table:l,fixed:be,type:Or})}})]:[]),h("span",{class:"vxe-table--cell-copy-area"}),h("span",{class:"vxe-table--cell-extend-area"}),h("span",{class:"vxe-table--cell-multi-area"}),h("span",{class:"vxe-table--cell-active-area"}),h("span",{class:"vxe-table--cell-row-status-area"})]):xs(l),be?xs(l):h("div",{class:"vxe-table--empty-block",ref:Ce},[h("div",{class:"vxe-table--empty-content"},Qe)])])])}}}),{renderer:pd,renderEmptyElement:vs}=ge,Fi="header",Ti=Yo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const l=Ho("$xeTable",{}),{xID:c,props:p,reactData:w,internalData:x}=l,{computeColumnOpts:y,computeColumnDragOpts:k,computeCellOpts:B,computeMouseOpts:U,computeHeaderCellOpts:f,computeDefaultRowHeight:d,computeVirtualXOpts:z}=l.getComputeMaps(),N=je([]),M=je(),_=je(),oe=je(),V=je(),K=je(),le=je(),Q=je(),he=()=>{const{isGroup:L}=w;N.value=L?Kc(e.tableGroupColumn):[]},re=(L,ae,W,T)=>{const G=l.xeGrid,{fixedType:fe}=e,{resizable:Ie,columnKey:Ee,headerCellClassName:Ae,headerCellStyle:Ce,showHeaderOverflow:De,headerAlign:Se,align:$,mouseConfig:ue}=p,{currentColumn:ie,dragCol:te,scrollXLoad:Y,scrollYLoad:J,overflowX:be}=w,{fullColumnIdData:ee,scrollXStore:Re}=x,ne=z.value,ce=y.value,Me=k.value,me=B.value,Z=d.value,Fe=f.value,we=Vr(Fe.height)||Z,{disabledMethod:Ye,isCrossDrag:_e,isPeerDrag:Xe}=Me;return W.map((He,nt)=>{const{type:yt,showHeaderOverflow:Et,headerAlign:rt,align:gt,filters:vt,headerClassName:qe,editRender:Ge,cellRender:ut}=He,We=He.id,st=ee[We]||{},xe=Ge||ut,Le=xe?pd.get(xe.name):null,ot=He.children&&He.children.length,Qe=fe?He.fixed!==fe&&!ot:!!He.fixed&&be,X=i.isBoolean(Fe.padding)?Fe.padding:me.padding,pe=i.eqNull(Et)?De:Et,se=rt||(Le?Le.tableHeaderCellAlign:"")||Se||gt||(Le?Le.tableCellAlign:"")||$,Oe=pe==="ellipsis",ke=pe==="title",lt=pe===!0||pe==="tooltip",it=ke||lt||Oe;let xt=!1,mt=null;vt&&(mt=vt[0],xt=vt.some(Ft=>Ft.checked));const Ot=st.index,qt=st._index,Ze={$table:l,$grid:G,$rowIndex:T,column:He,columnIndex:Ot,$columnIndex:nt,_columnIndex:qt,firstFilterOption:mt,fixed:fe,type:Fi,isHidden:Qe,hasFilter:xt},wt={colid:We,colspan:He.colSpan>1?He.colSpan:null,rowspan:He.rowSpan>1?He.rowSpan:null},It={onClick:Ft=>l.triggerHeaderCellClickEvent(Ft,Ze),onDblclick:Ft=>l.triggerHeaderCellDblclickEvent(Ft,Ze)},Qt=ce.drag&&Me.trigger==="cell";let go=!1;Qt&&(go=!!(Ye&&Ye(Ze))),(ue||Qt)&&(It.onMousedown=Ft=>l.triggerHeaderCellMousedownEvent(Ft,Ze)),ce.drag&&(It.onDragstart=l.handleHeaderCellDragDragstartEvent,It.onDragend=l.handleHeaderCellDragDragendEvent,It.onDragover=l.handleHeaderCellDragDragoverEvent,Qt&&(It.onMouseup=l.handleHeaderCellDragMouseupEvent));const oo=nt===W.length-1,zt=i.isBoolean(He.resizable)?He.resizable:ce.resizable||Ie,_t=!He.resizeWidth&&(He.minWidth==="auto"||He.width==="auto");let kt=!1;ae&&!L&&(!te||te.id!==We)&&Y&&!He.fixed&&!ne.immediate&&(qt<Re.visibleStartIndex-Re.preloadSize||qt>Re.visibleEndIndex+Re.preloadSize)&&(kt=!0);const tt={};return it?tt.height=`${we}px`:tt.minHeight=`${we}px`,h("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",We,{[`col--${se}`]:se,[`col--${yt}`]:yt,"col--last":oo,"col--fixed":He.fixed,"col--group":ot,"col--ellipsis":it,"fixed--width":!_t,"fixed--hidden":Qe,"is--padding":X,"is--sortable":He.sortable,"col--filter":!!vt,"is--filter-active":xt,"is--drag-active":ce.drag&&!He.fixed&&!go&&(_e||Xe||!He.parentId),"is--drag-disabled":ce.drag&&go,"col--current":ie===He},qe?i.isFunction(qe)?qe(Ze):qe:"",Ae?i.isFunction(Ae)?Ae(Ze):Ae:""],style:Ce?i.isFunction(Ce)?Ce(Ze):Ce:null},wt),It),{key:Ee||Y||J||ce.useKey||ce.drag||ot?We:nt}),[h("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":lt,"c--ellipsis":Oe}],style:tt},kt||ae&&Qe?[]:[h("div",{colid:We,class:"vxe-cell--wrapper"},He.renderHeader(Ze))]),!Qe&&zt?h("div",{class:"vxe-cell--col-resizable",onMousedown:Ft=>l.handleColResizeMousedownEvent(Ft,fe,Ze),onDblclick:Ft=>l.handleColResizeDblclickEvent(Ft,Ze)}):vs(l)])})},E=(L,ae,W)=>{const{fixedType:T}=e,{headerRowClassName:G,headerRowStyle:fe}=p,{isColLoading:Ie,isDragColMove:Ee}=w,Ae=y.value,Ce=k.value;return W.map((De,Se)=>{const $={$table:l,$rowIndex:Se,fixed:T,type:Fi};return!Ie&&Ae.drag&&Ce.animation?h(In,{key:Se,name:`vxe-header--col-list${Ee?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",G?i.isFunction(G)?G($):G:""],style:fe?i.isFunction(fe)?fe($):fe:null},{default:()=>re(L,ae,De,Se)}):h("tr",{key:Se,class:["vxe-header--row",G?i.isFunction(G)?G($):G:""],style:fe?i.isFunction(fe)?fe($):fe:null},re(L,ae,De,Se))})},O=()=>{const{fixedType:L,fixedColumn:ae,tableColumn:W}=e,{mouseConfig:T,showHeaderOverflow:G,spanMethod:fe,footerSpanMethod:Ie}=p,{isGroup:Ee,isColLoading:Ae,overflowX:Ce,scrollXLoad:De,dragCol:Se}=w,{visibleColumn:$,fullColumnIdData:ue}=x,ie=U.value;let te=N.value,Y=W,J=!1;if(Ee?Y=$:(De&&G&&(fe||Ie||(J=!0)),(!J||!Ae&&(L||!Ce))&&(Y=$),L&&J&&(Y=ae||[]),te=[Y]),!L&&!Ee&&De&&Se&&Y.length>2){const be=ue[Se.id];if(be){const ee=be._index,Re=Y[0],ne=Y[Y.length-1],ce=ue[Re.id],Me=ue[ne.id];if(ce&&Me){const me=ce._index,Z=Me._index;ee<me?(Y=[Se].concat(Y),te=[[Se].concat(te[0])].concat(te.slice(1))):ee>Z&&(Y=Y.concat([Se]),te=[te[0].concat([Se])].concat(te.slice(1)))}}}return h("div",{ref:M,class:["vxe-table--header-wrapper",L?`fixed-${L}--wrapper`:"body--wrapper"],xid:c},[h("div",{ref:_,class:"vxe-table--header-inner-wrapper",onScroll(be){l.triggerHeaderScrollEvent(be,L)}},[L?vs(l):h("div",{ref:le,class:"vxe-body--x-space"}),h("table",{ref:oe,class:"vxe-table--header",xid:c,cellspacing:0,cellpadding:0,border:0,xvm:J?"1":null},[h("colgroup",{ref:V},Y.map((be,ee)=>h("col",{name:be.id,key:ee,style:{width:`${be.renderWidth}px`}}))),h("thead",{ref:K},E(Ee,J,te))]),T&&ie.area?h("div",{class:"vxe-table--cell-area"},[h("span",{class:"vxe-table--cell-main-area"}),h("span",{class:"vxe-table--cell-copy-area"}),h("span",{class:"vxe-table--cell-extend-area"}),h("span",{class:"vxe-table--cell-multi-area"}),h("span",{class:"vxe-table--cell-active-area"}),h("span",{class:"vxe-table--cell-col-status-area"})]):vs(l)])])};return Tt(()=>e.tableColumn,he),on(()=>{de(()=>{const{fixedType:L}=e,{internalData:ae}=l,{elemStore:W}=ae,T=`${L||"main"}-header-`;W[`${T}wrapper`]=M,W[`${T}scroll`]=_,W[`${T}table`]=oe,W[`${T}colgroup`]=V,W[`${T}list`]=K,W[`${T}xSpace`]=le,W[`${T}repair`]=Q,he()})}),ln(()=>{const{fixedType:L}=e,{internalData:ae}=l,{elemStore:W}=ae,T=`${L||"main"}-header-`;W[`${T}wrapper`]=null,W[`${T}scroll`]=null,W[`${T}table`]=null,W[`${T}colgroup`]=null,W[`${T}list`]=null,W[`${T}xSpace`]=null,W[`${T}repair`]=null}),O}}),{renderer:gd,renderEmptyElement:Ii}=ge,ki="footer",Ai=Yo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const l=Ho("$xeTable",{}),{xID:c,props:p,reactData:w,internalData:x}=l,{computeTooltipOpts:y,computeColumnOpts:k,computeColumnDragOpts:B,computeCellOpts:U,computeFooterCellOpts:f,computeDefaultRowHeight:d,computeResizableOpts:z,computeVirtualXOpts:N}=l.getComputeMaps(),M=je(),_=je(),oe=je(),V=je(),K=je(),le=je(),Q=(E,O,L,ae,W,T)=>{const G=l.xeGrid,{fixedType:fe}=e,{resizable:Ie,border:Ee,footerCellClassName:Ae,footerCellStyle:Ce,footerAlign:De,footerSpanMethod:Se,align:$,columnKey:ue,showFooterOverflow:ie}=p,{scrollXLoad:te,scrollYLoad:Y,overflowX:J,currentColumn:be}=w,{fullColumnIdData:ee,mergeFooterList:Re,mergeFooterCellMaps:ne,scrollXStore:ce}=x,Me=N.value,me=y.value,Z=z.value,{isAllColumnDrag:Fe}=Z,we=k.value,Ye=d.value,_e=U.value,Xe=f.value,He=Vr(Xe.height)||Ye;return O.map((nt,yt)=>{const{type:Et,showFooterOverflow:rt,footerAlign:gt,align:vt,footerClassName:qe,editRender:Ge,cellRender:ut}=nt,We=nt.id,st=ee[We]||{},xe=Ge||ut,Le=xe?gd.get(xe.name):null,ot=me.showAll,Qe=nt.children&&nt.children.length,X=fe?nt.fixed!==fe&&!Qe:nt.fixed&&J,pe=i.isBoolean(Xe.padding)?Xe.padding:_e.padding,se=i.eqNull(rt)?ie:rt,Oe=gt||(Le?Le.tableFooterCellAlign:"")||De||vt||(Le?Le.tableCellAlign:"")||$,ke=se==="ellipsis",lt=se==="title",it=se===!0||se==="tooltip",xt=lt||it||ke,mt=i.isBoolean(nt.resizable)?nt.resizable:we.resizable||Ie,Ot={colid:We},qt={},Ze=st.index,wt=st._index,Qt={$table:l,$grid:G,row:ae,rowIndex:T,_rowIndex:T,$rowIndex:W,column:nt,columnIndex:Ze,$columnIndex:yt,_columnIndex:wt,itemIndex:wt,items:ae,fixed:fe,type:ki,data:L};(lt||it||ot)&&(qt.onMouseenter=tt=>{lt?Ls(tt.currentTarget,nt):(it||ot)&&l.triggerFooterTooltipEvent(tt,Qt)}),(it||ot)&&(qt.onMouseleave=tt=>{(it||ot)&&l.handleTargetLeaveEvent(tt)}),qt.onClick=tt=>{l.dispatchEvent("footer-cell-click",Object.assign({cell:tt.currentTarget},Qt),tt)},qt.onDblclick=tt=>{l.dispatchEvent("footer-cell-dblclick",Object.assign({cell:tt.currentTarget},Qt),tt)};let go=!1;if(Re.length){const tt=ne[`${T}:${wt}`];if(tt){const{rowspan:Ft,colspan:ho}=tt;if(!Ft||!ho)return null;Ft>1&&(go=!0,Ot.rowspan=Ft),ho>1&&(go=!0,Ot.colspan=ho)}}else if(Se){const{rowspan:tt=1,colspan:Ft=1}=Se(Qt)||{};if(!tt||!Ft)return null;tt>1&&(Ot.rowspan=tt),Ft>1&&(Ot.colspan=Ft)}const oo=yt===O.length-1,zt=!nt.resizeWidth&&(nt.minWidth==="auto"||nt.width==="auto");let _t=!1;E&&!go&&te&&!nt.fixed&&!Me.immediate&&(wt<ce.visibleStartIndex-ce.preloadSize||wt>ce.visibleEndIndex+ce.preloadSize)&&(_t=!0);const kt={};return xt?kt.height=`${He}px`:kt.minHeight=`${He}px`,h("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",nt.id,{[`col--${Oe}`]:Oe,[`col--${Et}`]:Et,"col--last":oo,"fixed--width":!zt,"fixed--hidden":X,"is--padding":pe,"col--ellipsis":xt,"col--current":be===nt},$l(qe,Qt),$l(Ae,Qt)]},Ot),{style:Ce?i.isFunction(Ce)?Ce(Qt):Ce:null}),qt),{key:ue||te||Y||we.useKey||we.drag?nt.id:yt}),[h("div",{class:["vxe-cell",{"c--title":lt,"c--tooltip":it,"c--ellipsis":ke}],style:kt},_t?[]:[h("div",{colid:We,class:"vxe-cell--wrapper"},nt.renderFooter(Qt))]),!X&&mt&&Fe?h("div",{class:["vxe-cell--col-resizable",{"is--line":!Ee||Ee==="none"}],onMousedown:tt=>l.handleColResizeMousedownEvent(tt,fe,Qt),onDblclick:tt=>l.handleColResizeDblclickEvent(tt,Qt)}):Ii(l)])})},he=(E,O)=>{const{fixedType:L,footerTableData:ae}=e,{footerRowClassName:W,footerRowStyle:T}=p,{isColLoading:G,isDragColMove:fe}=w,Ie=k.value,Ee=B.value;return ae.map((Ae,Ce)=>{const De=Ce,Se={$table:l,row:Ae,_rowIndex:De,$rowIndex:Ce,fixed:L,type:ki};return!G&&Ie.drag&&Ee.animation?h(In,{key:Ce,name:`vxe-header--col-list${fe?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",W?i.isFunction(W)?W(Se):W:""],style:T?i.isFunction(T)?T(Se):T:null},{default:()=>Q(E,O,ae,Ae,Ce,De)}):h("tr",{key:Ce,class:["vxe-footer--row",W?i.isFunction(W)?W(Se):W:""],style:T?i.isFunction(T)?T(Se):T:null},Q(E,O,ae,Ae,Ce,De))})},re=()=>{const{fixedType:E,fixedColumn:O,tableColumn:L}=e,{spanMethod:ae,footerSpanMethod:W,showFooterOverflow:T}=p,{visibleColumn:G,fullColumnIdData:fe}=x,{isGroup:Ie,isColLoading:Ee,overflowX:Ae,scrollXLoad:Ce,dragCol:De}=w;let Se=L,$=!1;if(Ce&&T&&(ae||W||($=!0)),(!$||!Ee&&(E||!Ae))&&(Se=G),E&&$&&(Se=O||[]),!E&&!Ie&&Ce&&De&&Se.length>2){const ue=fe[De.id];if(ue){const ie=ue._index,te=Se[0],Y=Se[Se.length-1],J=fe[te.id],be=fe[Y.id];if(J&&be){const ee=J._index,Re=be._index;ie<ee?Se=[De].concat(Se):ie>Re&&(Se=Se.concat([De]))}}}return h("div",{ref:M,class:["vxe-table--footer-wrapper",E?`fixed-${E}--wrapper`:"body--wrapper"],xid:c},[h("div",{ref:_,class:"vxe-table--footer-inner-wrapper",onScroll(ue){l.triggerFooterScrollEvent(ue,E)}},[E?Ii(l):h("div",{ref:le,class:"vxe-body--x-space"}),h("table",{ref:oe,class:"vxe-table--footer",xid:c,cellspacing:0,cellpadding:0,border:0,xvm:$?"1":null},[h("colgroup",{ref:V},Se.map((ue,ie)=>h("col",{name:ue.id,key:ie,style:{width:`${ue.renderWidth}px`}}))),h("tfoot",{ref:K},he($,Se))])])])};return on(()=>{de(()=>{const{fixedType:E}=e,{elemStore:O}=x,L=`${E||"main"}-footer-`;O[`${L}wrapper`]=M,O[`${L}scroll`]=_,O[`${L}table`]=oe,O[`${L}colgroup`]=V,O[`${L}list`]=K,O[`${L}xSpace`]=le})}),ln(()=>{const{fixedType:E}=e,{elemStore:O}=x,L=`${E||"main"}-footer-`;O[`${L}wrapper`]=null,O[`${L}scroll`]=null,O[`${L}table`]=null,O[`${L}colgroup`]=null,O[`${L}list`]=null,O[`${L}xSpace`]=null}),re}}),{getConfig:uo}=ge,Nr={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>uo().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>uo().table.resizable},stripe:{type:Boolean,default:()=>uo().table.stripe},border:{type:[Boolean,String],default:()=>uo().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>uo().table.round},size:{type:String,default:()=>uo().table.size||uo().size},fit:{type:Boolean,default:()=>uo().table.fit},loading:Boolean,align:{type:String,default:()=>uo().table.align},headerAlign:{type:String,default:()=>uo().table.headerAlign},footerAlign:{type:String,default:()=>uo().table.footerAlign},showHeader:{type:Boolean,default:()=>uo().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>uo().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>uo().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>uo().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>uo().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>uo().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>uo().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>uo().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>uo().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>uo().table.emptyText},keepSource:{type:Boolean,default:()=>uo().table.keepSource},autoResize:{type:Boolean,default:()=>uo().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>uo().table.animat},delayHover:{type:Number,default:()=>uo().table.delayHover},params:Object},Ns=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:Kt,getIcon:vo,renderEmptyElement:Dr}=ge,hd=Yo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const l=ge.getComponent("VxeModal"),c=ge.getComponent("VxeDrawer"),p=ge.getComponent("VxeButton"),w=ge.getComponent("VxeNumberInput"),x=ge.getComponent("VxeRadioGroup"),y=Ho("$xeTable",{}),{props:k,reactData:B,internalData:U}=y,{computeCustomOpts:f,computeColumnDragOpts:d,computeColumnOpts:z,computeIsMaxFixedColumn:N,computeResizableOpts:M}=y.getComputeMaps(),_=je(),oe=je(),V=je(),K=je(),le=je();let Q,he=!1,re;const E=ne=>{const{customStore:ce}=e;ce.activeWrapper=!0,y.customOpenEvent(ne)},O=ne=>{const{customStore:ce}=e;ce.activeWrapper=!1,setTimeout(()=>{!ce.activeBtn&&!ce.activeWrapper&&y.customCloseEvent(ne)},300)},L=({$event:ne})=>{B.isCustomStatus=!0,y.saveCustom(),y.closeCustom(),y.emitCustomEvent("confirm",ne)},ae=({$event:ne})=>{y.closeCustom(),y.emitCustomEvent("close",ne)},W=({$event:ne})=>{y.cancelCustom(),y.closeCustom(),y.emitCustomEvent("cancel",ne)},T=ne=>{y.resetCustom(!0),y.closeCustom(),y.emitCustomEvent("reset",ne)},G=({$event:ne})=>{ge.modal?ge.modal.confirm({content:Kt("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(ce=>{ce==="confirm"&&T(ne)}):T(ne)},fe=ne=>{const{customColumnList:ce}=B,Me=i.findTree(ce,me=>me===ne);if(Me&&Me.parent){const{parent:me}=Me;me.children&&me.children.length&&(me.renderVisible=me.children.every(Z=>Z.renderVisible),me.halfVisible=!me.renderVisible&&me.children.some(Z=>Z.renderVisible||Z.halfVisible),fe(me))}},Ie=ne=>{const ce=!ne.renderVisible;f.value.immediate?(i.eachTree([ne],me=>{me.visible=ce,me.renderVisible=ce,me.halfVisible=!1}),B.isCustomStatus=!0,y.handleCustom(),y.saveCustomStore("update:visible")):i.eachTree([ne],me=>{me.renderVisible=ce,me.halfVisible=!1}),fe(ne),y.checkCustomStatus()},Ee=ne=>{f.value.immediate&&ne.renderResizeWidth!==ne.renderWidth&&(ne.resizeWidth=ne.renderResizeWidth,ne.renderWidth=ne.renderResizeWidth,B.isCustomStatus=!0,y.handleCustom(),y.saveCustomStore("update:width"))},Ae=(ne,ce)=>{const Me=N.value;f.value.immediate?(ne.renderFixed===ce?i.eachTree([ne],Z=>{Z.fixed="",Z.renderFixed=""}):(!Me||ne.renderFixed)&&i.eachTree([ne],Z=>{Z.fixed=ce,Z.renderFixed=ce}),B.isCustomStatus=!0,y.handleCustom(),y.saveCustomStore("update:fixed")):ne.renderFixed===ce?i.eachTree([ne],Z=>{Z.renderFixed=""}):(!Me||ne.renderFixed)&&i.eachTree([ne],Z=>{Z.renderFixed=ce})},Ce=()=>{y.toggleCustomAllCheckbox()},De=(ne,ce,Me,me)=>{const Z=oe.value;if(!Z)return;const Fe=Z.getBoundingClientRect();if(ce){const Ye=V.value;if(Ye)if(Me){const _e=ce.getBoundingClientRect();Ye.style.display="block",Ye.style.top=`${Math.max(1,_e.y+Z.scrollTop-Fe.y)}px`,Ye.style.height=`${_e.height}px`,Ye.style.width=`${_e.width}px`,Ye.setAttribute("drag-pos",me),Ye.setAttribute("drag-to-child",he?"y":"n")}else Ye.style.display=""}const we=K.value;we&&(we.style.display="block",we.style.top=`${Math.min(Z.clientHeight+Z.scrollTop-we.clientHeight,ne.clientY+Z.scrollTop-Fe.y)}px`,we.style.left=`${Math.min(Z.clientWidth+Z.scrollLeft-we.clientWidth,ne.clientX+Z.scrollLeft-Fe.x)}px`,we.setAttribute("drag-status",Me?he?"sub":"normal":"disabled"))},Se=()=>{const ne=K.value,ce=V.value;ne&&(ne.style.display=""),ce&&(ce.style.display="")},$=ne=>{const Z=ne.currentTarget.parentElement.parentElement.parentElement,Fe=Z.getAttribute("colid"),we=y.getColumnById(Fe);Z.draggable=!0,le.value=we,cl(Z,"active--drag-origin")},ue=ne=>{const Z=ne.currentTarget.parentElement.parentElement.parentElement;Se(),Z.draggable=!1,le.value=null,zo(Z,"active--drag-origin")},ie=ne=>{ne.dataTransfer&&ne.dataTransfer.setDragImage(Fs(),0,0)},te=ne=>{const{mouseConfig:ce}=k,{customColumnList:Me}=B,{collectColumn:me}=U,Z=f.value,{immediate:Fe}=Z,we=ne.currentTarget,Ye=le.value,_e=d.value,{isCrossDrag:Xe,isSelfToChildDrag:He,isToChildDrag:nt,dragEndMethod:yt}=_e,Et=re==="bottom"?1:0;if(Q&&Ye&&Q!==Ye){const rt=Ye,gt=Q;Promise.resolve(yt?yt({oldColumn:rt,newColumn:gt,dragColumn:rt,dragPos:re,dragToChild:!!he,offsetIndex:Et}):!0).then(vt=>{if(!vt)return;let qe=-1,Ge=-1;const ut={};i.eachTree([rt],st=>{ut[st.id]=st});let We=!1;if(Fe){if(rt.parentId&&gt.parentId){if(!Xe)return;if(ut[gt.id]&&(We=!0,!(Xe&&He))){ge.modal&&ge.modal.message({status:"error",content:Kt("vxe.error.treeDragChild")});return}}else if(rt.parentId){if(!Xe)return}else if(gt.parentId){if(!Xe)return;if(ut[gt.id]&&(We=!0,!(Xe&&He))){ge.modal&&ge.modal.message({status:"error",content:Kt("vxe.error.treeDragChild")});return}}const st=i.findTree(me,Le=>Le.id===rt.id);if(We&&Xe&&He){if(st){const{items:Le,index:ot}=st,Qe=rt.children||[];Qe.forEach(X=>{X.parentId=rt.parentId}),Le.splice(ot,1,...Qe),rt.children=[]}}else if(st){const{items:Le,index:ot,parent:Qe}=st;Le.splice(ot,1),Qe||(qe=ot)}const xe=i.findTree(me,Le=>Le.id===gt.id);if(xe){const{items:Le,index:ot,parent:Qe}=xe;Xe&&nt&&he?(rt.parentId=gt.id,gt.children=(gt.children||[]).concat([rt])):(rt.parentId=gt.parentId,Le.splice(ot+Et,0,rt)),Qe||(Ge=ot)}i.eachTree(me,(Le,ot,Qe,X,pe)=>{if(!pe){const se=ot+1;Le.renderSortNumber=se}})}else qe=i.findIndexOf(Me,st=>st.id===rt.id),Me.splice(qe,1),Ge=i.findIndexOf(Me,st=>st.id===gt.id),Me.splice(Ge+Et,0,rt);B.isDragColMove=!0,ce&&(y.clearSelected&&y.clearSelected(),y.clearCellAreas&&(y.clearCellAreas(),y.clearCopyCellArea())),y.dispatchEvent("column-dragend",{oldColumn:rt,newColumn:gt,dragColumn:rt,dragPos:re,offsetIndex:Et,_index:{newIndex:Ge,oldIndex:qe}},ne),Fe&&(B.customColumnList=me.slice(0),y.handleColDragSwapColumn())}).catch(()=>{})}Se(),le.value=null,we.draggable=!1,we.removeAttribute("drag-pos"),zo(we,"active--drag-target"),zo(we,"active--drag-origin")},Y=ne=>{const ce=f.value,{immediate:Me}=ce,me=d.value,{isCrossDrag:Z,isToChildDrag:Fe}=me,we=ne.currentTarget,Ye=lr(ne),_e=we.getAttribute("colid"),Xe=y.getColumnById(_e),He=le.value;if(Xe&&(Z||Xe.level===1)){ne.preventDefault();const yt=ne.clientY-we.getBoundingClientRect().y<we.clientHeight/2?"top":"bottom";if(He&&He.id===Xe.id||!Z&&Xe.level>1||!Me&&Xe.level>1||Xe.renderFixed){De(ne,we,!1,yt);return}he=!!(Z&&Fe&&Ye&&Me),Q=Xe,re=yt,De(ne,we,!0,yt)}},J=()=>{const ne=le.value,ce=d.value;return h("div",{},[h("div",{ref:V,class:["vxe-table-custom-popup--drag-line",{"is--guides":ce.showGuidesStatus}]}),h("div",{ref:K,class:"vxe-table-custom-popup--drag-tip"},[h("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[h("div",{class:"vxe-table-custom-popup--drag-tip-status"},[h("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",vo().TABLE_DRAG_STATUS_ROW]}),h("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",vo().TABLE_DRAG_STATUS_SUB_ROW]}),h("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",vo().TABLE_DRAG_DISABLED]})]),h("div",{class:"vxe-table-custom-popup--drag-tip-content"},Kt("vxe.custom.cstmDragTarget",[ne&&ne.type!=="html"?ne.getTitle():""]))])])])},be=()=>{const ne=y.xeGrid,{customStore:ce}=e,{isCustomStatus:Me,customColumnList:me}=B,Z=f.value,{immediate:Fe}=Z,we=d.value,{maxHeight:Ye}=ce,{checkMethod:_e,visibleMethod:Xe,allowVisible:He,allowSort:nt,allowFixed:yt,trigger:Et,placement:rt}=Z,gt=N.value,{isCrossDrag:vt}=we,qe=Z.slots||{},Ge=qe.header,ut=qe.top,We=qe.bottom,st=qe.default,xe=qe.footer,Le=[],ot={},Qe=ce.isAll,X=ce.isIndeterminate;Et==="hover"&&(ot.onMouseenter=E,ot.onMouseleave=O);const pe={$table:y,$grid:ne,columns:me,isAllChecked:Qe,isAllIndeterminate:X,isCustomStatus:Me};return i.eachTree(me,(se,Oe,ke,lt,it)=>{if(Xe?Xe({$table:y,column:se}):!0){const mt=se.renderVisible,Ot=se.halfVisible,qt=se.children&&se.children.length,Ze=Eo(se.getTitle(),1),wt=_e?!_e({$table:y,column:se}):!1,It=!mt;Le.push(h("li",{key:se.id,colid:se.id,class:["vxe-table-custom--option",`level--${se.level}`,{"is--hidden":wt||It,"is--group":qt}],onDragstart:ie,onDragend:te,onDragover:Y},[He?h("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":mt,"is--indeterminate":Ot,"is--disabled":wt}],title:Kt("vxe.custom.setting.colVisible"),onClick:()=>{wt||Ie(se)}},[h("span",{class:["vxe-checkbox--icon",Ot?vo().TABLE_CHECKBOX_INDETERMINATE:mt?vo().TABLE_CHECKBOX_CHECKED:vo().TABLE_CHECKBOX_UNCHECKED]})]):et(),h("div",{class:"vxe-table-custom--name-option"},[nt&&(vt&&Fe||se.level===1)?h("div",{class:"vxe-table-custom--sort-option"},[h("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":wt||It||se.renderFixed}],title:Kt("vxe.custom.setting.sortHelpTip")},wt||It||se.renderFixed?{}:{onMousedown:$,onMouseup:ue}),[h("i",{class:vo().TABLE_CUSTOM_SORT})])]):et(),se.type==="html"?h("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:Ze}):h("div",{key:"0",class:"vxe-table-custom--checkbox-label"},Ze)]),!it&&yt?h("div",{class:"vxe-table-custom--fixed-option"},[p?h(p,{mode:"text",icon:se.renderFixed==="left"?vo().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:vo().TOOLBAR_TOOLS_FIXED_LEFT,status:se.renderFixed==="left"?"primary":"",disabled:wt||It||gt&&!se.renderFixed,title:Kt(se.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{Ae(se,"left")}}):et(),p?h(p,{mode:"text",icon:se.renderFixed==="right"?vo().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:vo().TOOLBAR_TOOLS_FIXED_RIGHT,status:se.renderFixed==="right"?"primary":"",disabled:wt||It||gt&&!se.renderFixed,title:Kt(se.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{Ae(se,"right")}}):et()]):et()]))}}),h("div",{ref:_,key:"simple",class:["vxe-table-custom-wrapper",`placement--${rt}`,{"is--active":ce.visible}],style:Ye&&!["left","right"].includes(rt)?{maxHeight:`${Ye}px`}:{}},ce.visible?[h("div",{class:"vxe-table-custom--header"},Ge?y.callSlot(Ge,pe):[h("ul",{class:"vxe-table-custom--panel-list"},[h("li",{class:"vxe-table-custom--option"},[He?h("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Qe,"is--indeterminate":X}],title:Kt("vxe.table.allTitle"),onClick:Ce},[h("span",{class:["vxe-checkbox--icon",X?vo().TABLE_CHECKBOX_INDETERMINATE:Qe?vo().TABLE_CHECKBOX_CHECKED:vo().TABLE_CHECKBOX_UNCHECKED]}),h("span",{class:"vxe-checkbox--label"},Kt("vxe.toolbar.customAll"))]):h("span",{class:"vxe-checkbox--label"},Kt("vxe.table.customTitle"))])])]),h("div",{ref:oe,class:"vxe-table-custom--body"},[ut?h("div",{class:"vxe-table-custom--panel-top"},y.callSlot(ut,pe)):Dr(y),st?h("div",{class:"vxe-table-custom--panel-body"},y.callSlot(st,pe)):h(In,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ot),{default:()=>Le}),We?h("div",{class:"vxe-table-custom--panel-bottom"},y.callSlot(We,pe)):Dr(y),J()]),Z.showFooter?h("div",{class:"vxe-table-custom--footer"},xe?y.callSlot(xe,pe):[h("div",{class:"vxe-table-custom--footer-buttons"},[p?h(p,{mode:"text",content:Z.resetButtonText||Kt("vxe.table.customRestore"),disabled:!Me,onClick:G}):et(),Fe?p?h(p,{mode:"text",content:Z.closeButtonText||Kt("vxe.table.customClose"),onClick:ae}):et():p?h(p,{mode:"text",content:Z.cancelButtonText||Kt("vxe.table.customCancel"),onClick:W}):et(),Fe?et():p?h(p,{mode:"text",status:"primary",content:Z.confirmButtonText||Kt("vxe.table.customConfirm"),onClick:L}):et()])]):null]:[])},ee=()=>{const ne=y.xeGrid,{customStore:ce}=e,{resizable:Me}=k,{isCustomStatus:me,customColumnList:Z}=B,Fe=f.value,{immediate:we}=Fe,Ye=d.value,{mode:_e,modalOptions:Xe,drawerOptions:He,allowVisible:nt,allowSort:yt,allowFixed:Et,allowResizable:rt,checkMethod:gt,visibleMethod:vt}=Fe,qe=z.value,{maxFixedSize:Ge}=qe,ut=M.value,{minWidth:We,maxWidth:st}=ut,xe=Object.assign({},Xe),Le=Object.assign({},He),ot=N.value,{isCrossDrag:Qe}=Ye,X=Fe.slots||{},pe=X.header,se=X.top,Oe=X.bottom,ke=X.default,lt=X.footer,it=[],xt=ce.isAll,mt=ce.isIndeterminate,Ot={$table:y,$grid:ne,columns:Z,isAllChecked:xt,isAllIndeterminate:mt,isCustomStatus:me};i.eachTree(Z,(Ze,wt,It,Qt,go)=>{if(vt?vt({$table:y,column:Ze}):!0){let zt=0,_t=0;if(rt){const $t={$table:y,column:Ze,columnIndex:wt,$columnIndex:wt,$rowIndex:-1};We&&(zt=i.toNumber(i.isFunction(We)?We($t):We)),st&&(_t=i.toNumber(i.isFunction(st)?st($t):st))}const kt=Ze.renderVisible,tt=Ze.halfVisible,Ft=Eo(Ze.getTitle(),1),ho=Ze.children&&Ze.children.length,Nt=gt?!gt({$table:y,column:Ze}):!1,no=!kt;it.push(h("tr",{key:Ze.id,colid:Ze.id,class:[`vxe-table-custom-popup--row level--${Ze.level}`,{"is--group":ho}],onDragstart:ie,onDragend:te,onDragover:Y},[nt?h("td",{class:"vxe-table-custom-popup--column-item col--visible"},[h("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":kt,"is--indeterminate":tt,"is--disabled":Nt}],title:Kt("vxe.custom.setting.colVisible"),onClick:()=>{Nt||Ie(Ze)}},[h("span",{class:["vxe-checkbox--icon",tt?vo().TABLE_CHECKBOX_INDETERMINATE:kt?vo().TABLE_CHECKBOX_CHECKED:vo().TABLE_CHECKBOX_UNCHECKED]})])]):et(),h("td",{class:"vxe-table-custom-popup--column-item col--name"},[h("div",{class:"vxe-table-custom-popup--name"},[yt?Qe&&we||Ze.level===1?h("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Nt||no||Ze.renderFixed}],title:Kt("vxe.custom.setting.sortHelpTip")},Nt||no||Ze.renderFixed?{}:{onMousedown:$,onMouseup:ue}),[h("i",{class:vo().TABLE_CUSTOM_SORT})]):h("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):et(),Ze.type==="html"?h("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Ft}):h("div",{key:"0",class:"vxe-table-custom-popup--title",title:Ft},Ft)])]),rt?h("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[Ze.children&&Ze.children.length||!(i.isBoolean(Ze.resizable)?Ze.resizable:qe.resizable||Me)?h("span","-"):w?h(w,{type:"integer",immediate:!1,disabled:Nt||no,modelValue:Ze.renderResizeWidth,min:zt||void 0,max:_t||void 0,"onUpdate:modelValue"($t){const ro=Math.max(0,Number($t));Ze.renderResizeWidth=ro},onChange(){Ee(Ze)}}):et()]):et(),Et?h("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[go?h("span","-"):x?h(x,{modelValue:Ze.renderFixed||"",type:"button",size:"mini",disabled:Nt||no,options:[{label:Kt("vxe.custom.setting.fixedLeft"),value:"left",disabled:Nt||no||ot},{label:Kt("vxe.custom.setting.fixedUnset"),value:"",disabled:Nt||no},{label:Kt("vxe.custom.setting.fixedRight"),value:"right",disabled:Nt||no||ot}],"onUpdate:modelValue"($t){Ae(Ze,$t)}}):et()]):et()]))}});const qt={default:()=>ke?y.callSlot(ke,Ot):h("div",{ref:oe,class:"vxe-table-custom-popup--body"},[se?h("div",{class:"vxe-table-custom-popup--table-top"},y.callSlot(se,Ot)):Dr(y),h("div",{class:"vxe-table-custom-popup--table-wrapper"},[h("table",{},[h("colgroup",{},[nt?h("col",{class:"vxe-table-custom-popup--table-col-seq"}):et(),h("col",{class:"vxe-table-custom-popup--table-col-title"}),rt?h("col",{class:"vxe-table-custom-popup--table-col-width"}):et(),Et?h("col",{class:"vxe-table-custom-popup--table-col-fixed"}):et()]),h("thead",{},[h("tr",{},[nt?h("th",{},[h("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":xt,"is--indeterminate":mt}],title:Kt("vxe.table.allTitle"),onClick:Ce},[h("span",{class:["vxe-checkbox--icon",mt?vo().TABLE_CHECKBOX_INDETERMINATE:xt?vo().TABLE_CHECKBOX_CHECKED:vo().TABLE_CHECKBOX_UNCHECKED]}),h("span",{class:"vxe-checkbox--label"},Kt("vxe.toolbar.customAll"))])]):et(),h("th",{},Kt("vxe.custom.setting.colTitle")),rt?h("th",{},Kt("vxe.custom.setting.colResizable")):et(),Et?h("th",{},Kt(`vxe.custom.setting.${Ge?"colFixedMax":"colFixed"}`,[Ge])):et()])]),h(In,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>it})])]),Oe?h("div",{class:"vxe-table-custom-popup--table-bottom"},y.callSlot(Oe,Ot)):Dr(y),J()]),footer:()=>lt?y.callSlot(lt,Ot):h("div",{class:"vxe-table-custom-popup--footer"},[p?h(p,{content:Fe.resetButtonText||Kt("vxe.custom.cstmRestore"),disabled:!me,onClick:G}):et(),we?p?h(p,{content:Fe.closeButtonText||Kt("vxe.table.customClose"),onClick:ae}):et():p?h(p,{content:Fe.cancelButtonText||Kt("vxe.table.customCancel"),onClick:W}):et(),we?et():p?h(p,{status:"primary",content:Fe.confirmButtonText||Kt("vxe.custom.cstmConfirm"),onClick:L}):et()])};return pe&&(qt.header=()=>y.callSlot(pe,Ot)),_e==="drawer"?c?h(c,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",Le.className||""].join(" "),modelValue:ce.visible,title:Le.title||Kt("vxe.custom.cstmTitle"),width:Le.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:Le.position,resize:!!Le.resize,escClosable:!!Le.escClosable,maskClosable:!!Le.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Ze){ce.visible=Ze}},qt):et():l?h(l,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",xe.className||""].join(" "),modelValue:ce.visible,title:xe.title||Kt("vxe.custom.cstmTitle"),width:xe.width||Math.min(880,document.documentElement.clientWidth),minWidth:xe.minWidth||700,height:xe.height||Math.min(680,document.documentElement.clientHeight),minHeight:xe.minHeight||400,showZoom:xe.showZoom,showMaximize:xe.showMaximize,showMinimize:xe.showMinimize,mask:xe.mask,lockView:xe.lockView,resize:xe.resize,escClosable:!!xe.escClosable,maskClosable:!!xe.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(Ze){ce.visible=Ze}},qt):et()},Re=()=>{const ne=f.value;return["modal","drawer","popup"].includes(`${ne.mode}`)?ee():be()};return de(()=>{const ne=f.value,{mode:ce}=ne;!l&&ce==="modal"&&ze("vxe.error.reqComp",["vxe-modal"]),!c&&ce==="drawer"&&ze("vxe.error.reqComp",["vxe-drawer"]),p||ze("vxe.error.reqComp",["vxe-button"]),w||ze("vxe.error.reqComp",["vxe-number-input"]),x||ze("vxe.error.reqComp",["vxe-radio-group"])}),Re}}),{getI18n:Mr,getIcon:Zn,renderer:Li}=ge,md=Yo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,l){const c=i.uniqueId(),p=Ho("$xeTable",{}),{reactData:w,internalData:x,getComputeMaps:y}=p,{computeFilterOpts:k}=y(),B=je(),U={refElem:B},f={xID:c,props:e,context:l,getRefMaps:()=>U},d=Pe(()=>{const{filterStore:E}=e;return E&&E.options.some(O=>O.checked)}),z=(E,O)=>{const{filterStore:L}=e;L.options.forEach(ae=>{ae._checked=O,ae.checked=O}),L.isAllSelected=O,L.isIndeterminate=!1},N=E=>{p.handleFilterConfirmFilter(E)},M=(E,O,L)=>{p.handleFilterChangeRadioOption(E,O,L)},_=E=>{p.handleFilterResetFilter(E)},oe=(E,O,L)=>{p.handleFilterChangeMultipleOption(E,O,L)},V=(E,O,L)=>{p.handleFilterChangeOption(E,O,L)},K=(E,O)=>{const{filterStore:L}=e;L.multiple?z(E,O):_(E)};Object.assign(f,{changeRadioOption:M,changeMultipleOption:oe,changeAllOption:K,changeOption:V,confirmFilter:N,resetFilter:_});const Q=(E,O)=>{const{filterStore:L}=e,{column:ae,multiple:W,maxHeight:T}=L,G=ae?ae.slots:null,fe=G?G.filter:null,Ie=Object.assign({},x._currFilterParams,{$panel:f,$table:p}),Ee=O?O.renderTableFilter||O.renderFilter:null;if(fe)return[h("div",{class:"vxe-table--filter-template",style:T?{maxHeight:`${T}px`}:{}},p.callSlot(fe,Ie))];if(Ee)return[h("div",{class:"vxe-table--filter-template",style:T?{maxHeight:`${T}px`}:{}},Ao(Ee(E,Ie)))];const Ae=W?L.isAllSelected:!L.options.some(De=>De._checked),Ce=W&&L.isIndeterminate;return[h("ul",{class:"vxe-table--filter-header"},[h("li",{class:["vxe-table--filter-option",{"is--checked":Ae,"is--indeterminate":Ce}],title:Mr(W?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:De=>{K(De,!L.isAllSelected)}},(W?[h("span",{class:["vxe-checkbox--icon",Ce?Zn().TABLE_CHECKBOX_INDETERMINATE:Ae?Zn().TABLE_CHECKBOX_CHECKED:Zn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([h("span",{class:"vxe-checkbox--label"},Mr("vxe.table.allFilter"))]))]),h("ul",{class:"vxe-table--filter-body",style:T?{maxHeight:`${T}px`}:{}},L.options.map(De=>{const Se=De._checked;return h("li",{class:["vxe-table--filter-option",{"is--checked":De._checked}],title:De.label,onClick:$=>{V($,!De._checked,De)}},(W?[h("span",{class:["vxe-checkbox--icon",Se?Zn().TABLE_CHECKBOX_CHECKED:Zn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([h("span",{class:"vxe-checkbox--label"},Eo(De.label,1))]))}))]},he=()=>{const{filterStore:E}=e,{column:O,multiple:L}=E,ae=k.value,W=d.value,{filterRender:T}=O,G=Ct(T)?Li.get(T.name):null,fe=!W&&!E.isAllSelected&&!E.isIndeterminate;return L&&(!G||!(G.showTableFilterFooter===!1||G.showFilterFooter===!1||G.isFooter===!1))?[h("div",{class:"vxe-table--filter-footer"},[h("button",{class:{"is--disabled":fe},disabled:fe,onClick:N},ae.confirmButtonText||Mr("vxe.table.confirmFilter")),h("button",{onClick:_},ae.resetButtonText||Mr("vxe.table.resetFilter"))])]:[]},re=()=>{const{filterStore:E}=e,{initStore:O}=w,{visible:L,multiple:ae,column:W}=E,T=W?W.filterRender:null,G=Ct(T)?Li.get(T.name):null,fe=G?G.tableFilterClassName||G.filterClassName:"",Ie=Object.assign({},x._currFilterParams,{$panel:f,$table:p}),Ee=p.props,{computeSize:Ae}=p.getComputeMaps(),Ce=Ae.value,De=k.value,{transfer:Se,destroyOnClose:$}=De;return h(oa,{to:"body",disabled:!Se},[h("div",{ref:B,class:["vxe-table--filter-wrapper","filter--prevent-default",$l(fe,Ie),{[`size--${Ce}`]:Ce,"is--animat":Ee.animat,"is--multiple":ae,"is--active":L}],style:E.style},O.filter&&(!$||L)&&W?Q(T,G).concat(he()):[])])};return f.renderVN=re,f},render(){return this.renderVN()}}),{getI18n:Yl,getIcon:bd}=ge,xd=Yo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=ge.getComponent("VxeModal"),c=ge.getComponent("VxeButton"),p=ge.getComponent("VxeSelect"),w=Ho("$xeTable",{}),{computeImportOpts:x}=w.getComputeMaps(),y=vl({loading:!1}),k=je(),B=Pe(()=>{const{storeData:V}=e;return`${V.filename}.${V.type}`}),U=Pe(()=>{const{storeData:V}=e;return V.file&&V.type}),f=Pe(()=>{const{storeData:V}=e,{type:K,typeList:le}=V;if(K){const Q=i.find(le,he=>K===he.value);return Q?Q.label:"*.*"}return`*.${le.map(Q=>Q.value).join(", *.")}`}),d=()=>{const{storeData:V}=e;Object.assign(V,{filename:"",sheetName:"",type:""})},z=()=>{const{storeData:V,defaultOptions:K}=e;w.readFile(K).then(le=>{const{file:Q}=le;Object.assign(V,la(Q),{file:Q})}).catch(le=>le)},N=()=>{de(()=>{const V=k.value;V&&V.focus()})},M=()=>{const{storeData:V}=e;V.visible=!1},_=()=>{const{storeData:V,defaultOptions:K}=e,le=x.value;y.loading=!0,w.importByFile(V.file,Object.assign({},le,K)).then(()=>{y.loading=!1,V.visible=!1}).catch(()=>{y.loading=!1})},oe=()=>{const V=w.xeGrid,{defaultOptions:K,storeData:le}=e,Q=B.value,he=U.value,re=f.value,E=K.slots||{},O=E.top,L=E.bottom,ae=E.default,W=E.footer;return l?h(l,{id:"VXE_IMPORT_MODAL",modelValue:le.visible,title:Yl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:y.loading,"onUpdate:modelValue"(T){le.visible=T},onShow:N},{default:()=>{const T={$table:w,$grid:V,options:K,params:K.params};return h("div",{class:"vxe-table-export--panel"},[O?h("div",{class:"vxe-table-export--panel-top"},w.callSlot(O,T)):et(),h("div",{class:"vxe-table-export--panel-body"},ae?w.callSlot(ae,T):[h("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[h("tbody",[h("tr",[h("td",Yl("vxe.import.impFile")),h("td",[he?h("div",{class:"vxe-table-export--selected--file",title:Q},[h("span",Q),h("i",{class:bd().INPUT_CLEAR,onClick:d})]):h("button",{ref:k,class:"vxe-table-export--select--file",onClick:z},Yl("vxe.import.impSelect"))])]),h("tr",[h("td",Yl("vxe.import.impType")),h("td",re)]),h("tr",[h("td",Yl("vxe.import.impMode")),h("td",[p?h(p,{modelValue:K.mode,options:le.modeList,"onUpdate:modelValue"(G){K.mode=G}}):et()])])])])]),L?h("div",{class:"vxe-table-export--panel-bottom"},w.callSlot(L,T)):et()])},footer(){const T={$table:w,$grid:V,options:K,params:K.params};return h("div",{class:"vxe-table-export--panel-footer"},W?w.callSlot(W,T):[h("div",{class:"vxe-table-export--panel-btns"},[c?h(c,{content:Yl("vxe.import.impCancel"),onClick:M}):et(),c?h(c,{status:"primary",disabled:!he||y.loading,content:Yl("vxe.import.impConfirm"),onClick:_}):et()])])}}):et()};return de(()=>{l||ze("vxe.error.reqComp",["vxe-modal"]),c||ze("vxe.error.reqComp",["vxe-button"]),p||ze("vxe.error.reqComp",["vxe-select"])}),oe}}),{getI18n:Zt,getIcon:xn}=ge,vd=Yo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=ge.getComponent("VxeModal"),c=ge.getComponent("VxeButton"),p=ge.getComponent("VxeSelect"),w=ge.getComponent("VxeInput"),x=ge.getComponent("VxeCheckbox"),y=Ho("$xeTable",{}),{computeExportOpts:k,computePrintOpts:B}=y.getComputeMaps(),U=vl({isAll:!1,isIndeterminate:!1,loading:!1}),f=je(),d=je(),z=je(),N=Pe(()=>{const{storeData:T}=e;return T.columns.every(G=>G.checked)}),M=Pe(()=>{const{defaultOptions:T}=e;return["html","xml","xlsx","pdf"].indexOf(T.type)>-1}),_=Pe(()=>{const{storeData:T,defaultOptions:G}=e;return!G.original&&G.mode==="current"&&(T.isPrint||["html","xlsx"].indexOf(G.type)>-1)}),oe=Pe(()=>{const{defaultOptions:T}=e;return!T.original&&["xlsx"].indexOf(T.type)>-1}),V=T=>{const{storeData:G}=e,fe=i.findTree(G.columns,Ie=>Ie===T);if(fe&&fe.parent){const{parent:Ie}=fe;Ie.children&&Ie.children.length&&(Ie.checked=Ie.children.every(Ee=>Ee.checked),Ie.halfChecked=!Ie.checked&&Ie.children.some(Ee=>Ee.checked||Ee.halfChecked),V(Ie))}},K=()=>{const{storeData:T}=e,G=T.columns;U.isAll=G.every(fe=>fe.disabled||fe.checked),U.isIndeterminate=!U.isAll&&G.some(fe=>!fe.disabled&&(fe.checked||fe.halfChecked))},le=T=>{const G=!T.checked;i.eachTree([T],fe=>{fe.checked=G,fe.halfChecked=!1}),V(T),K()},Q=()=>{const{storeData:T}=e,G=!U.isAll;i.eachTree(T.columns,fe=>{fe.disabled||(fe.checked=G,fe.halfChecked=!1)}),U.isAll=G,K()},he=()=>{de(()=>{const T=d.value,G=z.value,fe=f.value,Ie=T||G||fe;Ie&&Ie.focus()}),K()},re=()=>{const{storeData:T,defaultOptions:G}=e,{hasMerge:fe,columns:Ie}=T,Ee=N.value,Ae=_.value,Ce=i.searchTree(Ie,De=>De.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},G,{columns:Ce,isMerge:fe&&Ae&&Ee?G.isMerge:!1})},E=()=>{const{storeData:T}=e,G=B.value;T.visible=!1,y.print(Object.assign({},G,re()))},O=()=>{const{storeData:T}=e,G=k.value;U.loading=!0,y.exportData(Object.assign({},G,re())).then(()=>{U.loading=!1,T.visible=!1}).catch(()=>{U.loading=!1})},L=()=>{const{storeData:T}=e;T.visible=!1},ae=()=>{const{storeData:T}=e;T.isPrint?E():O()},W=()=>{const T=y.xeGrid,{defaultOptions:G,storeData:fe}=e,{isAll:Ie,isIndeterminate:Ee}=U,{hasTree:Ae,hasMerge:Ce,isPrint:De,hasColgroup:Se,columns:$}=fe,{isHeader:ue}=G,ie=[],te=N.value,Y=M.value,J=_.value,be=oe.value,ee=G.slots||{},Re=ee.top,ne=ee.bottom,ce=ee.default,Me=ee.footer,me=ee.parameter;return i.eachTree($,Z=>{const Fe=Eo(Z.getTitle(),1),we=Z.children&&Z.children.length,Ye=Z.checked,_e=Z.halfChecked,Xe=Z.type==="html";ie.push(h("li",{key:Z.id,class:["vxe-table-export--panel-column-option",`level--${Z.level}`,{"is--group":we,"is--checked":Ye,"is--indeterminate":_e,"is--disabled":Z.disabled}],title:Xe?"":Fe,onClick:()=>{Z.disabled||le(Z)}},[h("span",{class:["vxe-checkbox--icon",_e?xn().TABLE_CHECKBOX_INDETERMINATE:Ye?xn().TABLE_CHECKBOX_CHECKED:xn().TABLE_CHECKBOX_UNCHECKED]}),Xe?h("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Fe}):h("span",{key:"0",class:"vxe-checkbox--label"},Fe)]))}),l?h(l,{id:"VXE_EXPORT_MODAL",modelValue:fe.visible,title:Zt(De?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:U.loading,"onUpdate:modelValue"(Z){fe.visible=Z},onShow:he},{default:()=>{const Z={$table:y,$grid:T,options:G,columns:$,params:G.params},Fe=G.mode==="empty";return h("div",{class:"vxe-table-export--panel"},[Re?h("div",{class:"vxe-table-export--panel-top"},y.callSlot(Re,Z)):et(),h("div",{class:"vxe-table-export--panel-body"},ce?y.callSlot(ce,Z):[h("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[h("tbody",[[De?et():h("tr",[h("td",Zt("vxe.export.expName")),h("td",[w?h(w,{ref:d,modelValue:G.filename,type:"text",clearable:!0,placeholder:Zt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(we){G.filename=we}}):et()])]),De?et():h("tr",[h("td",Zt("vxe.export.expType")),h("td",[p?h(p,{modelValue:G.type,options:fe.typeList,"onUpdate:modelValue"(we){G.type=we}}):et()])]),De||Y?h("tr",[h("td",Zt("vxe.export.expSheetName")),h("td",[w?h(w,{ref:z,modelValue:G.sheetName,type:"text",clearable:!0,placeholder:Zt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(we){G.sheetName=we}}):et()])]):et(),h("tr",[h("td",Zt("vxe.export.expMode")),h("td",[p?h(p,{modelValue:G.mode,options:fe.modeList.map(we=>({value:we.value,label:Zt(we.label)})),"onUpdate:modelValue"(we){G.mode=we}}):et()])]),h("tr",[h("td",[Zt("vxe.export.expColumn")]),h("td",[h("div",{class:"vxe-table-export--panel-column"},[h("ul",{class:"vxe-table-export--panel-column-header"},[h("li",{class:["vxe-table-export--panel-column-option",{"is--checked":Ie,"is--indeterminate":Ee}],title:Zt("vxe.table.allTitle"),onClick:Q},[h("span",{class:["vxe-checkbox--icon",Ee?xn().TABLE_CHECKBOX_INDETERMINATE:Ie?xn().TABLE_CHECKBOX_CHECKED:xn().TABLE_CHECKBOX_UNCHECKED]}),h("span",{class:"vxe-checkbox--label"},Zt("vxe.export.expCurrentColumn"))])]),h("ul",{class:"vxe-table-export--panel-column-body"},ie)])])]),h("tr",[h("td",Zt("vxe.export.expOpts")),me?h("td",[h("div",{class:"vxe-table-export--panel-option-row"},y.callSlot(me,Z))]):h("td",[h("div",{class:"vxe-table-export--panel-option-row"},[x?h(x,{modelValue:Fe||ue,disabled:Fe,title:Zt("vxe.export.expHeaderTitle"),content:Zt("vxe.export.expOptHeader"),"onUpdate:modelValue"(we){G.isHeader=we}}):et(),x?h(x,{modelValue:ue?G.isTitle:!1,disabled:!ue,title:Zt("vxe.export.expTitleTitle"),content:Zt("vxe.export.expOptTitle"),"onUpdate:modelValue"(we){G.isTitle=we}}):et(),x?h(x,{modelValue:ue&&Se&&J?G.isColgroup:!1,title:Zt("vxe.export.expColgroupTitle"),disabled:!ue||!Se||!J,content:Zt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(we){G.isColgroup=we}}):et()]),h("div",{class:"vxe-table-export--panel-option-row"},[x?h(x,{modelValue:Fe?!1:G.original,disabled:Fe,title:Zt("vxe.export.expOriginalTitle"),content:Zt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(we){G.original=we}}):et(),x?h(x,{modelValue:Ce&&J&&te?G.isMerge:!1,title:Zt("vxe.export.expMergeTitle"),disabled:Fe||!Ce||!J||!te,content:Zt("vxe.export.expOptMerge"),"onUpdate:modelValue"(we){G.isMerge=we}}):et(),De||!x?et():h(x,{modelValue:be?G.useStyle:!1,disabled:!be,title:Zt("vxe.export.expUseStyleTitle"),content:Zt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(we){G.useStyle=we}}),x?h(x,{modelValue:Ae?G.isAllExpand:!1,disabled:Fe||!Ae,title:Zt("vxe.export.expAllExpandTitle"),content:Zt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(we){G.isAllExpand=we}}):et()]),h("div",{class:"vxe-table-export--panel-option-row"},[x?h(x,{modelValue:G.isFooter,disabled:!fe.hasFooter,title:Zt("vxe.export.expFooterTitle"),content:Zt("vxe.export.expOptFooter"),"onUpdate:modelValue"(we){G.isFooter=we}}):et()])])])]])])]),ne?h("div",{class:"vxe-table-export--panel-bottom"},y.callSlot(ne,Z)):et()])},footer(){const Z={$table:y,$grid:T,options:G,columns:$,params:G.params};return h("div",{class:"vxe-table-export--panel-footer"},Me?y.callSlot(Me,Z):[h("div",{class:"vxe-table-export--panel-btns"},[c?h(c,{content:Zt("vxe.export.expCancel"),onClick:L}):et(),c?h(c,{ref:f,status:"primary",content:Zt(De?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:ae}):et()])])}}):et()};return de(()=>{l||ze("vxe.error.reqComp",["vxe-modal"]),c||ze("vxe.error.reqComp",["vxe-button"]),p||ze("vxe.error.reqComp",["vxe-select"]),w||ze("vxe.error.reqComp",["vxe-input"]),x||ze("vxe.error.reqComp",["vxe-checkbox"])}),W}}),{getIcon:Cd}=ge,wd=Yo({name:"VxeTableMenuPanel",setup(e,l){const c=i.uniqueId(),p=Ho("$xeTable",{}),{reactData:w}=p,x=je(),y={refElem:x},k={xID:c,props:e,context:l,getRefMaps:()=>y},B=()=>{const{ctxMenuStore:U}=w,{computeMenuOpts:f}=p.getComputeMaps(),d=f.value;return h(oa,{to:"body",disabled:!1},[h("div",{ref:x,class:["vxe-table--context-menu-wrapper",d.className,{"is--visible":U.visible}],style:U.style},U.list.map((z,N)=>z.every(M=>M.visible===!1)?et():h("ul",{class:"vxe-context-menu--option-wrapper",key:N},z.map((M,_)=>{const oe=M.children&&M.children.some(Q=>Q.visible!==!1),V=Object.assign({},M.prefixConfig),K=Object.assign({},M.suffixConfig),le=Cl(M.name);return M.visible===!1?null:h("li",{class:[M.className,{"link--disabled":M.disabled,"link--active":M===U.selected}],key:`${N}_${_}`},[h("a",{class:"vxe-context-menu--link",onClick(Q){p.ctxMenuLinkEvent(Q,M)},onMouseover(Q){p.ctxMenuMouseoverEvent(Q,M)},onMouseout(Q){p.ctxMenuMouseoutEvent(Q,M)}},[h("div",{class:["vxe-context-menu--link-prefix",V.className||""]},[h("i",{class:V.icon||M.prefixIcon}),V.content?h("span",{},`${V.content}`):et()]),h("div",{class:"vxe-context-menu--link-content",title:le},le),h("div",{class:["vxe-context-menu--link-suffix",K.className||""]},[h("i",{class:K.icon||M.suffixIcon||(oe?Cd().TABLE_MENU_OPTIONS:"")}),K.content?h("span",`${K.content}`):et()])]),oe?h("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":M===U.selected&&U.showChild}]},M.children.map((Q,he)=>{const re=Object.assign({},Q.prefixConfig),E=Object.assign({},Q.suffixConfig),O=Cl(Q.name);return Q.visible===!1?null:h("li",{class:[Q.className,{"link--disabled":Q.disabled,"link--active":Q===U.selectChild}],key:`${N}_${_}_${he}`},[h("a",{class:"vxe-context-menu--link",onClick(L){p.ctxMenuLinkEvent(L,Q)},onMouseover(L){p.ctxMenuMouseoverEvent(L,M,Q)},onMouseout(L){p.ctxMenuMouseoutEvent(L,M)}},[h("div",{class:["vxe-context-menu--link-prefix",re.className||""]},[h("i",{class:re.icon||Q.prefixIcon}),re.content?h("span",`${re.content}`):et()]),h("div",{class:"vxe-context-menu--link-content",title:O},O),h("div",{class:["vxe-context-menu--link-suffix",E.className||""]},[h("i",{class:E.icon}),E.content?h("span",`${E.content}`):et()])])])})):null])}))))])};return k.renderVN=B,k},render(){return this.renderVN()}}),{getConfig:Mt,getIcon:Fr,getI18n:hl,renderer:Hi,formats:Bi,createEvent:Ed,globalResize:yd,interceptor:$i,hooks:Rd,globalEvents:Yt,GLOBAL_EVENT_KEYS:qo,useFns:Sd,renderEmptyElement:ko}=ge,Pi=5e6,Vi="VXE_CUSTOM_STORE",Ul=5e6,vn=5e6,Jl=Yo({name:"VxeTable",props:Nr,emits:Ns,setup(e,l){const{slots:c,emit:p}=l,w=i.uniqueId(),x=i.browse(),y=ge.getComponent("VxeLoading"),k=ge.getComponent("VxeTooltip"),B=Ho("$xeTabs",null),{computeSize:U}=Sd.useSize(e),f=vl({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),d={tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let z={},N={};const M=je(),_=je(),oe=je(),V=je(),K=je(),le=je(),Q=je(),he=je(),re=je(),E=je(),O=je(),L=je(),ae=je(),W=je(),T=je(),G=je(),fe=je(),Ie=je(),Ee=je(),Ae=je(),Ce=je(),De=je(),Se=je(),$=je(),ue=je(),ie=je(),te=je(),Y=je(),J=je(),be=je(),ee=je(),Re=je(),ne=je(),ce=je(),Me=je(),me=je(),Z=je(),Fe=je(),we=je(),Ye=je(),_e=Ho("$xeGrid",null);let Xe;const He=Pe(()=>{const{id:t}=e;return t?i.isFunction(t)?`${t({$table:r,$grid:_e})||""}`:`${t}`:""}),nt=Pe(()=>{const t=Oe.value;return`${e.rowId||t.keyField||"_X_ROW_KEY"}`}),yt=Pe(()=>Object.assign({},Mt().table.validConfig,e.validConfig)),Et=Pe(()=>vt.value),rt=Pe(()=>{const t=vt.value,{threshold:o}=t;return o?i.toNumber(o):0}),gt=Pe(()=>qe.value),vt=Pe(()=>Object.assign({},Mt().table.scrollX,Mt().table.virtualXConfig,e.scrollX,e.virtualXConfig)),qe=Pe(()=>Object.assign({},Mt().table.scrollY,Mt().table.virtualYConfig,e.scrollY,e.virtualYConfig)),Ge=Pe(()=>Object.assign({},Mt().table.scrollbarConfig,e.scrollbarConfig)),ut=Pe(()=>{const t=Ge.value;return!!(t.x&&t.x.position==="top")}),We=Pe(()=>{const t=Ge.value;return!!(t.y&&t.y.position==="left")}),st=Pe(()=>{const t=qe.value,{threshold:o}=t;return o?i.toNumber(o):0}),xe=Pe(()=>f.rowHeightStore),Le=Pe(()=>{const t=U.value;return xe.value[t||"default"]||18}),ot=Pe(()=>Object.assign({},Mt().table.columnConfig,e.columnConfig)),Qe=Pe(()=>Object.assign({},Mt().table.currentColumnConfig,e.currentColumnConfig)),X=Pe(()=>{const t=Object.assign({},Mt().table.cellConfig,e.cellConfig);return t.height&&(t.height=i.toNumber(t.height)),t}),pe=Pe(()=>{const t=Object.assign({},Mt().table.headerCellConfig,e.headerCellConfig),o=X.value;return t.height=i.toNumber(Vr(t.height||o.height)),t}),se=Pe(()=>{const t=Object.assign({},Mt().table.footerCellConfig,e.footerCellConfig),o=X.value;return t.height=i.toNumber(Vr(t.height||o.height)),t}),Oe=Pe(()=>Object.assign({},Mt().table.rowConfig,e.rowConfig)),ke=Pe(()=>Object.assign({},Mt().table.rowGroupConfig,e.rowGroupConfig)),lt=Pe(()=>Object.assign({},Mt().table.currentRowConfig,e.currentRowConfig)),it=Pe(()=>Object.assign({},Mt().table.rowDragConfig,e.rowDragConfig)),xt=Pe(()=>Object.assign({},Mt().table.columnDragConfig,e.columnDragConfig)),mt=Pe(()=>Object.assign({},Mt().table.resizeConfig,e.resizeConfig)),Ot=Pe(()=>Object.assign({},Mt().table.resizableConfig,e.resizableConfig)),qt=Pe(()=>Object.assign({startIndex:0},Mt().table.seqConfig,e.seqConfig)),Ze=Pe(()=>Object.assign({},Mt().table.radioConfig,e.radioConfig)),wt=Pe(()=>Object.assign({},Mt().table.checkboxConfig,e.checkboxConfig)),It=Pe(()=>Object.assign({},Mt().tooltip,Mt().table.tooltipConfig,e.tooltipConfig)),Qt=Pe(()=>{const{tooltipStore:t}=f,o=It.value;return Object.assign({},o,t.currOpts)}),go=Pe(()=>{const t=It.value;return Object.assign({},t)}),oo=Pe(()=>Object.assign({},Mt().table.editConfig,e.editConfig)),zt=Pe(()=>Object.assign({orders:["asc","desc",null]},Mt().table.sortConfig,e.sortConfig)),_t=Pe(()=>Object.assign({},Mt().table.filterConfig,e.filterConfig)),kt=Pe(()=>Object.assign({},Mt().table.mouseConfig,e.mouseConfig)),tt=Pe(()=>Object.assign({},Mt().table.areaConfig,e.areaConfig)),Ft=Pe(()=>Object.assign({},Mt().table.keyboardConfig,e.keyboardConfig)),ho=Pe(()=>Object.assign({},Mt().table.clipConfig,e.clipConfig)),Nt=Pe(()=>Object.assign({},Mt().table.fnrConfig,e.fnrConfig)),no=Pe(()=>Object.assign({},Mt().table.menuConfig,e.menuConfig)),$t=Pe(()=>{const{columnStore:t}=f,{leftList:o}=t;let n=0;for(let s=0;s<o.length;s++){const a=o[s];n+=a.renderWidth}return n}),ro=Pe(()=>{const{columnStore:t}=f,{rightList:o}=t;let n=0;for(let s=0;s<o.length;s++){const a=o[s];n+=a.renderWidth}return n}),So=Pe(()=>{const o=no.value.header;return o&&o.options?o.options:[]}),Wt=Pe(()=>{const o=no.value.body;return o&&o.options?o.options:[]}),so=Pe(()=>{const o=no.value.footer;return o&&o.options?o.options:[]}),To=Pe(()=>{const t=no.value,o=So.value,n=Wt.value,s=so.value;return!!(e.menuConfig&&Ct(t)&&(o.length||n.length||s.length))}),yo=Pe(()=>{const{ctxMenuStore:t}=f,o=[];return t.list.forEach(n=>{n.forEach(s=>{o.push(s)})}),o}),fo=Pe(()=>Object.assign({},Mt().table.exportConfig,e.exportConfig)),Oo=Pe(()=>Object.assign({},Mt().table.importConfig,e.importConfig)),eo=Pe(()=>Object.assign({},Mt().table.printConfig,e.printConfig)),St=Pe(()=>Object.assign({},Mt().table.expandConfig,e.expandConfig)),ht=Pe(()=>Object.assign({},Mt().table.treeConfig,e.treeConfig)),ul=Pe(()=>Object.assign({},Mt().table.emptyRender,e.emptyRender)),ll=Pe(()=>Object.assign({},Mt().table.loadingConfig,e.loadingConfig)),nl=Pe(()=>e.border?Math.max(2,Math.ceil(f.scrollbarWidth/f.tableColumn.length)):1),Uo=Pe(()=>Object.assign({},Mt().table.customConfig,e.customConfig)),sr=Pe(()=>{const{treeConfig:t}=e,{rowExpandedFlag:o,expandColumn:n,rowGroupExpandedFlag:s,treeExpandedFlag:a,isRowGroupStatus:u}=f,{visibleDataRowIdData:g,rowExpandedMaps:m}=d,b=ht.value,{transform:v}=b,C=[];if(n&&o&&s&&a)if(u||t&&v)i.each(m,(D,R)=>{g[R]&&C.push(D)});else return i.values(m);return C}),An=Pe(()=>{const{visibleColumn:t}=d,{tableColumn:o}=f;return o.length||t.length?t.filter(n=>n.width==="auto"||n.minWidth==="auto"):[]}),ir=Pe(()=>{const{tableColumn:t}=f,{collectColumn:o}=d;let n=0;return t.length&&o.length&&o.forEach(s=>{s.renderFixed&&n++}),n}),Ln=Pe(()=>{const t=ir.value,o=ot.value,{maxFixedSize:n}=o;return n?t>=n:!1}),Ur=Pe(()=>{const{border:t}=e;return t===!0?"full":t||"default"}),Zr=Pe(()=>{const{tableData:t}=f,{tableFullData:o}=d,n=wt.value,{strict:s,checkMethod:a}=n;return s?t.length||o.length?a?o.every(u=>!a({$table:r,row:u})):!1:!0:!1}),Qr=Pe(()=>{const{overflowX:t,scrollXLoad:o,overflowY:n,scrollYLoad:s}=f;return{x:t&&o,y:n&&s}}),ar=Pe(()=>ke.value.groupFields),cr={refElem:M,refTooltip:oe,refValidTooltip:K,refTableFilter:Q,refTableCustom:he,refTableMenu:le,refTableHeader:E,refTableBody:O,refTableFooter:L,refTableLeftHeader:ae,refTableLeftBody:W,refTableLeftFooter:T,refTableRightHeader:G,refTableRightBody:fe,refTableRightFooter:Ie,refLeftContainer:Ee,refRightContainer:Ae,refColResizeBar:Ce,refRowResizeBar:De,refScrollXVirtualElem:J,refScrollYVirtualElem:be,refScrollXHandleElem:ee,refScrollYHandleElem:ce,refScrollXSpaceElem:we,refScrollYSpaceElem:Ye},dr={computeSize:U,computeTableId:He,computeValidOpts:yt,computeRowField:nt,computeVirtualXOpts:vt,computeVirtualYOpts:qe,computeScrollbarOpts:Ge,computeScrollbarXToTop:ut,computeScrollbarYToLeft:We,computeColumnOpts:ot,computeCurrentColumnOpts:Qe,computeScrollXThreshold:rt,computeScrollYThreshold:st,computeRowHeightMaps:xe,computeDefaultRowHeight:Le,computeCellOpts:X,computeHeaderCellOpts:pe,computeFooterCellOpts:se,computeRowOpts:Oe,computeRowGroupOpts:ke,computeCurrentRowOpts:lt,computeRowDragOpts:it,computeColumnDragOpts:xt,computeResizeOpts:mt,computeResizableOpts:Ot,computeSeqOpts:qt,computeRadioOpts:Ze,computeCheckboxOpts:wt,computeTooltipOpts:It,computeEditOpts:oo,computeSortOpts:zt,computeFilterOpts:_t,computeMouseOpts:kt,computeAreaOpts:tt,computeKeyboardOpts:Ft,computeClipOpts:ho,computeFNROpts:Nt,computeHeaderMenu:So,computeBodyMenu:Wt,computeFooterMenu:so,computeIsMenu:To,computeMenuList:yo,computeMenuOpts:no,computeExportOpts:fo,computeImportOpts:Oo,computePrintOpts:eo,computeExpandOpts:St,computeTreeOpts:ht,computeEmptyOpts:ul,computeLoadingOpts:ll,computeCellOffsetWidth:nl,computeCustomOpts:Uo,computeLeftFixedWidth:$t,computeRightFixedWidth:ro,computeFixedColumnSize:ir,computeIsMaxFixedColumn:Ln,computeIsAllCheckboxDisabled:Zr,computeVirtualScrollBars:Qr,computeSXOpts:Et,computeSYOpts:gt},r={xID:w,props:e,context:l,reactData:f,internalData:d,getRefMaps:()=>cr,getComputeMaps:()=>dr,xeGrid:_e,xegrid:_e},Hn=(t,o,n)=>{const s=i.get(t,n),a=i.get(o,n);return Ml(s)&&Ml(a)?!0:i.isString(s)||i.isNumber(s)?""+s==""+a:i.isEqual(s,a)},nn=()=>{const t=nt.value;d.currKeyField=t,d.isCurrDeepKey=Yc(t)},fl=t=>{const o=zt.value,{orders:n=[]}=o,s=t.order||null,a=n.indexOf(s)+1;return n[a<n.length?a:0]},Bn=t=>{const o=Mt().version,n=i.toStringJSON(localStorage.getItem(Vi)||""),s=n&&n._v===o?n:{_v:o};return(t?s[t]:s)||{}},ur=(t,o)=>{const n=Mt().version,s=Bn();s[t]=o||void 0,s._v=n,localStorage.setItem(Vi,i.toJSONString(s))},Zo=t=>{const{fullAllDataRowIdData:o}=d,n={};return i.each(t,(s,a)=>{o[a]&&(n[a]=s)}),n},$n=t=>{const{fullDataRowIdData:o}=d,n=[];return i.each(t,(s,a)=>{o[a]&&r.findRowIndexOf(n,o[a].row)===-1&&n.push(o[a].row)}),n},jl=()=>{const{isScrollXBig:t,scrollXWidth:o}=f,{elemStore:n,visibleColumn:s,fullColumnIdData:a}=d,u=$t.value,g=ro.value,m=Je(n["main-body-scroll"]);if(m){const b=m.clientWidth;let v=m.scrollLeft;t&&(v=Math.ceil((o-b)*Math.min(1,v/(vn-b))));const C=v+u,D=v+b-g;let R=0,I=s.length;for(;R<I;){const A=Math.floor((R+I)/2),q=s[A].id;(a[q]||{}).oLeft<=C?R=A+1:I=A}let H=0;const j=Math.max(0,R<s.length?R-2:0);for(let A=j,F=s.length;A<F;A++){const P=s[A].id,S=a[P]||{};if(H++,S.oLeft>D||H>=60)break}return{toVisibleIndex:Math.max(0,j),visibleSize:Math.max(1,H)}}return{toVisibleIndex:0,visibleSize:6}},wl=(t,o)=>{const{rowHeightStore:n}=f;o&&o.clientHeight&&(n[t]=o.clientHeight)},fr=()=>{const{isAllOverflow:t}=f,o=E.value,n=O.value,s=n?n.$el:null,a=Le.value;let u=0;if(t){if(s){const g=o?o.$el:null;let m;m=s.querySelector("tr"),!m&&g&&(m=g.querySelector("tr")),m&&(u=m.clientHeight)}u||(u=a)}else u=a;return Math.max(18,u)},Tl=()=>{const{isAllOverflow:t,expandColumn:o,isScrollYBig:n,scrollYHeight:s}=f,{elemStore:a,isResizeCellHeight:u,afterFullData:g,fullAllDataRowIdData:m}=d,b=Oe.value,v=X.value,C=Le.value,D=Je(a["main-body-scroll"]);if(D){const R=D.clientHeight;let I=D.scrollTop;n&&(I=Math.ceil((s-R)*Math.min(1,I/(Ul-R))));const H=I,j=I+R;let A=-1,F=0;if(!(u||v.height||b.height)&&!o&&t)A=Math.floor(H/C)-1,F=Math.ceil(R/C)+1;else{const{handleGetRowId:P}=po(r);let S=0,Te=g.length;for(;S<Te;){const ve=Math.floor((S+Te)/2),ye=g[ve],Ke=P(ye);(m[Ke]||{}).oTop<=H?S=ve+1:Te=ve}A=Math.max(0,S<g.length?S-2:0);for(let ve=A,ye=g.length;ve<ye;ve++){const Ke=g[ve],Ve=P(Ke),$e=m[Ve]||{};if(F++,$e.oTop>j||F>=100)break}}return{toVisibleIndex:Math.max(0,A),visibleSize:Math.max(6,F)}}return{toVisibleIndex:0,visibleSize:6}},Pn=(t,o,n)=>{for(let s=0,a=t.length;s<a;s++){const u=t[s],{startIndex:g,endIndex:m}=o,b=u[n],v=u[n+"span"],C=b+v;b<g&&g<C&&(o.startIndex=b),b<m&&m<C&&(o.endIndex=C),(o.startIndex!==g||o.endIndex!==m)&&(s=-1)}};function pr(t){const o={};if(t&&t.length)for(let n=0;n<t.length;n++){const{row:s,col:a,rowspan:u,colspan:g}=t[n];for(let m=0;m<u;m++)for(let b=0;b<g;b++)o[`${s+m}:${a+b}`]=!m&&!b?{rowspan:u,colspan:g}:{rowspan:0,colspan:0}}return o}const rl=t=>{const{fullAllDataRowIdData:o,fullColumnIdData:n,visibleColumn:s,afterFullData:a,mergeBodyList:u,mergeBodyMaps:g}=d;if(t){const{handleGetRowId:m}=po(r);i.isArray(t)||(t=[t]),t.forEach(b=>{let{row:v,col:C,rowspan:D,colspan:R}=b,I=-1,H=-1;if(i.isNumber(v))I=v;else{const j=v?m(v):null,A=j?o[j]:null;A&&(I=A._index)}if(i.isNumber(C))H=C;else{const j=C?C.id:null,A=j?n[j]:null;A&&(H=A._index)}if(I>-1&&H>-1&&(D||R)&&(D=i.toNumber(D)||1,R=i.toNumber(R)||1,D>1||R>1)){const j=a[I],A=s[H];let F=g[`${I}:${H}`];F?(F.rowspan=D,F.colspan=R,F._rowspan=D,F._colspan=R):(F={row:I,col:H,rowspan:D,colspan:R,_row:j,_col:A,_rowspan:D,_colspan:R},g[`${I}:${H}`]=F,u.push(F))}})}},Jr=t=>{const{footerTableData:o}=f,{mergeFooterList:n,mergeFooterMaps:s,fullColumnIdData:a}=d;if(t){const{visibleColumn:u}=d;i.isArray(t)||(t=[t]),t.forEach(g=>{let{row:m,col:b,rowspan:v,colspan:C}=g;const D=i.isNumber(m)?m:-1;let R=-1;if(i.isNumber(b))R=b;else{const I=b?b.id:null,H=I?a[I]:null;H&&(R=H._index)}if(D>-1&&R>-1&&(v||C)&&(v=i.toNumber(v)||1,C=i.toNumber(C)||1,v>1||C>1)){const I=o[D],H=u[R];let j=s[`${D}:${R}`];j?(j.rowspan=v,j.colspan=C,j._rowspan=v,j._colspan=C):(j={row:D,col:R,rowspan:v,colspan:C,_row:I,_col:H,_rowspan:v,_colspan:C},s[`${D}:${R}`]=j,n.push(j))}})}},rn=t=>{const{mergeBodyList:o,fullColumnIdData:n,fullAllDataRowIdData:s,mergeBodyMaps:a}=d,u=[];if(t){const{handleGetRowId:g}=po(r);i.isArray(t)||(t=[t]),t.forEach(m=>{const{row:b,col:v}=m;let C=-1,D=-1;if(i.isNumber(b))C=b;else{const I=b?g(b):null,H=I?s[I]:null;H&&(C=H._index)}if(i.isNumber(v))D=v;else{const I=v?v.id:null,H=I?n[I]:null;H&&(D=H._index)}const R=i.findIndexOf(o,I=>I.row===C&&I.col===D);if(R>-1){const I=o.splice(R,1);I[0]&&(u.push(I[0]),a[`${C}:${D}`]&&delete a[`${C}:${D}`])}})}return u},Vn=t=>{const{mergeFooterList:o,fullColumnIdData:n,mergeFooterMaps:s}=d,a=[];return t&&(i.isArray(t)||(t=[t]),t.forEach(u=>{const{row:g,col:m}=u,b=i.isNumber(g)?g:-1;let v=-1;if(i.isNumber(m))v=m;else{const D=m?m.id:null,R=D?n[D]:null;R&&(v=R._index)}const C=i.findIndexOf(o,D=>D.row===b&&D.col===v);if(C>-1){const R=o.splice(C,1)[0];R&&(a.push(R),s[`${b}:${v}`]&&delete s[`${b}:${v}`])}})),a},El=(t,o,n)=>{const s=zt.value,{multiple:a,remote:u,orders:g}=s;if(i.isArray(o)||(o=[o]),o&&o.length){a||(o=[o[0]],sl());let m=null;return o.forEach((b,v)=>{let{field:C,order:D}=b,R=C;i.isString(C)&&(R=r.getColumnByField(C)),m||(m=R),R&&R.sortable&&(g&&g.indexOf(D)===-1&&(D=fl(R)),R.order!==D&&(R.order=D),R.sortTime=Date.now()+v)}),n&&(u||r.handleTableData(!0)),t&&r.handleColumnSortEvent(t,m),de().then(()=>(_o(),r.updateCellAreas(),Ro()))}return de()},sl=()=>{const{tableFullColumn:t}=d;t.forEach(o=>{o.order=null})},Il=t=>{const{parentHeight:o}=f,n=e[t];let s=0;if(n)if(n==="100%"||n==="auto")s=o;else{const a=r.getExcludeHeight();Sn(n)?s=Math.floor((i.toInteger(n)||1)/100*o):s=i.toNumber(n),s=Math.max(40,s-a)}return s},gr=t=>{let{collectColumn:o}=d;const{resizableData:n,sortData:s,visibleData:a,fixedData:u}=t;let g=!1;n||s||a||u?(i.eachTree(o,(m,b,v,C,D)=>{const R=m.getKey();D||(u&&u[R]!==void 0&&(m.fixed=u[R]),s&&i.isNumber(s[R])&&(g=!0,m.renderSortNumber=s[R])),n&&i.isNumber(n[R])&&(m.resizeWidth=n[R]),a&&i.isBoolean(a[R])&&(m.visible=a[R])}),g&&(o=i.orderBy(o,"renderSortNumber"),d.collectColumn=o,d.tableFullColumn=Cr(o)),f.isCustomStatus=!0):f.isCustomStatus=!1},hr=()=>{const{customConfig:t}=e,o=He.value,n=Uo.value,{storage:s,restoreStore:a}=n,u=s===!0,g=u?{}:Object.assign({},s||{}),m=u||g.resizable,b=u||g.visible,v=u||g.fixed,C=u||g.sort;if((t?Ct(n):n.enabled)&&(m||b||v||C)){if(!o){ze("vxe.error.reqProp",["id"]);return}const D=Bn(o);return a?Promise.resolve(a({$table:r,id:o,type:"restore",storeData:D})).then(R=>{if(R)return gr(R)}).catch(R=>R):gr(D)}},Nn=()=>{const{tableFullColumn:t,collectColumn:o}=d,n=d.fullColumnIdData={},s=d.fullColumnFieldData={},a=kt.value,u=St.value,g=ot.value,m=xt.value,b=qe.value,{isCrossDrag:v,isSelfToChildDrag:C}=m,D=Uo.value,{storage:R}=D,I=Oe.value,H=o.some(Dn);let j=!!e.showOverflow,A,F,q,P,S,Te;const ve=(ye,Ke,Ve,$e,Ue)=>{const{id:Ne,field:ft,fixed:bt,type:at,treeNode:ct,rowGroupNode:Rt}=ye,lo={$index:-1,_index:-1,column:ye,colid:Ne,index:Ke,items:Ve,parent:Ue||null,width:0,oLeft:0};ft?(s[ft]&&ze("vxe.error.colRepet",["field",ft]),s[ft]=lo):(R&&!at||g.drag&&(v||C))&&ze("vxe.error.reqProp",[`${ye.getTitle()||at||""} -> column.field=?`]),!Te&&at==="html"&&(Te=ye),ct&&(q&&pt("vxe.error.colRepet",["tree-node",ct]),q||(q=ye)),Rt&&(q&&pt("vxe.error.colRepet",["row-group-node",Rt]),A||(A=ye)),at==="expand"&&(F&&pt("vxe.error.colRepet",["type",at]),F||(F=ye)),at==="checkbox"?(P&&pt("vxe.error.colRepet",["type",at]),P||(P=ye)):at==="radio"&&(S&&pt("vxe.error.colRepet",["type",at]),S||(S=ye)),j&&ye.showOverflow===!1&&(j=!1),n[Ne]&&ze("vxe.error.colRepet",["colId",Ne]),n[Ne]=lo};H?i.eachTree(o,(ye,Ke,Ve,$e,Ue,Ne)=>{ye.level=Ne.length,ve(ye,Ke,Ve,$e,Ue)}):t.forEach(ve),F&&u.mode!=="fixed"&&b.enabled&&pt("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),F&&u.mode!=="fixed"&&a.area&&ze("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),Te&&(g.useKey||ze("vxe.error.reqProp",["column-config.useKey & column.type=html"]),I.useKey||ze("vxe.error.reqProp",["row-config.useKey & column.type=html"])),f.isGroup=H,f.rowGroupColumn=A,f.treeNodeColumn=q,f.expandColumn=F,f.isAllOverflow=j},jn=()=>{d.customHeight=Il("height"),d.customMinHeight=Il("minHeight"),d.customMaxHeight=Il("maxHeight"),f.scrollYLoad&&!(d.customHeight||d.customMinHeight)&&(d.customHeight=300)},pl=(t,o)=>{const n=o.querySelectorAll(`.vxe-cell--wrapper[colid="${t.id}"]`);let s=0;const a=n[0];if(a&&a.parentElement){const g=getComputedStyle(a.parentElement);s=Math.ceil(i.toNumber(g.paddingLeft)+i.toNumber(g.paddingRight))}let u=t.renderAutoWidth-s;for(let g=0;g<n.length;g++){const m=n[g];u=Math.max(u,m?Math.ceil(m.scrollWidth)+4:0)}return u+s},sn=()=>{const t=An.value,{fullColumnIdData:o}=d,n=M.value;n&&(n.setAttribute("data-calc-col","Y"),t.forEach(s=>{const a=s.id,u=o[a],g=pl(s,n);u&&(u.width=Math.max(g,u.width)),s.renderAutoWidth=g}),r.analyColumnWidth(),n.removeAttribute("data-calc-col"))},an=()=>{const{elemStore:t}=d,o=Je(t["main-body-wrapper"]);if(!o||!ce.value||!ee.value)return;let a=0;const u=40,g=o.clientWidth;let m=g,b=m/100;const{fit:v}=e,{columnStore:C}=f,{resizeList:D,pxMinList:R,autoMinList:I,pxList:H,scaleList:j,scaleMinList:A,autoList:F,remainList:q}=C;if(R.forEach(P=>{const S=i.toInteger(P.minWidth);a+=S,P.renderWidth=S}),I.forEach(P=>{const S=Math.max(60,i.toInteger(P.renderAutoWidth));a+=S,P.renderWidth=S}),A.forEach(P=>{const S=Math.floor(i.toInteger(P.minWidth)*b);a+=S,P.renderWidth=S}),j.forEach(P=>{const S=Math.floor(i.toInteger(P.width)*b);a+=S,P.renderWidth=S}),H.forEach(P=>{const S=i.toInteger(P.width);a+=S,P.renderWidth=S}),F.forEach(P=>{const S=Math.max(60,i.toInteger(P.renderAutoWidth));a+=S,P.renderWidth=S}),D.forEach(P=>{const S=i.toInteger(P.resizeWidth);a+=S,P.renderWidth=S}),m-=a,b=m>0?Math.floor(m/(A.length+R.length+I.length+q.length)):0,v?m>0&&A.concat(R).concat(I).forEach(P=>{a+=b,P.renderWidth+=b}):b=u,q.forEach(P=>{const S=Math.max(b,u);P.renderWidth=S,a+=S}),v){const P=j.concat(A).concat(R).concat(I).concat(q);let S=P.length-1;if(S>0){let Te=g-a;if(Te>0){for(;Te>0&&S>=0;)Te--,P[S--].renderWidth++;a=g}}}f.scrollXWidth=a,f.resizeWidthFlag++,li(),jn()},yl=(t,o)=>{const n=o.querySelectorAll(`.vxe-cell--wrapper[rowid="${t.rowid}"]`);let s=t.height;for(let a=0;a<n.length;a++){const u=n[a],g=u.parentElement,m=Math.ceil(i.toNumber(g.style.paddingTop)+i.toNumber(g.style.paddingBottom)),b=u?u.clientHeight:0;s=Math.max(s-m,Math.ceil(b))}return s},cn=()=>{const{tableData:t,isAllOverflow:o,scrollYLoad:n,scrollXLoad:s}=f,{fullAllDataRowIdData:a}=d,u=Le.value,g=M.value;if(!o&&n&&g){const{handleGetRowId:m}=po(r);g.setAttribute("data-calc-row","Y"),t.forEach(b=>{const v=m(b),C=a[v];if(C){const D=yl(C,g);C.height=Math.max(u,s?Math.max(C.height,D):D)}g.removeAttribute("data-calc-row")}),f.calcCellHeightFlag++}},Qo=t=>{const{sortBy:o,sortType:n}=t;return s=>{let a;return o?a=i.isFunction(o)?o({row:s,column:t}):i.get(s,o):a=z.getCellLabel(s,t),!n||n==="auto"?isNaN(a)?a:i.toNumber(a):n==="number"?i.toNumber(a):n==="string"?i.toValueString(a):a}},mo=()=>{const{treeConfig:t}=e,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:s}=d,{handleGetRowId:a}=po(r),u={};o.forEach((g,m)=>{const b=a(g),v=s[b],C=m+1;if(v)t||(v.seq=C),v._index=m;else{const D={row:g,rowid:b,seq:C,index:-1,$index:-1,_index:m,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[b]=D,n[b]=D}u[b]=g}),d.afterFullRowMaps=u},Jo=()=>{const{treeConfig:t}=e,{fullDataRowIdData:o,fullAllDataRowIdData:n,afterFullData:s,afterTreeFullData:a}=d,u=ht.value,{transform:g}=u,m=u.children||u.childrenField,b={};if(t){const{handleGetRowId:v}=po(r);i.eachTree(a,(C,D,R,I)=>{const H=v(C),j=n[H],A=I.map((F,q)=>q%2===0?Number(F)+1:".").join("");if(j)j.seq=A,j.treeIndex=D;else{const F={row:C,rowid:H,seq:A,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};n[H]=F,o[H]=F}b[H]=C},{children:g?u.mapChildrenField:m}),g&&s.forEach((C,D)=>{const R=v(C),I=n[R],H=D+1;I&&(t||(I.seq=H),I._index=D)}),d.afterFullRowMaps=b}else mo()},el=()=>{const{treeConfig:t}=e,{isRowGroupStatus:o}=f,{fullAllDataRowIdData:n,treeExpandedMaps:s,rowGroupExpandedMaps:a}=d,u=ke.value,g=ht.value,{handleGetRowId:m}=po(r),b=[],v={};if(t&&g.transform){const C=g.children||g.childrenField;return i.eachTree(d.afterTreeFullData,(D,R,I,H,j)=>{const A=m(D),F=m(j);if(!j||v[F]&&s[F]){const q=n[A];q&&(q._index=b.length),v[A]=1,b.push(D)}},{children:C}),d.afterFullData=b,_n(b),b}else if(o){const{childrenField:C}=u;return i.eachTree(d.afterGroupFullData,(D,R,I,H,j)=>{const A=m(D),F=m(j);if(!j||v[F]&&a[F]){const q=n[A];q&&(q._index=b.length),v[A]=1,b.push(D)}},{children:C}),d.afterFullData=b,_n(b),b}return d.afterFullData},dn=()=>{const{treeConfig:t}=e,{isRowGroupStatus:o}=f,{tableFullColumn:n,tableFullData:s,tableFullTreeData:a,tableFullGroupData:u}=d,g=_t.value,m=zt.value,b=ke.value,v=ht.value,C=v.children||v.childrenField,{transform:D,rowField:R,parentField:I,mapChildrenField:H}=v,{isEvery:j,remote:A,filterMethod:F}=g,{remote:q,sortMethod:P,multiple:S,chronological:Te}=m;let ve=[],ye=[];if(!A||!q){const Ke=[];let Ve=[];if(n.forEach($e=>{const{field:Ue,sortable:Ne,order:ft,filters:bt}=$e;if(!A&&bt&&bt.length){const at=[],ct=[];bt.forEach(Rt=>{Rt.checked&&(ct.push(Rt),at.push(Rt.value))}),ct.length&&Ke.push({column:$e,valueList:at,itemList:ct})}!q&&Ne&&ft&&Ve.push({column:$e,field:Ue,property:Ue,order:ft,sortTime:$e.sortTime})}),S&&Te&&Ve.length>1&&(Ve=i.orderBy(Ve,"sortTime")),!A&&Ke.length){const $e=Ue=>Ke.every(({column:Ne,valueList:ft,itemList:bt})=>{const{filterMethod:at,filterRender:ct}=Ne,Rt=Ct(ct)?Hi.get(ct.name):null,lo=Rt?Rt.tableFilterMethod||Rt.filterMethod:null,Ut=Rt?Rt.tableFilterDefaultMethod||Rt.defaultTableFilterMethod||Rt.defaultFilterMethod:null,io=bo(Ue,Ne);return at?bt.some(Lt=>at({value:Lt.value,option:Lt,cellValue:io,row:Ue,column:Ne,$table:r})):lo?bt.some(Lt=>lo({value:Lt.value,option:Lt,cellValue:io,row:Ue,column:Ne,$table:r})):F?F({$table:r,options:bt,values:ft,cellValue:io,row:Ue,column:Ne}):Ut?bt.some(Lt=>Ut({value:Lt.value,option:Lt,cellValue:io,row:Ue,column:Ne,$table:r})):ft.indexOf(i.get(Ue,Ne.field))>-1});o?(ye=i.searchTree(u,$e,{original:!0,isEvery:!0,children:b.mapChildrenField,mapChildren:b.childrenField}),ve=ye):t&&D?(ye=i.searchTree(a,$e,{original:!0,isEvery:j,children:H,mapChildren:C}),ve=ye):(ve=t?a.filter($e):s.filter($e),ye=ve)}else o?(ye=i.searchTree(u,()=>!0,{original:!0,isEvery:!0,children:b.mapChildrenField,mapChildren:b.childrenField}),ve=ye):t&&D?(ye=i.searchTree(a,()=>!0,{original:!0,isEvery:j,children:H,mapChildren:C}),ve=ye):(ve=t?a.slice(0):s.slice(0),ye=ve);if(!q&&Ve.length)if(o){if(P){const $e=P({data:ye,sortList:Ve,$table:r});ye=i.isArray($e)?$e:ye}else{const $e=i.toTreeArray(ye,{key:b.rowField,parentKey:b.parentField,children:b.mapChildrenField});ye=i.toArrayTree(i.orderBy($e,Ve.map(({column:Ue,order:Ne})=>[Qo(Ue),Ne])),{key:b.rowField,parentKey:b.parentField,children:b.childrenField,mapChildren:b.mapChildrenField})}ve=ye}else if(t&&D){if(P){const $e=P({data:ye,sortList:Ve,$table:r});ye=i.isArray($e)?$e:ye}else{const $e=i.toTreeArray(ye,{children:H});ye=i.toArrayTree(i.orderBy($e,Ve.map(({column:Ue,order:Ne})=>[Qo(Ue),Ne])),{key:R,parentKey:I,children:C,mapChildren:H})}ve=ye}else{if(P){const $e=P({data:ve,sortList:Ve,$table:r});ve=i.isArray($e)?$e:ve}else ve=i.orderBy(ve,Ve.map(({column:$e,order:Ue})=>[Qo($e),Ue]));ye=ve}}else o?(ye=i.searchTree(u,()=>!0,{original:!0,isEvery:!0,children:b.mapChildrenField,mapChildren:b.childrenField}),ve=ye):t&&D?(ye=i.searchTree(a,()=>!0,{original:!0,isEvery:j,children:H,mapChildren:C}),ve=ye):(ve=t?a.slice(0):s.slice(0),ye=ve);d.afterFullData=ve,d.afterTreeFullData=ye,d.afterGroupFullData=ye,Jo()},Ro=()=>{const{showHeaderOverflow:t,showFooterOverflow:o,mouseConfig:n,spanMethod:s,footerSpanMethod:a}=e,{isGroup:u,currentRow:g,tableColumn:m,scrollXLoad:b,scrollYLoad:v,overflowX:C,scrollbarWidth:D,overflowY:R,scrollbarHeight:I,scrollXWidth:H,columnStore:j,editStore:A,isAllOverflow:F,expandColumn:q,isColLoading:P}=f,{visibleColumn:S,tableHeight:Te,headerHeight:ve,footerHeight:ye,elemStore:Ke,customHeight:Ve,customMinHeight:$e,customMaxHeight:Ue}=d,Ne=M.value;if(!Ne)return;const ft=["main","left","right"],bt=R?D:0,at=C?I:0,ct=Se.value,Rt=kt.value,lo=St.value,Ut=Je(Ke["main-body-wrapper"]),io=Je(Ke["main-body-table"]);ct&&(ct.style.top=`${ve}px`,ct.style.height=Ut?`${Ut.offsetHeight-at}px`:"");let Lt=0,xo=0;const ao=$e-ve-ye-at;Ue&&(xo=Math.max(ao,Ue-ve-ye-at)),Ve&&(Lt=Ve-ve-ye-at),Lt||io&&(Lt=io.clientHeight),Lt&&(xo&&(Lt=Math.min(xo,Lt)),Lt=Math.max(ao,Lt));const Do=ut.value,Xt=Re.value,co=ne.value,Pt=J.value;Pt&&(Pt.style.height=`${at}px`,Pt.style.visibility=C?"visible":"hidden");const Ht=me.value;Ht&&(Ht.style.left=Do?`${bt}px`:"",Ht.style.width=`${Ne.clientWidth-bt}px`),Xt&&(Xt.style.width=Do?`${bt}px`:"",Xt.style.display=Do&&C&&at?"block":""),co&&(co.style.width=Do?"":`${bt}px`,co.style.display=Do?"":C&&at?"block":"");const Bo=be.value;Bo&&(Bo.style.width=`${bt}px`,Bo.style.height=`${Lt+ve+ye}px`,Bo.style.visibility=R?"visible":"hidden");const wo=Me.value;wo&&(wo.style.height=`${ve}px`,wo.style.display=R&&ve?"block":"");const $o=Z.value;$o&&($o.style.height=`${Lt}px`,$o.style.top=`${ve}px`);const Po=Fe.value;Po&&(Po.style.height=`${ye}px`,Po.style.top=`${ve+Lt}px`,Po.style.display=R&&ye?"block":"");const Sl=te.value;return Sl&&(Sl.style.height=`${Lt}px`,Sl.style.top=`${ve}px`),ft.forEach((Wo,Sr)=>{const il=Sr>0?Wo:"",gc=["header","body","footer"],fi=il==="left";let Xn=[],Kn;il&&(Xn=fi?j.leftList:j.rightList,Kn=fi?Ee.value:Ae.value),gc.forEach(Gl=>{const Mo=Je(Ke[`${Wo}-${Gl}-wrapper`]),Al=Je(Ke[`${Wo}-${Gl}-scroll`]),ql=Je(Ke[`${Wo}-${Gl}-table`]);if(Gl==="header"){let tl=m,Go=!1;u?tl=S:(b&&t&&(s||a||(Go=!0)),(!Go||!P&&(il||!C))&&(tl=S),il&&Go&&(tl=Xn||[]));const Lo=tl.reduce((bn,Xl)=>bn+Xl.renderWidth,0);il&&(u?Mo&&(Mo.style.width=H?`${H}px`:""):Go?Mo&&(Mo.style.width=Lo?`${Lo}px`:""):Mo&&(Mo.style.width=H?`${H}px`:"")),Al&&(Al.style.height=`${ve}px`),ql&&(ql.style.width=Lo?`${Lo}px`:"")}else if(Gl==="body"){Al&&(Al.style.maxHeight=Ue?`${xo}px`:"",Al.style.height=Ve?`${Lt}px`:"",Al.style.minHeight=`${ao}px`),Kn&&(Mo&&(Mo.style.top=`${ve}px`),Kn.style.height=`${Ve>0?Ve:Te+ve+ye+at}px`,Kn.style.width=`${Xn.reduce((Xl,hs)=>Xl+hs.renderWidth,0)}px`);let tl=m,Go=!1;(b||v||F)&&(q&&lo.mode!=="fixed"||s||a||(Go=!0)),il&&(tl=S,Go&&(tl=Xn||[]));const Lo=tl.reduce((Xl,hs)=>Xl+hs.renderWidth,0);il&&(Go?Mo&&(Mo.style.width=Lo?`${Lo}px`:""):Mo&&(Mo.style.width=H?`${H}px`:"")),ql&&(ql.style.width=Lo?`${Lo}px`:"",ql.style.paddingRight=bt&&il&&(x.firefox||x.safari)?`${bt}px`:"");const bn=Je(Ke[`${Wo}-${Gl}-emptyBlock`]);bn&&(bn.style.width=Lo?`${Lo}px`:"")}else if(Gl==="footer"){let tl=m,Go=!1;b&&o&&(s||a||(Go=!0)),(!Go||!P&&(il||!C))&&(tl=S),il&&Go&&(tl=Xn||[]);const Lo=tl.reduce((bn,Xl)=>bn+Xl.renderWidth,0);il&&(Go?Mo&&(Mo.style.width=Lo?`${Lo}px`:""):Mo&&(Mo.style.width=H?`${H}px`:"")),Al&&(Al.style.height=`${ye}px`,Kn&&Mo&&(Mo.style.top=`${Ve>0?Ve-ye-at:Te+ve}px`)),ql&&(ql.style.width=Lo?`${Lo}px`:"")}})}),g&&r.setCurrentRow(g),n&&Rt.selected&&A.selected.row&&A.selected.column&&r.addCellSelectedClass(),de()},Rl=t=>r.triggerValidate?r.triggerValidate(t):de(),zn=(t,o)=>{Rl("blur").catch(n=>n).then(()=>{r.handleEdit(o,t).then(()=>Rl("change")).catch(n=>n)})},es=()=>{const{sortConfig:t}=e;if(t){const o=zt.value;let{defaultSort:n}=o;n&&(i.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((s,a)=>{const{field:u,order:g}=s;if(u&&g){const m=r.getColumnByField(u);m&&m.sortable&&(m.order=g,m.sortTime=Date.now()+a)}}),o.remote||r.handleTableData(!0).then(Ro)))}},un=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=wt.value,{checkAll:s,checkRowKeys:a}=n;if(s)ts(!0,!0);else if(a){const u=[];a.forEach(g=>{o[g]&&u.push(o[g].row)}),Io(u,!0,!0)}}},zl=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=Ze.value,{checkRowKey:s,reserve:a}=n;if(s&&(o[s]&&Co(o[s].row,!0),a)){const u=Kl(r);d.radioReserveRow={[u]:s}}}},kl=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=St.value,{expandAll:s,expandRowKeys:a}=n;if(s)r.setAllRowExpand(!0);else if(a){const u=[];a.forEach(g=>{o[g]&&u.push(o[g].row)}),r.setRowExpand(u,!0)}}},mr=t=>{Ze.value.reserve&&(d.radioReserveRow=t)},Dt=(t,o)=>{const{checkboxReserveRowMap:n}=d;if(wt.value.reserve){const a=Be(r,t);o?n[a]=t:n[a]&&delete n[a]}},Co=(t,o)=>{const n=Ze.value,{checkMethod:s}=n;return t&&(o||!s||s({$table:r,row:t}))&&(f.selectRadioRow=t,mr(t)),de()},Io=(t,o,n)=>(t&&!i.isArray(t)&&(t=[t]),r.handleBatchSelectRows(t,!!o,n),r.checkSelectionStatus(),de()),ts=(t,o)=>{const{treeConfig:n}=e,{isRowGroupStatus:s}=f,{afterFullData:a,afterTreeFullData:u,afterGroupFullData:g,checkboxReserveRowMap:m,selectCheckboxMaps:b}=d,v=ht.value,C=ke.value,D=v.children||v.childrenField,R=wt.value,{checkField:I,reserve:H,checkMethod:j}=R,{handleGetRowId:A}=po(r),F=R.indeterminateField||R.halfField,q={};if(I){const P=S=>{(o||!j||j({$table:r,row:S}))&&(t&&(q[A(S)]=S),i.set(S,I,t)),(n||s)&&F&&i.set(S,F,!1)};n||s?i.eachTree(a,P,{children:D}):a.forEach(P)}else s?t?i.eachTree(g,P=>{if(o||!j||j({$table:r,row:P})){const S=A(P);q[S]=P}},{children:C.mapChildrenField}):!o&&j&&i.eachTree(g,P=>{const S=A(P);!j({$table:r,row:P})&&b[S]&&(q[S]=P)},{children:C.mapChildrenField}):n?t?i.eachTree(u,P=>{if(o||!j||j({$table:r,row:P})){const S=A(P);q[S]=P}},{children:D}):!o&&j&&i.eachTree(u,P=>{const S=A(P);!j({$table:r,row:P})&&b[S]&&(q[S]=P)},{children:D}):t?!o&&j?a.forEach(P=>{const S=A(P);(b[S]||j({$table:r,row:P}))&&(q[S]=P)}):a.forEach(P=>{const S=A(P);q[S]=P}):!o&&j&&a.forEach(P=>{const S=A(P);!j({$table:r,row:P})&&b[S]&&(q[S]=P)});return H&&(t?i.each(q,(P,S)=>{m[S]=P}):a.forEach(P=>Dt(P,!1))),f.updateCheckboxFlag++,d.selectCheckboxMaps=I?{}:q,f.isAllSelected=t,f.isIndeterminate=!1,d.treeIndeterminateRowMaps={},r.checkSelectionStatus(),de()},Ha=()=>{const{treeConfig:t}=e,{expandColumn:o,currentRow:n,selectRadioRow:s}=f,{fullDataRowIdData:a,fullAllDataRowIdData:u,radioReserveRow:g,selectCheckboxMaps:m,treeExpandedMaps:b,rowExpandedMaps:v}=d,C=St.value,D=ht.value,R=Ze.value,I=wt.value;if(s&&!u[Be(r,s)]&&(f.selectRadioRow=null),R.reserve&&g){const H=Be(r,g);a[H]&&Co(a[H].row,!0)}d.selectCheckboxMaps=Zo(m),f.updateCheckboxFlag++,I.reserve&&Io($n(d.checkboxReserveRowMap),!0,!0),n&&!u[Be(r,n)]&&(f.currentRow=null),d.rowExpandedMaps=o?Zo(v):{},f.rowExpandedFlag++,o&&C.reserve&&r.setRowExpand($n(d.rowExpandedReserveRowMap),!0),d.treeExpandedMaps=t?Zo(b):{},f.treeExpandedFlag++,t&&D.reserve&&r.setTreeExpand($n(d.treeExpandedReserveRowMap),!0)},Ba=()=>{const{treeConfig:t}=e;if(t){const{tableFullData:o}=d,n=ht.value,{expandAll:s,expandRowKeys:a}=n,u=n.children||n.childrenField;if(s)r.setAllTreeExpand(!0);else if(a){const g=[],m=Kl(r);a.forEach(b=>{const v=i.findTree(o,C=>b===i.get(C,m),{children:u});v&&g.push(v.item)}),r.setTreeExpand(g,!0)}}},qs=t=>{const o=ht.value,n=wt.value,{transform:s,loadMethod:a}=o,{checkStrictly:u}=n;return new Promise(g=>{if(a){const{fullAllDataRowIdData:m,treeExpandLazyLoadedMaps:b}=d,v=Be(r,t),C=m[v];b[v]=t,Promise.resolve(a({$table:r,row:t})).then(D=>{if(C&&(C.treeLoaded=!0),b[v]&&delete b[v],i.isArray(D)||(D=[]),D)return r.loadTreeChildren(t,D).then(R=>{const{treeExpandedMaps:I}=d;return R.length&&!I[v]&&(I[v]=t),f.treeExpandedFlag++,!u&&r.isCheckedByCheckboxRow(t)&&Io(R,!0),de().then(()=>{if(s)return r.handleTableData(),Jo(),de()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:D}=d;C&&(C.treeLoaded=!1),D[v]&&delete D[v]}).finally(()=>{f.treeExpandedFlag++,de().then(()=>r.recalculate()).then(()=>g())})}else g()})},Xs=(t,o)=>{const{treeExpandedReserveRowMap:n}=d;if(ht.value.reserve){const a=Be(r,t);o?n[a]=t:n[a]&&delete n[a]}},Ks=t=>new Promise(o=>{const n=St.value,{loadMethod:s}=n;if(s){const{fullAllDataRowIdData:a,rowExpandLazyLoadedMaps:u}=d,g=Be(r,t),m=a[g];u[g]=t,s({$table:r,row:t,rowIndex:r.getRowIndex(t),$rowIndex:r.getVMRowIndex(t)}).then(()=>{const{rowExpandedMaps:b}=d;m&&(m.expandLoaded=!0),b[g]=t,f.rowExpandedFlag++}).catch(()=>{m&&(m.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:b}=d;b[g]&&delete b[g],f.rowExpandedFlag++,de().then(()=>r.recalculate()).then(()=>r.updateCellAreas()).then(()=>o())})}else o()}),Ys=(t,o)=>{const{rowExpandedReserveRowMap:n}=d;if(St.value.reserve){const a=Be(r,t);o?n[a]=t:n[a]&&delete n[a]}},$a=()=>{const{mergeCells:t}=e;t&&r.setMergeCells(t)},Pa=()=>{const{mergeFooterItems:t}=e;t&&r.setMergeFooterItems(t)},os=()=>de().then(()=>{const{scrollXLoad:t,scrollYLoad:o}=f,{scrollXStore:n,scrollYStore:s}=d,a=qe.value,u=vt.value;if(t){const{toVisibleIndex:v,visibleSize:C}=jl(),D=Math.max(0,u.oSize?i.toNumber(u.oSize):0);n.preloadSize=i.toNumber(u.preSize),n.offsetSize=D,n.visibleSize=C,n.endIndex=Math.max(n.startIndex+n.visibleSize+D,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,v),n.visibleEndIndex=Math.min(n.endIndex,v+C),r.updateScrollXData().then(()=>{_l()})}else r.updateScrollXSpace();const g=fr();s.rowHeight=g,f.rowHeight=g;const{toVisibleIndex:m,visibleSize:b}=Tl();if(o){const v=Math.max(0,a.oSize?i.toNumber(a.oSize):0);s.preloadSize=i.toNumber(a.preSize),s.offsetSize=v,s.visibleSize=b,s.endIndex=Math.max(s.startIndex+b+v,s.endIndex),s.visibleStartIndex=Math.max(s.startIndex,m),s.visibleEndIndex=Math.min(s.endIndex,m+b),r.updateScrollYData().then(()=>{Wn()})}else r.updateScrollYSpace()}),br=()=>{const{scrollXWidth:t,scrollYHeight:o}=f,{elemStore:n}=d,s=Ge.value,a=Je(n["main-body-wrapper"]),u=Je(n["main-header-table"]),g=Je(n["main-footer-table"]),m=ee.value,b=ce.value;let v=!1,C=!1;if(a){v=o>a.clientHeight,b&&(f.scrollbarWidth=s.width||b.offsetWidth-b.clientWidth||14),f.overflowY=v,C=t>a.clientWidth,m&&(f.scrollbarHeight=s.height||m.offsetHeight-m.clientHeight||14);const D=u?u.clientHeight:0,R=g?g.clientHeight:0;d.tableHeight=a.offsetHeight,d.headerHeight=D,d.footerHeight=R,f.overflowX=C,f.parentHeight=Math.max(d.headerHeight+R+20,r.getParentHeight())}C&&r.checkScrolling()},fn=t=>{const o=M.value;if(d.rceRunTime=Date.now(),!o||!o.clientWidth)return de();const n=_.value;if(n){const[s,a,u,g]=n.children;wl("default",s),wl("medium",a),wl("small",u),wl("mini",g)}return sn(),an(),br(),Ro(),Wl(),os().then(()=>{if(sn(),t&&an(),br(),Ro(),t&&_o(),Wl(),t)return os()})},xr=t=>{f.rowGroupList=t?(i.isArray(t)?t:[t]).map(o=>({field:o})):[]},Us=(t,o)=>{let n=t,s=t;if(o){const a=ke.value,{rowField:u,parentField:g,childrenField:m,mapChildrenField:b}=a,v=wt.value,{checkField:C}=v,D=v.indeterminateField||v.halfField,R=o[0];if(R&&u&&g&&m&&b){n=[],s=[];const I=R.field,H=r.getColumnByField(I),j={},A=Kl(r);t.forEach(F=>{const q=H?r.getCellLabel(F,H):i.get(F,I),P=i.eqNull(q)?"":q;let S=j[P];S||(S=[],j[P]=S),F.isAggregate&&(F.isAggregate=void 0),S.push(F)}),i.objectEach(j,(F,q)=>{const{fullData:P,treeData:S}=Us(F,o.slice(1)),Te={isAggregate:!0,groupContent:q,groupField:I,[u]:nr(),[g]:null,[A]:nr(),[m]:S,[b]:S};C&&(Te[C]=!1),D&&(Te[D]=!1),s.push(Te),n.push(Te),P.length&&n.push(...P)})}}return{treeData:s,fullData:n}},pn=(t,o)=>{const{keepSource:n,treeConfig:s,rowGroupConfig:a}=e,{rowGroupList:u,scrollYLoad:g}=f,{scrollYStore:m,scrollXStore:b,lastScrollLeft:v,lastScrollTop:C}=d,D=Oe.value,R=ht.value,I=St.value,{transform:H}=R,j=R.children||R.childrenField;let A=[],F=vl(t?t.slice(0):[]);if(F.length>Pi&&ze("vxe.error.errMaxRow",[Pi]),s&&u.length)return ze("vxe.error.noTree",["row-group-config"]),de();if(D.drag&&u.length)return ze("vxe.error.errConflicts",["row-config.drag","row-group-config"]),de();let q=!1;if(s)H?(R.rowField||ze("vxe.error.reqProp",["tree-config.rowField"]),R.parentField||ze("vxe.error.reqProp",["tree-config.parentField"]),j||ze("vxe.error.reqProp",["tree-config.childrenField"]),R.mapChildrenField||ze("vxe.error.reqProp",["tree-config.mapChildrenField"]),j===R.mapChildrenField&&ze("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),A=i.toArrayTree(F,{key:R.rowField,parentKey:R.parentField,children:j,mapChildren:R.mapChildrenField}),F=A.slice(0)):A=F.slice(0);else if(a&&u.length){const S=Us(F,u);A=S.treeData,F=S.fullData,q=!0}f.isRowGroupStatus=q,m.startIndex=0,m.endIndex=1,b.startIndex=0,b.endIndex=1,d.cvCacheMaps={},f.isRowLoading=!0,f.scrollVMLoading=!1,d.treeExpandedMaps={},f.treeExpandedFlag++,d.rowExpandedMaps={},f.rowExpandedFlag++,d.insertRowMaps={},f.insertRowFlag++,d.removeRowMaps={},f.removeRowFlag++;const P=_n(F);return f.isDragColMove=!1,f.isDragRowMove=!1,d.tableFullData=F,d.tableFullTreeData=q?[]:A,d.tableFullGroupData=q?A:[],r.cacheRowMap(o),d.tableSynchData=t,o&&(d.isResizeCellHeight=!1),n&&r.cacheSourceMap(F),r.clearCellAreas&&e.mouseConfig&&(r.clearCellAreas(),r.clearCopyCellArea()),r.clearMergeCells(),r.clearMergeFooterItems(),r.handleTableData(!0),r.updateFooter(),r.handleUpdateBodyMerge(),de().then(()=>{jn(),Ro()}).then(()=>{os()}).then(()=>(P&&(m.endIndex=m.visibleSize),P&&(f.expandColumn&&I.mode!=="fixed"&&ze("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||ze("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&ze("vxe.error.scrollErrProp",["table.span-method"])),Ha(),r.checkSelectionStatus(),new Promise(S=>{de().then(()=>fn(!1)).then(()=>(cn(),_o(),fn(!1))).then(()=>{let Te=v,ve=C;const ye=vt.value,Ke=qe.value;ye.scrollToLeftOnChange&&(Te=0),Ke.scrollToTopOnChange&&(ve=0),f.isRowLoading=!1,fn(!1),g===P?bs(r,Te,ve).then(()=>{S()}):setTimeout(()=>{bs(r,Te,ve).then(()=>{S()})})})})))},vr=()=>{un(),zl(),kl(),Ba(),$a(),Pa(),de(()=>setTimeout(()=>r.recalculate()))},Va=()=>{es()},ls=()=>{const{scrollXLoad:t}=f,{visibleColumn:o,scrollXStore:n,fullColumnIdData:s}=d,a=t?o.slice(n.startIndex,n.endIndex):o.slice(0);a.forEach((u,g)=>{const m=u.id,b=s[m];b&&(b.$index=g)}),f.tableColumn=a},Zs=()=>{const t=i.orderBy(d.collectColumn,"renderSortNumber");d.collectColumn=t;const o=Cr(t);d.tableFullColumn=o,Nn()},_l=()=>{const{isScrollXBig:t}=f,{mergeBodyList:o,mergeFooterList:n,scrollXStore:s}=d,{preloadSize:a,startIndex:u,endIndex:g,offsetSize:m}=s,{toVisibleIndex:b,visibleSize:v}=jl(),C={startIndex:Math.max(0,t?b-1:b-1-m-a),endIndex:t?b+v:b+v+m+a};s.visibleStartIndex=b-1,s.visibleEndIndex=b+v+1,Pn(o.concat(n),C,"col");const{startIndex:D,endIndex:R}=C;(b<=u||b>=g-v-1)&&(u!==D||g!==R)&&(s.startIndex=D,s.endIndex=R,r.updateScrollXData()),r.closeTooltip()},Cr=t=>{const o=[];return t.forEach(n=>{o.push(...n.children&&n.children.length?Cr(n.children):[n])}),o},ns=t=>{const o=[],n=[],s=[],{isGroup:a,columnStore:u}=f,g=vt.value,{collectColumn:m,tableFullColumn:b,scrollXStore:v,fullColumnIdData:C}=d;if(a){const I=[],H=[],j=[];i.eachTree(m,(A,F,q,P,S)=>{const Te=Dn(A);S&&S.fixed&&(A.fixed=S.fixed),S&&A.fixed!==S.fixed&&ze("vxe.error.groupFixed"),Te?A.visible=!!i.findTree(A.children,ve=>Dn(ve)?!1:ve.visible):A.visible&&(A.fixed==="left"?o.push(A):A.fixed==="right"?s.push(A):n.push(A))}),m.forEach(A=>{A.visible&&(A.fixed==="left"?I.push(A):A.fixed==="right"?j.push(A):H.push(A))}),f.tableGroupColumn=I.concat(H).concat(j)}else b.forEach(I=>{I.visible&&(I.fixed==="left"?o.push(I):I.fixed==="right"?s.push(I):n.push(I))});const D=o.concat(n).concat(s),R=!!g.enabled&&g.gt>-1&&(g.gt===0||g.gt<b.length);if(f.hasFixedColumn=o.length>0||s.length>0,Object.assign(u,{leftList:o,centerList:n,rightList:s}),R&&(e.spanMethod&&pt("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&pt("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:I}=jl();v.startIndex=0,v.endIndex=I,v.visibleSize=I,v.visibleStartIndex=0,v.visibleEndIndex=I}return(D.length!==d.visibleColumn.length||!d.visibleColumn.every((I,H)=>I===D[H]))&&(r.clearMergeCells(),r.clearMergeFooterItems()),f.scrollXLoad=R,D.forEach((I,H)=>{const j=I.id,A=C[j];A&&(A._index=H)}),d.visibleColumn=D,ls(),t?(li(),r.updateFooter().then(()=>r.recalculate()).then(()=>(r.updateCellAreas(),r.recalculate()))):r.updateFooter()},Na=()=>{const{collectColumn:t}=d;t.forEach((o,n)=>{const s=n+1;o.sortNumber=s,o.renderSortNumber=s})},Qs=t=>{const o=St.value;d.collectColumn=t;const n=Cr(t);return d.tableFullColumn=n,f.isColLoading=!0,f.isDragColMove=!1,Na(),Promise.resolve(hr()).then(()=>{const{scrollXLoad:s,scrollYLoad:a,expandColumn:u}=f;return Nn(),ns(!0).then(()=>{f.scrollXLoad&&_l()}),r.clearMergeCells(),r.clearMergeFooterItems(),r.handleTableData(!0),(s||a)&&u&&o.mode!=="fixed"&&pt("vxe.error.scrollErrProp",["column.type=expand"]),de().then(()=>(Xe&&Xe.syncUpdate({collectColumn:d.collectColumn,$table:r}),r.handleUpdateCustomColumn&&r.handleUpdateCustomColumn(),f.isColLoading=!1,r.recalculate()))})},_n=t=>{const{treeConfig:o}=e,n=qe.value,s=ht.value,{transform:a}=s,u=t||d.tableFullData,g=(a||!o)&&!!n.enabled&&n.gt>-1&&(n.gt===0||n.gt<u.length);return f.scrollYLoad=g,g},Js=(t,o)=>{const{treeNodeColumn:n}=f,{fullAllDataRowIdData:s,tableFullTreeData:a,treeExpandedMaps:u,treeExpandLazyLoadedMaps:g}=d,m=ht.value,{reserve:b,lazy:v,accordion:C,toggleMethod:D}=m,R=m.children||m.childrenField,I=m.hasChild||m.hasChildField,H=[],j=r.getColumnIndex(n),A=r.getVMColumnIndex(n),{handleGetRowId:F}=po(r);let q=D?t.filter(P=>D({$table:r,expanded:o,column:n,columnIndex:j,$columnIndex:A,row:P})):t;if(C){q=q.length?[q[q.length-1]]:[];const P=i.findTree(a,S=>S===q[0],{children:R});P&&P.items.forEach(S=>{const Te=F(S);u[Te]&&delete u[Te]})}return o?q.forEach(P=>{const S=F(P);if(!u[S]){const Te=s[S];Te&&(v&&P[I]&&!Te.treeLoaded&&!g[S]?H.push(qs(P)):P[R]&&P[R].length&&(u[S]=P))}}):q.forEach(P=>{const S=F(P);u[S]&&delete u[S]}),b&&q.forEach(P=>Xs(P,o)),f.treeExpandedFlag++,Promise.all(H).then(()=>r.recalculate())},ja=(t,o)=>Js(t,o).then(()=>(el(),r.handleTableData(),f.treeExpandedFlag++,Jo(),de())).then(()=>r.recalculate(!0)).then(()=>{setTimeout(()=>{r.updateCellAreas()},30)}),za=(t,o)=>{const{fullAllDataRowIdData:n,tableFullGroupData:s,rowGroupExpandedMaps:a}=d,u=ke.value,{mapChildrenField:g,accordion:m}=u,{handleGetRowId:b}=po(r);let v=t;if(g){if(m){v=v.length?[v[v.length-1]]:[];const C=i.findTree(s,D=>Be(r,D)===Be(r,v[0]),{children:g});C&&C.items.forEach(D=>{const R=b(D);a[R]&&delete a[R]})}o?v.forEach(C=>{const D=b(C);a[D]||n[D]&&C[g]&&C[g].length&&(a[D]=C)}):v.forEach(C=>{const D=b(C);a[D]&&delete a[D]})}return f.rowGroupExpandedFlag++,r.recalculate()},_a=(t,o)=>za(t,o).then(()=>(el(),r.handleTableData(),f.rowGroupExpandedFlag++,Jo(),de())).then(()=>r.recalculate(!0)).then(()=>{setTimeout(()=>{r.updateCellAreas()},30)}),ei=(t,o)=>{ts(o),t&&At("checkbox-all",{records:()=>r.getCheckboxRecords(),reserves:()=>r.getCheckboxReserveRecords(),indeterminates:()=>r.getCheckboxIndeterminateRecords(),checked:o},t)},Wn=()=>{const{isAllOverflow:t,isScrollYBig:o}=f,{mergeBodyList:n,scrollYStore:s}=d,{preloadSize:a,startIndex:u,endIndex:g,offsetSize:m}=s,b=t?m:m+1,{toVisibleIndex:v,visibleSize:C}=Tl(),D={startIndex:Math.max(0,o?v-1:v-1-m-a),endIndex:o?v+C:v+C+b+a};s.visibleStartIndex=v-1,s.visibleEndIndex=v+C+1,Pn(n,D,"row");const{startIndex:R,endIndex:I}=D;(v<=u||v>=g-C-1)&&(u!==R||g!==I)&&(s.startIndex=R,s.endIndex=I,r.updateScrollYData())},wr=t=>function(o){const{fullAllDataRowIdData:n}=d;if(o){const s=Be(r,o),a=n[s];if(a)return a[t]}return-1},rs=t=>function(o){const{fullColumnIdData:n}=d;if(o){const s=n[o.id];if(s)return s[t]}return-1},Wa=()=>{const{lxTimeout:t,lxRunTime:o,scrollXStore:n}=d,{visibleSize:s}=n,a=s>26?26:s>16?14:6;t&&clearTimeout(t),(!o||o+a<Date.now())&&(d.lxRunTime=Date.now(),_l()),d.lxTimeout=setTimeout(()=>{d.lxTimeout=void 0,d.lxRunTime=void 0,_l()},a)},Ga=()=>{const{lyTimeout:t,lyRunTime:o,scrollYStore:n}=d,{visibleSize:s}=n,a=s>30?32:s>20?18:8;t&&clearTimeout(t),(!o||o+a<Date.now())&&(d.lyRunTime=Date.now(),Wn()),d.lyTimeout=setTimeout(()=>{d.lyTimeout=void 0,d.lyRunTime=void 0,Wn()},a)},qa=(t,o)=>{const{scrollXLoad:n,scrollYLoad:s,isAllOverflow:a}=f,{lcsTimeout:u}=d;u&&clearTimeout(u),d.lcsTimeout=setTimeout(()=>{d.lcsRunTime=Date.now(),d.lcsTimeout=void 0,d.intoRunScroll=!1,d.inVirtualScroll=!1,d.inWheelScroll=!1,d.inHeaderScroll=!1,d.inBodyScroll=!1,d.inFooterScroll=!1,d.scrollRenderType="",a||(cn(),_o()),t&&n&&r.updateScrollXData(),o&&s&&r.updateScrollYData().then(()=>{a||(cn(),_o()),r.updateScrollYSpace()}),Wl(),r.updateCellAreas()},200)},Xa=t=>{let o=1;const n=Date.now();return t+25>n?o=1.18:t+30>n?o=1.15:t+40>n?o=1.12:t+55>n?o=1.09:t+75>n?o=1.06:t+100>n&&(o=1.03),o},Ka=(t,o)=>{requestAnimationFrame(()=>{o(t)})},Ya=(t,o)=>{const n=Math.abs(t),s=performance.now();let a=0;const u=g=>{let m=(g-s)/n;m>1&&(m=1);const b=Math.pow(m,2),v=Math.floor(t*b)-a;a+=v,o(v),m<1&&requestAnimationFrame(u)};requestAnimationFrame(u)},At=(t,o,n)=>{p(t,Ed(n,{$table:r,$grid:_e},o))},Ua=(t,o)=>{const{fullColumnIdData:n}=d,s=to(r,t);return s&&n[s.id]?yi(r,s,o):de()},ss=()=>{const t=M.value;t&&t.clientWidth&&t.clientHeight&&z.recalculate()},ti=(t,o)=>{r.analyColumnWidth(),r.recalculate().then(()=>{r.saveCustomStore("update:width"),r.updateCellAreas(),r.dispatchEvent("column-resizable-change",o,t),r.dispatchEvent("resizable-change",o,t),setTimeout(()=>r.recalculate(!0),300)})},oi=(t,o)=>{f.resizeHeightFlag++,r.recalculate().then(()=>{r.updateCellAreas(),r.dispatchEvent("row-resizable-change",o,t),setTimeout(()=>r.recalculate(!0),300)})},li=()=>{const{visibleColumn:t,fullColumnIdData:o}=d;let n=0;for(let s=0,a=t.length;s<a;s++){const u=t[s],g=u.id,m=o[g];m&&(m.oLeft=n),n+=u.renderWidth}},_o=()=>{const{expandColumn:t}=f,{afterFullData:o,fullAllDataRowIdData:n,rowExpandedMaps:s}=d,a=St.value,u=Oe.value,g=X.value,m=Le.value,{handleGetRowId:b}=po(r);let v=0;for(let C=0,D=o.length;C<D;C++){const R=o[C],I=b(R),H=n[I]||{};H.oTop=v,v+=H.resizeHeight||g.height||u.height||H.height||m,t&&s[I]&&(v+=H.expandHeight||a.height||0)}},Wl=()=>{const{expandColumn:t,scrollYLoad:o,scrollYTop:n,isScrollYBig:s}=f,a=St.value,u=Oe.value,g=X.value,m=Le.value,{mode:b}=a;if(t&&b==="fixed"){const{elemStore:v,fullAllDataRowIdData:C}=d,D=te.value,R=Je(v["main-body-scroll"]);if(D&&R){let I=!1;i.arrayEach(D.children,H=>{const j=H,A=j.getAttribute("rowid")||"",F=C[A];if(F){const q=j.offsetHeight+1,P=R.querySelector(`.vxe-body--row[rowid="${A}"]`);let S=0;o?s&&P?S=P.offsetTop+P.offsetHeight:S=F.oTop+(F.resizeHeight||g.height||u.height||F.height||m):P&&(S=P.offsetTop+P.offsetHeight),s&&(S+=n),j.style.top=rr(S),I||F.expandHeight!==q&&(I=!0),F.expandHeight=q}}),I&&(f.rowExpandHeightFlag++,de(()=>{_o()}))}}},ni=()=>{const{elemStore:t}=d,o=te.value,n=Je(t["main-body-scroll"]);o&&n&&(o.scrollTop=n.scrollTop)};z={dispatchEvent:At,getEl(){return M.value},clearAll(){return od(r)},syncData(){return ze("vxe.error.delFunc",["syncData","getData"]),de().then(()=>(f.tableData=[],p("update:data",d.tableFullData),de()))},updateData(){const{scrollXLoad:t,scrollYLoad:o}=f;return N.handleTableData(!0).then(()=>{if(z.updateFooter(),t||o)return t&&N.updateScrollXSpace(),o&&N.updateScrollYSpace(),z.refreshScroll()}).then(()=>(z.updateCellAreas(),z.recalculate(!0))).then(()=>{setTimeout(()=>r.recalculate(),50)})},loadData(t){const{initStatus:o}=d;return pn(t,!1).then(()=>(d.inited=!0,d.initStatus=!0,o||vr(),z.recalculate()))},reloadData(t){return z.clearAll().then(()=>(d.inited=!0,d.initStatus=!0,pn(t,!0))).then(()=>(vr(),z.recalculate()))},setRow(t,o){if(t&&o){let n=t;i.isArray(t)||(n=[t]);const s=Kl(r);n.forEach(a=>{const u=Be(r,a),g=i.clone(Object.assign({},o),!0);i.set(g,s,u),Object.assign(a,g)})}return de()},reloadRow(t,o,n){const{keepSource:s}=e,{tableData:a}=f,{tableSourceData:u}=d;if(s){const g=z.getRowIndex(t),m=u[g];if(m&&t)if(n){const b=i.clone(i.get(o||t,n),!0);i.set(t,n,b),i.set(m,n,b)}else{const b=Kl(r),v=Be(r,t),C=i.clone(Object.assign({},o),!0);i.set(C,b,v),i.destructuring(m,Object.assign(t,C))}f.tableData=a.slice(0)}else ze("vxe.error.reqProp",["keep-source"]);return de()},getParams(){return e.params},loadTreeChildren(t,o){const{keepSource:n}=e,{tableSourceData:s,fullDataRowIdData:a,fullAllDataRowIdData:u,sourceDataRowIdData:g}=d,m=ht.value,{transform:b,mapChildrenField:v}=m,C=m.children||m.childrenField,D=u[Be(r,t)],R=D?D.level:0;return z.createData(o).then(I=>{if(n){const H=Be(r,t),j=i.findTree(s,A=>H===Be(r,A),{children:C});j&&(j.item[C]=i.clone(I,!0)),I.forEach(A=>{const F=Be(r,A);g[F]=i.clone(A,!0)})}return i.eachTree(I,(H,j,A,F,q,P)=>{const S=Be(r,H),Te=q||D.row,ve={row:H,rowid:S,seq:-1,index:j,_index:-1,$index:-1,treeIndex:-1,items:A,parent:Te,level:R+P.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[S]=ve,u[S]=ve},{children:C}),t[C]=I,b&&(t[v]=i.clone(I,!1)),Jo(),I})},loadColumn(t){const o=i.mapTree(t,n=>vl(dt.createColumn(r,n)));return Qs(o)},reloadColumn(t){return z.clearAll().then(()=>z.loadColumn(t))},getRowNode(t){if(t){const{fullAllDataRowIdData:o}=d,n=t.getAttribute("rowid");if(n){const s=o[n];if(s)return{rowid:s.rowid,item:s.row,index:s.index,items:s.items,parent:s.parent}}}return null},getColumnNode(t){if(t){const{fullColumnIdData:o}=d,n=t.getAttribute("colid");if(n){const s=o[n];if(s)return{colid:s.colid,item:s.column,index:s.index,items:s.items,parent:s.parent}}}return null},getRowSeq:wr("seq"),getRowIndex:wr("index"),getVTRowIndex:wr("_index"),getVMRowIndex:wr("$index"),getColumnIndex:rs("index"),getVTColumnIndex:rs("_index"),getVMColumnIndex:rs("$index"),createData(t){return de().then(()=>vl(N.defineField(t)))},createRow(t){const o=i.isArray(t);return o||(t=[t||{}]),z.createData(t).then(n=>o?n:n[0])},revertData(t,o){const{keepSource:n,treeConfig:s}=e,{fullAllDataRowIdData:a,fullDataRowIdData:u,tableSourceData:g,sourceDataRowIdData:m,tableFullData:b,afterFullData:v,removeRowMaps:C}=d,D=ht.value,{transform:R}=D,{handleGetRowId:I}=po(r);if(!n)return ze("vxe.error.reqProp",["keep-source"]),de();let H=t;t?i.isArray(t)||(H=[t]):H=i.toArray(r.getUpdateRecords());let j=!1;return H.length&&H.forEach(A=>{const F=I(A),q=a[F];if(q){const P=q.row;if(!r.isInsertByRow(P)){const S=m[F];S&&P&&(o?i.set(P,o,i.clone(i.get(S,o),!0)):i.destructuring(P,i.clone(S,!0)),!u[F]&&r.isRemoveByRow(P)&&(C[F]&&delete C[F],b.unshift(P),v.unshift(P),j=!0))}}}),t?(j&&(f.removeRowFlag++,r.updateFooter(),r.cacheRowMap(!1),r.handleTableData(s&&R),s&&R||r.updateAfterDataIndex(),r.checkSelectionStatus(),f.scrollYLoad&&r.updateScrollYSpace()),de().then(()=>(r.updateCellAreas(),r.recalculate()))):r.reloadData(g)},clearData(t,o){const{tableFullData:n,visibleColumn:s}=d;return arguments.length?t&&!i.isArray(t)&&(t=[t]):t=n,o?t.forEach(a=>i.set(a,o,null)):t.forEach(a=>{s.forEach(u=>{u.field&&dl(a,u,null)})}),de()},getCellElement(t,o){const{elemStore:n}=d,s=to(r,o);if(!s)return null;const a=Be(r,t),u=Je(n["main-body-scroll"]),g=Je(n["left-body-scroll"]),m=Je(n["right-body-scroll"]);let b;return s&&(s.fixed&&(s.fixed==="left"?g&&(b=g):m&&(b=m)),b||(b=u),b)?b.querySelector(`.vxe-body--row[rowid="${a}"] .${s.id}`):null},getCellLabel(t,o){const n=to(r,o);if(!n)return null;const{formatter:s}=n,a=bo(t,n);let u=a;if(s){let g;const{fullAllDataRowIdData:m}=d,b=Be(r,t),v=n.id,C=m[b];if(C&&(g=C.formatData,g||(g=m[b].formatData={}),C&&g[v]&&g[v].value===a))return g[v].label;const D={cellValue:a,row:t,rowIndex:z.getRowIndex(t),column:n,columnIndex:z.getColumnIndex(n)};if(i.isString(s)){const R=Bi.get(s),I=R?R.tableCellFormatMethod||R.cellFormatMethod:null;u=I?I(D):""}else if(i.isArray(s)){const R=Bi.get(s[0]),I=R?R.tableCellFormatMethod||R.cellFormatMethod:null;u=I?I(D,...s.slice(1)):""}else u=s(D);g&&(g[v]={value:a,label:u})}return u},isInsertByRow(t){const o=Be(r,t);return!!f.insertRowFlag&&!!d.insertRowMaps[o]},isRemoveByRow(t){const o=Be(r,t);return!!f.removeRowFlag&&!!d.removeRowMaps[o]},removeInsertRow(){const{insertRowMaps:t}=d;return r.remove(i.values(t))},isUpdateByRow(t,o){const{keepSource:n}=e,{tableFullColumn:s,fullDataRowIdData:a,sourceDataRowIdData:u}=d;if(n){const g=i.isString(t)||i.isNumber(t)?t:Be(r,t),m=a[g];if(!m)return!1;const b=m.row,v=u[g];if(v){if(arguments.length>1)return!Hn(v,b,o);for(let C=0,D=s.length;C<D;C++){const R=s[C].field;if(R&&!Hn(v,b,R))return!0}}}return!1},getColumns(t){const{visibleColumn:o}=d;return i.isUndefined(t)?o.slice(0):o[t]},getColid(t){const o=to(r,t);return o?o.id:null},getColumnById(t){const{fullColumnIdData:o}=d;return t&&o[t]?o[t].column:null},getColumnByField(t){const o=d.fullColumnFieldData;return t&&o[t]?o[t].column:null},getParentColumn(t){const{fullColumnIdData:o}=d,n=to(r,t);return n&&n.parentId&&o[n.parentId]?o[n.parentId].column:null},getTableColumn(){return{collectColumn:d.collectColumn.slice(0),fullColumn:d.tableFullColumn.slice(0),visibleColumn:d.visibleColumn.slice(0),tableColumn:f.tableColumn.slice(0)}},moveColumnTo(t,o,n){const{fullColumnIdData:s,visibleColumn:a}=d,{dragToChild:u,dragPos:g,isCrossDrag:m}=Object.assign({},n),b=to(r,t);let v=null;const C=b?s[b.id]:null;let D="left";if(i.isNumber(o)){if(C&&o){let R=C.items,I=C._index+o;m&&(R=a,I=C._index+o),I>0&&I<R.length-1&&(v=R[I]),o>0&&(D="right")}}else{v=to(r,o);const R=v?s[v.id]:null;C&&R&&R._index>C._index&&(D="right")}return r.handleColDragSwapEvent(null,!0,b,v,g||D,u===!0)},moveRowTo(t,o,n){const{treeConfig:s}=e,{fullAllDataRowIdData:a,afterFullData:u}=d,{dragToChild:g,dragPos:m,isCrossDrag:b}=Object.assign({},n),v=ht.value,C=bi(r,t);let D=null,R="top";const I=C?a[Be(r,C)]:null;if(i.isNumber(o)){if(I&&o){let H=u,j=I._index+o;s&&(H=I.items,v.transform&&(j=I.treeIndex+o,b&&(H=u,j=I._index+o))),j>=0&&j<=H.length-1&&(D=H[j]),o>0&&(R="bottom")}}else{D=bi(r,o);const H=D?a[Be(r,D)]:null;I&&H&&H._index>I._index&&(R="bottom")}return r.handleRowDragSwapEvent(null,!0,C,D,m||R,g===!0)},getFullColumns(){const{collectColumn:t}=d;return t.slice(0)},getData(t){const o=e.data||d.tableSynchData;return i.isUndefined(t)?o.slice(0):o[t]},getCheckboxRecords(t){const{treeConfig:o}=e,{updateCheckboxFlag:n}=f,{tableFullData:s,afterFullData:a,tableFullTreeData:u,fullDataRowIdData:g,afterFullRowMaps:m,selectCheckboxMaps:b}=d,v=ht.value,C=wt.value,{transform:D,mapChildrenField:R}=v,{checkField:I}=C,H=v.children||v.childrenField;let j=[];if(n)if(I)if(o){const A=t?D?u:s:D?u:a;j=i.filterTree(A,F=>i.get(F,I),{children:D?R:H})}else j=(t?s:a).filter(F=>i.get(F,I));else{const A=t||o&&!D?g:m;i.each(b,(F,q)=>{A[q]&&j.push(g[q].row)})}return j},getTreeRowChildren(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d,s=ht.value,{transform:a,mapChildrenField:u}=s,g=s.children||s.childrenField;if(t&&o){let m;if(i.isString(t)?m=t:m=Be(r,t),m){const b=n[m],v=b?b.row:null;if(v)return v[a?u:g]||[]}}return[]},getTreeParentRow(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d;if(t&&o){let s;if(i.isString(t)?s=t:s=Be(r,t),s){const a=n[s];return a?a.parent:null}}return null},getParentRow(t){return pt("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),r.getTreeParentRow(t)},getRowById(t){const{fullAllDataRowIdData:o}=d,n=i.eqNull(t)?"":encodeURIComponent(t||"");return o[n]?o[n].row:null},getRowid(t){return Be(r,t)},getTableData(){const{tableData:t,footerTableData:o}=f,{tableFullData:n,afterFullData:s,tableFullTreeData:a}=d;return{fullData:e.treeConfig?a.slice(0):n.slice(0),visibleData:s.slice(0),tableData:t.slice(0),footerData:o.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:o,tableFullTreeData:n}=d;if(t){const s=ht.value,{transform:a,mapChildrenField:u,rowField:g,parentField:m}=s,b=s.children||s.childrenField;return a?i.toArrayTree(i.toTreeArray(n,{children:u}),{key:g,parentKey:m,children:b,mapChildren:u}):n.slice(0)}return o.slice(0)},setColumnFixed(t,o){let n=!1;const s=i.isArray(t)?t:[t],a=ot.value,u=Ln.value;for(let g=0;g<s.length;g++){const m=s[g],b=to(r,m),v=wi(r,b);if(v&&v.fixed!==o){if(!v.fixed&&u)return ge.modal&&ge.modal.message({status:"error",content:hl("vxe.table.maxFixedCol",[a.maxFixedSize])}),de();i.eachTree([v],C=>{C.fixed=o,C.renderFixed=o}),N.saveCustomStore("update:fixed"),n||(n=!0)}}return n?z.refreshColumn():de()},clearColumnFixed(t){let o=!1;return(i.isArray(t)?t:[t]).forEach(s=>{const a=to(r,s),u=wi(r,a);u&&u.fixed&&(i.eachTree([u],g=>{g.fixed=null,g.renderFixed=null}),N.saveCustomStore("update:fixed"),o||(o=!0))}),o?z.refreshColumn():de()},hideColumn(t){let o=!1;return(i.isArray(t)?t:[t]).forEach(s=>{const a=to(r,s);a&&a.visible&&(a.visible=!1,o||(o=!0))}),o?N.handleCustom():de()},showColumn(t){let o=!1;return(i.isArray(t)?t:[t]).forEach(s=>{const a=to(r,s);a&&!a.visible&&(a.visible=!0,o||(o=!0))}),o?N.handleCustom():de()},setColumnWidth(t,o){const{elemStore:n}=d;let s=!1;const a=i.isArray(t)?t:[t];let u=i.toInteger(o);if(Sn(o)){const g=Je(n["main-body-scroll"]),m=g?g.clientWidth-1:0;u=Math.floor(u*m)}return u&&(a.forEach(g=>{const m=to(r,g);m&&(m.resizeWidth=u,s||(s=!0))}),s)?r.refreshColumn().then(()=>({status:s})):de().then(()=>({status:s}))},getColumnWidth(t){const o=to(r,t);return o?o.renderWidth:0},resetColumn(t){return pt("vxe.error.delFunc",["resetColumn","resetCustom"]),r.resetCustom(t)},refreshColumn(t){return t&&Zs(),ns(!0).then(()=>z.refreshScroll()).then(()=>z.recalculate())},setRowHeightConf(t){const{fullAllDataRowIdData:o}=d;let n=!1;return t&&(i.each(t,(s,a)=>{const u=o[a];if(u){const g=i.toInteger(s);g&&(u.resizeHeight=g,n||(n=!0))}}),n&&(d.isResizeCellHeight=!0,f.resizeHeightFlag++)),de().then(()=>(_o(),{status:n}))},getRowHeightConf(t){const{fullAllDataRowIdData:o,afterFullData:n}=d,{handleGetRowId:s}=po(r),a=Oe.value,u=X.value,g=Le.value,m={};return n.forEach(b=>{const v=s(b),C=o[v];if(C){const D=C.resizeHeight;if(D||t){const R=D||u.height||a.height||C.height||g;m[v]=R}}}),m},setRowHeight(t,o){const{fullAllDataRowIdData:n}=d;let s=!1;const a=i.isArray(t)?t:[t];let u=i.toInteger(o);if(Sn(o)){const g=O.value,m=g?g.$el:null,b=m?m.clientHeight-1:0;u=Math.floor(u*b)}if(u){const{handleGetRowId:g}=po(r);a.forEach(m=>{const b=i.isString(m)||i.isNumber(m)?m:g(m),v=n[b];v&&(v.resizeHeight=u,s||(s=!0))}),s&&(d.isResizeCellHeight=!0,f.resizeHeightFlag++)}return de().then(()=>({status:s}))},getRowHeight(t){const{fullAllDataRowIdData:o}=d,n=Oe.value,s=X.value,a=Le.value,u=i.isString(t)||i.isNumber(t)?t:Be(r,t),g=o[u];return g?g.resizeHeight||s.height||n.height||g.height||a:0},refreshScroll(){const{elemStore:t,lastScrollLeft:o,lastScrollTop:n}=d,s=Je(t["main-header-scroll"]),a=Je(t["main-body-scroll"]),u=Je(t["main-footer-scroll"]),g=Je(t["left-body-scroll"]),m=Je(t["right-body-scroll"]),b=ee.value,v=ce.value;return new Promise(C=>{if(o||n)return bs(r,o,n).then().then(()=>{setTimeout(C,10)});d.intoRunScroll=!0,jt(v,n),jt(a,n),jt(g,n),jt(m,n),Gt(b,o),Gt(a,o),Gt(s,o),Gt(u,o),setTimeout(()=>{d.intoRunScroll=!1,C()},10)})},recalculate(t){return new Promise(o=>{const{rceTimeout:n,rceRunTime:s}=d,u=mt.value.refreshDelay||20,g=M.value;g&&g.clientWidth&&(an(),Wl()),n?(clearTimeout(n),s&&s+(u-5)<Date.now()?o(fn(!!t)):de(()=>{o()})):o(fn(!!t)),d.rceTimeout=setTimeout(()=>{d.rceTimeout=void 0,fn(!!t)},u)})},openTooltip(t,o){const n=V.value;return n&&n.open?n.open(t,o):de()},closeTooltip(){const{tooltipStore:t}=f,o=oe.value,n=V.value;return t.visible&&(Object.assign(t,{row:null,column:null,content:null,visible:!1,currOpts:{}}),o&&o.close&&o.close()),n&&n.close&&n.close(),de()},isAllCheckboxChecked(){return f.isAllSelected},isAllCheckboxIndeterminate(){return!f.isAllSelected&&f.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:o}=e,{fullDataRowIdData:n,treeIndeterminateRowMaps:s}=d;if(o){const a=[],u=[];return i.each(s,(g,m)=>{g&&(a.push(g),n[m]&&u.push(g))}),t?a:u}return[]},setCheckboxRow(t,o){return t&&!i.isArray(t)&&(t=[t]),Io(t,o,!0)},setCheckboxRowKey(t,o){const{fullAllDataRowIdData:n}=d;i.isArray(t)||(t=[t]);const s=[];return t.forEach(a=>{const u=n[a];u&&s.push(u.row)}),Io(s,o,!0)},isCheckedByCheckboxRow(t){const{updateCheckboxFlag:o}=f,{selectCheckboxMaps:n}=d,s=wt.value,{checkField:a}=s;return a?i.get(t,a):!!o&&!!n[Be(r,t)]},isCheckedByCheckboxRowKey(t){const{updateCheckboxFlag:o}=f,{fullAllDataRowIdData:n,selectCheckboxMaps:s}=d,a=wt.value,{checkField:u}=a;if(u){const g=n[t];return g?i.get(g.row,u):!1}return!!o&&!!s[t]},isIndeterminateByCheckboxRow(t){const{treeIndeterminateRowMaps:o}=d;return!!o[Be(r,t)]&&!r.isCheckedByCheckboxRow(t)},isIndeterminateByCheckboxRowKey(t){const{treeIndeterminateRowMaps:o}=d;return!!o[t]&&!r.isCheckedByCheckboxRowKey(t)},toggleCheckboxRow(t){const{selectCheckboxMaps:o}=d,n=wt.value,{checkField:s}=n,a=s?!i.get(t,s):!o[Be(r,t)];return N.handleBatchSelectRows([t],a,!0),N.checkSelectionStatus(),de()},setAllCheckboxRow(t){return ts(t,!0)},getRadioReserveRecord(t){const{treeConfig:o}=e,{fullDataRowIdData:n,radioReserveRow:s,afterFullData:a}=d,u=Ze.value,g=ht.value,m=g.children||g.childrenField;if(u.reserve&&s){const b=Be(r,s);if(t){if(!n[b])return s}else{const v=Kl(r);if(o){if(i.findTree(a,D=>b===i.get(D,v),{children:m}))return s}else if(!a.some(C=>b===i.get(C,v)))return s}}return null},clearRadioReserve(){return d.radioReserveRow=null,de()},getCheckboxReserveRecords(t){const{treeConfig:o}=e,{afterFullData:n,fullDataRowIdData:s,checkboxReserveRowMap:a}=d,u=wt.value,g=ht.value,m=g.children||g.childrenField,b=[];if(u.reserve){const{handleGetRowId:v}=po(r),C={};o?i.eachTree(n,D=>{C[v(D)]=1},{children:m}):n.forEach(D=>{C[v(D)]=1}),i.each(a,(D,R)=>{D&&(t?s[R]||b.push(D):C[R]||b.push(D))})}return b},clearCheckboxReserve(){return d.checkboxReserveRowMap={},de()},toggleAllCheckboxRow(){return ei(null,!f.isAllSelected),de()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:o}=d,n=ht.value,s=n.children||n.childrenField,a=wt.value,{checkField:u,reserve:g}=a,m=a.indeterminateField||a.halfField;if(u){const b=v=>{t&&m&&i.set(v,m,!1),i.set(v,u,!1)};t?i.eachTree(o,b,{children:s}):o.forEach(b)}return g&&o.forEach(b=>Dt(b,!1)),f.isAllSelected=!1,f.isIndeterminate=!1,d.selectCheckboxMaps={},d.treeIndeterminateRowMaps={},f.updateCheckboxFlag++,de()},setCurrentRow(t){const o=Oe.value,n=M.value;return z.clearCurrentRow(),f.currentRow=t,(o.isCurrent||e.highlightCurrentRow)&&n&&i.arrayEach(n.querySelectorAll(`[rowid="${Be(r,t)}"]`),s=>cl(s,"row--current")),de()},isCheckedByRadioRow(t){const{selectRadioRow:o}=f;return t&&o?r.eqRow(o,t):!1},isCheckedByRadioRowKey(t){const{selectRadioRow:o}=f;return o?t===Be(r,o):!1},setRadioRow(t){return Co(t,!0)},setRadioRowKey(t){const{fullAllDataRowIdData:o}=d,n=o[t];return n?Co(n.row,!0):de()},clearCurrentRow(){const t=M.value;return f.currentRow=null,d.hoverRow=null,t&&i.arrayEach(t.querySelectorAll(".row--current"),o=>zo(o,"row--current")),de()},clearRadioRow(){return f.selectRadioRow=null,de()},getCurrentRecord(){return Oe.value.isCurrent||e.highlightCurrentRow?f.currentRow:null},getRadioRecord(t){const{fullDataRowIdData:o,afterFullRowMaps:n}=d,{selectRadioRow:s}=f;if(s){const a=Be(r,s);if(t){if(o[a])return s}else if(n[a])return s}return null},getCurrentColumn(){return ot.value.isCurrent||e.highlightCurrentColumn?f.currentColumn:null},setCurrentColumn(t){const{mouseConfig:o}=e,n=kt.value,s=o&&n.selected,a=to(r,t);return a&&(r.clearCurrentColumn(),f.currentColumn=a),de().then(()=>{s&&r.addCellSelectedClass()})},clearCurrentColumn(){return f.currentColumn=null,de()},setPendingRow(t,o){const{handleGetRowId:n}=po(r),{pendingRowMaps:s}=d;return t&&!i.isArray(t)&&(t=[t]),o?t.forEach(a=>{const u=n(a);u&&!s[u]&&(s[u]=a)}):t.forEach(a=>{const u=n(a);u&&s[u]&&delete s[u]}),f.pendingRowFlag++,de()},togglePendingRow(t){const{handleGetRowId:o}=po(r),{pendingRowMaps:n}=d;return t&&!i.isArray(t)&&(t=[t]),t.forEach(s=>{const a=o(s);a&&(n[a]?delete n[a]:n[a]=s)}),f.pendingRowFlag++,de()},hasPendingByRow(t){return z.isPendingByRow(t)},isPendingByRow(t){const{pendingRowMaps:o}=d,n=Be(r,t);return!!o[n]},getPendingRecords(){const{fullAllDataRowIdData:t,pendingRowMaps:o}=d,n=[];return i.each(o,(s,a)=>{t[a]&&n.push(s)}),n},clearPendingRow(){return d.pendingRowMaps={},f.pendingRowFlag++,de()},sort(t,o){const n=zt.value,{multiple:s,remote:a,orders:u}=n;return t&&i.isString(t)&&(t=[{field:t,order:o}]),i.isArray(t)||(t=[t]),t.length?(s||sl(),(s?t:[t[0]]).forEach((g,m)=>{let{field:b,order:v}=g,C=b;i.isString(b)&&(C=z.getColumnByField(b)),C&&C.sortable&&(u&&u.indexOf(v)===-1&&(v=fl(C)),C.order!==v&&(C.order=v),C.sortTime=Date.now()+m)}),a||N.handleTableData(!0),de().then(()=>(_o(),z.updateCellAreas(),Ro()))):de()},setSort(t,o){return El(new Event("click"),t,o)},setSortByEvent(t,o,n){return El(t,o,n)},clearSort(t){const o=zt.value;if(t){const n=to(r,t);n&&(n.order=null)}else sl();return o.remote||r.handleTableData(!0),de().then(()=>(_o(),Ro()))},clearSortByEvent(t,o){const{tableFullColumn:n}=d,s=zt.value,a=[];let u=null;return t&&(o?(u=to(r,o),u&&(u.order=null)):n.forEach(g=>{g.order&&(g.order=null,a.push(g))}),s.remote||r.handleTableData(!0),a.length?At("clear-all-sort",{$table:r,$event:t,cols:a,sortList:[]},t):u&&r.handleColumnSortEvent(t,u)),de().then(()=>(_o(),Ro()))},isSort(t){if(t){const o=to(r,t);return o?o.sortable&&!!o.order:!1}return z.getSortColumns().length>0},getSortColumns(){const t=zt.value,{multiple:o,chronological:n}=t,s=[],{tableFullColumn:a}=d;return a.forEach(u=>{const{field:g,order:m}=u;u.sortable&&m&&s.push({column:u,field:g,property:g,order:m,sortTime:u.sortTime})}),o&&n&&s.length>1?i.orderBy(s,"sortTime"):s},setFilterByEvent(t,o,n,s){const a=to(r,o);return a&&a.filters&&(a.filters=$s(n||[]),s)?r.handleColumnConfirmFilter(a,t):de()},closeFilter(){const{filterStore:t}=f,{column:o,visible:n}=t;return t.isAllSelected=!1,t.isIndeterminate=!1,t.options=[],t.visible=!1,n&&At("filter-visible",{column:o,property:o.field,field:o.field,filterList:()=>r.getCheckedFilters(),visible:!1},null),de()},isActiveFilterByColumn(t){const o=to(r,t);return o?o.filters&&o.filters.some(n=>n.checked):r.getCheckedFilters().length>0},isFilter(t){return z.isActiveFilterByColumn(t)},clearFilterByEvent(t,o){const{filterStore:n}=f,{tableFullColumn:s}=d,a=_t.value,u=[];let g=null;return o?(g=to(r,o),g&&r.handleClearFilter(g)):s.forEach(m=>{m.filters&&(u.push(m),r.handleClearFilter(m))}),(!o||g!==n.column)&&Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),a.remote||r.updateData(),u.length?At("clear-all-filter",{$table:r,$event:t,cols:u,filterList:[]},t):g&&r.dispatchEvent("clear-filter",{filterList:()=>r.getCheckedFilters()},t),de()},isRowExpandLoaded(t){const{fullAllDataRowIdData:o}=d,n=o[Be(r,t)];return n&&!!n.expandLoaded},clearRowExpandLoaded(t){const{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:n}=d,s=St.value,{lazy:a}=s,u=Be(r,t),g=o[u];return a&&g&&(g.expandLoaded=!1,delete n[u]),f.rowExpandedFlag++,de()},reloadRowExpand(t){const{rowExpandLazyLoadedMaps:o}=d,n=St.value,{lazy:s}=n,a=Be(r,t);return s&&!o[a]&&r.clearRowExpandLoaded(t).then(()=>Ks(t)),de()},reloadExpandContent(t){return pt("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),r.reloadRowExpand(t)},toggleRowExpand(t){return r.setRowExpand(t,!r.isRowExpandByRow(t))},setAllRowExpand(t){const o=ht.value,{tableFullData:n,tableFullTreeData:s}=d,a=o.children||o.childrenField;let u=[];return e.treeConfig?i.eachTree(s,g=>{u.push(g)},{children:a}):u=n,z.setRowExpand(u,t)},setRowExpand(t,o){const{expandColumn:n}=f;let{fullAllDataRowIdData:s,rowExpandedMaps:a,rowExpandLazyLoadedMaps:u}=d;const{handleGetRowId:g}=po(r),m=St.value,{reserve:b,lazy:v,accordion:C,toggleMethod:D}=m,R=[],I=n?r.getColumnIndex(n):-1,H=n?r.getVMColumnIndex(n):-1;if(t){i.isArray(t)||(t=[t]),C&&(a={},d.rowExpandedMaps=a,t=t.slice(t.length-1,t.length));const j=D?t.filter(A=>D({$table:r,expanded:o,column:n,columnIndex:I,$columnIndex:H,row:A,rowIndex:r.getRowIndex(A),$rowIndex:r.getVMRowIndex(A)})):t;o?j.forEach(A=>{const F=g(A);if(!a[F]){const q=s[F];v&&!q.expandLoaded&&!u[F]?R.push(Ks(A)):a[F]=A}}):j.forEach(A=>{const F=g(A);a[F]&&delete a[F]}),b&&j.forEach(A=>Ys(A,o))}return f.rowExpandedFlag++,Promise.all(R).then(()=>de()).then(()=>r.recalculate(!0)).then(()=>(_o(),Wl(),ni(),r.updateCellAreas()))},isRowExpandByRow(t){const{rowExpandedFlag:o}=f,{rowExpandedMaps:n}=d,s=Be(r,t);return!!o&&!!n[s]},isExpandByRow(t){return pt("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),z.isRowExpandByRow(t)},clearRowExpand(){const{tableFullData:t}=d,o=St.value,{reserve:n}=o,s=r.getRowExpandRecords();return d.rowExpandedMaps={},f.rowExpandedFlag++,n&&t.forEach(a=>Ys(a,!1)),de().then(()=>{if(s.length)return r.recalculate(!0)}).then(()=>(_o(),Wl(),ni(),r.updateCellAreas()))},clearRowExpandReserve(){return d.rowExpandedReserveRowMap={},de()},getRowExpandRecords(){const t=[];return i.each(d.rowExpandedMaps,o=>{o&&t.push(o)}),t},setRowGroups(t){const{rowGroupConfig:o}=e;return o?t?(xr((i.isArray(t)?t:[t]).map(n=>i.isString(n)?n:n.field)),pn(d.tableSynchData,!0)):de():(ze("vxe.error.reqProp",["row-group-config"]),de())},clearRowGroups(){const{rowGroupConfig:t}=e;return t?(xr([]),pn(d.tableSynchData,!0)):(ze("vxe.error.reqProp",["row-group-config"]),de())},isRowGroupRecord(t){const{isRowGroupStatus:o}=f;return o&&t.isAggregate},isRowGroupExpandByRow(t){const{rowGroupExpandedFlag:o}=f,{rowGroupExpandedMaps:n}=d;return!!o&&!!n[Be(r,t)]},setRowGroupExpand(t,o){return t?(i.isArray(t)||(t=[t]),_a(t,o)):de()},setAllRowGroupExpand(t){const{tableFullGroupData:o}=d,n=ke.value,{mapChildrenField:s}=n,a={};return t&&s&&i.eachTree(o,u=>{u[s]&&u[s].length&&(a[Be(r,u)]=u)},{children:s}),d.rowGroupExpandedMaps=a,el(),f.rowGroupExpandedFlag++,r.handleTableData()},clearRowGroupExpand(){return d.rowGroupExpandedMaps={},el(),f.rowGroupExpandedFlag++,r.handleTableData()},getTreeExpandRecords(){const t=[];return i.each(d.treeExpandedMaps,o=>{o&&t.push(o)}),t},isTreeExpandLoaded(t){const{fullAllDataRowIdData:o}=d,n=o[Be(r,t)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(t){const{fullAllDataRowIdData:o,treeExpandedMaps:n}=d,s=ht.value,{transform:a}=s;return t?(i.isArray(t)||(t=[t]),t.forEach(u=>{const g=Be(r,u),m=o[g];m&&(m.treeLoaded=!1,n[g]&&delete n[g])})):i.each(o,u=>{u.treeLoaded=!1}),d.treeExpandedMaps={},a&&(el(),r.handleTableData()),f.treeExpandedFlag++,de()},reloadTreeExpand(t){const{treeExpandLazyLoadedMaps:o}=d,n=ht.value,s=n.hasChild||n.hasChildField,{transform:a,lazy:u}=n,g=Be(r,t);return u&&t[s]&&!o[g]?r.clearTreeExpandLoaded(t).then(()=>qs(t)).then(()=>{a&&(el(),r.handleTableData()),f.treeExpandedFlag++}).then(()=>r.recalculate()):de()},reloadTreeChilds(t){return pt("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),r.reloadTreeExpand(t)},toggleTreeExpand(t){return r.setTreeExpand(t,!r.isTreeExpandByRow(t))},setAllTreeExpand(t){const{tableFullData:o}=d,n=ht.value,{transform:s,lazy:a}=n,u=n.children||n.childrenField,g=[];return i.eachTree(o,m=>{const b=m[u];(a||b&&b.length)&&g.push(m)},{children:u}),r.setTreeExpand(g,t).then(()=>{if(s)return el(),f.treeExpandedFlag++,r.recalculate()})},setTreeExpand(t,o){const n=ht.value,{transform:s}=n;return t&&(i.isArray(t)||(t=[t]),t.length)?s?ja(t,o):Js(t,o):de()},isTreeExpandByRow(t){const{treeExpandedFlag:o}=f,{treeExpandedMaps:n}=d;return!!o&&!!n[Be(r,t)]},clearTreeExpand(){const{tableFullTreeData:t}=d,o=ht.value,n=o.children||o.childrenField,{transform:s,reserve:a}=o,u=r.getTreeExpandRecords();return d.treeExpandedMaps={},a&&i.eachTree(t,g=>Xs(g,!1),{children:n}),r.handleTableData().then(()=>{s&&(el(),r.handleTableData()),f.treeExpandedFlag++}).then(()=>{if(u.length)return r.recalculate()})},clearTreeExpandReserve(){return d.treeExpandedReserveRowMap={},de()},getScroll(){const{scrollXLoad:t,scrollYLoad:o}=f,{elemStore:n}=d,s=Je(n["main-body-scroll"]);return{virtualX:t,virtualY:o,scrollTop:s?s.scrollTop:0,scrollLeft:s?s.scrollLeft:0}},scrollTo(t,o){const{elemStore:n}=d,s=Je(n["main-header-scroll"]),a=Je(n["main-body-scroll"]),u=Je(n["main-footer-scroll"]),g=Je(n["left-body-scroll"]),m=Je(n["right-body-scroll"]),b=ee.value,v=ce.value;return d.intoRunScroll=!0,i.isNumber(t)&&(Gt(b,t),Gt(a,t),Gt(s,t),Gt(u,t),_l()),i.isNumber(o)&&(jt(v,o),jt(a,o),jt(g,o),jt(m,o),Wn()),f.scrollXLoad||f.scrollYLoad?new Promise(C=>{setTimeout(()=>{de(()=>{d.intoRunScroll=!1,C()})},30)}):de()},scrollToRow(t,o){const{isAllOverflow:n,scrollYLoad:s,scrollXLoad:a}=f,u=[];return t&&(e.treeConfig?u.push(r.scrollToTreeRow(t)):u.push(Ei(r,t))),o&&u.push(Ua(o,t)),Promise.all(u).then(()=>{if(t)return!n&&(s||a)&&(cn(),sn()),de()})},scrollToColumn(t){const{fullColumnIdData:o}=d,n=to(r,t);return n&&o[n.id]?yi(r,n):de()},clearScroll(){const{elemStore:t,scrollXStore:o,scrollYStore:n}=d,s=Je(t["main-header-scroll"]),a=Je(t["main-body-scroll"]),u=Je(t["main-footer-scroll"]),g=Je(t["left-body-scroll"]),m=Je(t["right-body-scroll"]),b=ee.value,v=ce.value;return d.intoRunScroll=!0,Gt(b,0),Gt(a,0),Gt(s,0),Gt(u,0),jt(v,0),jt(a,0),jt(g,0),jt(m,0),o.startIndex=0,o.visibleStartIndex=0,o.endIndex=o.visibleSize,o.visibleEndIndex=o.visibleSize,n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,de().then(()=>{d.intoRunScroll=!1})},updateFooter(){const{showFooter:t,footerData:o,footerMethod:n}=e,{visibleColumn:s,afterFullData:a}=d;let u=[];return t&&o&&o.length?u=o.slice(0):t&&n&&(u=s.length?n({columns:s,data:a,$table:r,$grid:_e}):[]),f.footerTableData=u,r.handleUpdateFooterMerge(),de()},updateStatus(t,o){return de().then(()=>{const{editRules:n}=e;if(t&&n)return r.handleCellRuleUpdateStatus("change",t,o)})},setMergeCells(t){return e.spanMethod&&ze("vxe.error.errConflicts",["merge-cells","span-method"]),rl(t),r.handleUpdateBodyMerge(),de().then(()=>(r.updateCellAreas(),Ro()))},removeMergeCells(t){e.spanMethod&&ze("vxe.error.errConflicts",["merge-cells","span-method"]);const o=rn(t);return r.handleUpdateBodyMerge(),de().then(()=>(r.updateCellAreas(),Ro(),o))},getMergeCells(){return d.mergeBodyList.slice(0)},clearMergeCells(){return d.mergeBodyList=[],d.mergeBodyMaps={},d.mergeBodyCellMaps={},f.mergeBodyFlag++,de().then(()=>Ro())},setMergeFooterItems(t){return e.footerSpanMethod&&ze("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Jr(t),r.handleUpdateFooterMerge(),de().then(()=>(z.updateCellAreas(),Ro()))},removeMergeFooterItems(t){e.footerSpanMethod&&ze("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=Vn(t);return r.handleUpdateFooterMerge(),de().then(()=>(z.updateCellAreas(),Ro(),o))},getMergeFooterItems(){return d.mergeFooterList.slice(0)},clearMergeFooterItems(){return d.mergeFooterList=[],d.mergeFooterMaps={},d.mergeFooterCellMaps={},f.mergeFootFlag++,de().then(()=>Ro())},updateCellAreas(){const{mouseConfig:t}=e,o=kt.value;return t&&o.area&&r.handleRecalculateCellAreaEvent?r.handleRecalculateCellAreaEvent():de()},getCustomStoreData(){const{id:t}=e,o=Uo.value,{collectColumn:n}=d,{storage:s,checkMethod:a}=o,u=s===!0,g=u?{}:Object.assign({},s||{}),m=u||g.resizable,b=u||g.visible,v=u||g.fixed,C=u||g.sort,D={},R={},I={},H={},j={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return ze("vxe.error.reqProp",["id"]),j;let A=0,F=0,q=0,P=0;return i.eachTree(n,(S,Te,ve,ye,Ke)=>{const Ve=S.getKey();if(!Ve){ze("vxe.error.reqProp",[`${S.getTitle()||S.type||""} -> column.field=?`]);return}Ke||(C&&(F=1,R[Ve]=S.renderSortNumber),v&&S.fixed!==S.defaultFixed&&(q=1,H[Ve]=S.fixed)),m&&S.resizeWidth&&(A=1,D[Ve]=S.renderWidth),b&&(!a||a({$table:r,column:S}))&&(!S.visible&&S.defaultVisible?(P=1,I[Ve]=!1):S.visible&&!S.defaultVisible&&(P=1,I[Ve]=!0))}),A&&(j.resizableData=D),F&&(j.sortData=R),q&&(j.fixedData=H),P&&(j.visibleData=I),j},focus(){return d.isActivated=!0,de()},blur(){return d.isActivated=!1,de()},connect(t){return t?(Xe=t,Xe.syncUpdate({collectColumn:d.collectColumn,$table:r})):ze("vxe.error.barUnableLink"),de()}};const Za=t=>{const{editStore:o,ctxMenuStore:n,filterStore:s,customStore:a}=f,{mouseConfig:u,editRules:g}=e,m=M.value,b=oo.value,v=yt.value,C=tt.value,{actived:D}=o,R=K.value,I=Q.value,H=he.value,j=le.value;if(I&&(Vt(t,m,"vxe-cell--filter").flag||Vt(t,I.getRefMaps().refElem.value).flag||Vt(t,document.body,"vxe-table--ignore-clear").flag||N.preventEvent(t,"event.clearFilter",s.args,z.closeFilter)),H&&(a.btnEl===t.target||Vt(t,document.body,"vxe-toolbar-custom-target").flag||Vt(t,H.$el).flag||Vt(t,document.body,"vxe-table--ignore-clear").flag||N.preventEvent(t,"event.clearCustom",{},()=>{r.closeCustom&&r.closeCustom()})),D.row){if(b.autoClear!==!1){const F=D.args.cell;(!F||!Vt(t,F).flag)&&(R&&Vt(t,R.$el).flag||(!d._lastCallTime||d._lastCallTime+50<Date.now())&&(Vt(t,document.body,"vxe-table--ignore-clear").flag||N.preventEvent(t,"event.clearEdit",D.args,()=>{let q;if(b.mode==="row"){const P=Vt(t,m,"vxe-body--row"),S=P.flag?z.getRowNode(P.targetElem):null;q=S?!r.eqRow(S.item,D.args.row):!1}else q=!Vt(t,m,"col--edit").flag;if(q||(q=Vt(t,m,"vxe-header--row").flag),q||(q=Vt(t,m,"vxe-footer--row").flag),!q&&e.height&&!f.overflowY){const P=t.target;Fl(P,"vxe-table--body-wrapper")&&(q=t.offsetY<P.clientHeight)}(q||!Vt(t,m).flag)&&setTimeout(()=>{r.handleClearEdit(t).then(()=>{!d.isActivated&&g&&v.autoClear&&(f.validErrorMaps={})})})})))}}else if(u&&!Vt(t,m).flag&&!(_e&&Vt(t,_e.getRefMaps().refElem.value).flag)&&!(j&&Vt(t,j.getRefMaps().refElem.value).flag)&&!(Xe&&Vt(t,Xe.getRefMaps().refElem.value).flag)&&(r.clearSelected&&r.clearSelected(),C.autoClear&&r.getCellAreas)){const F=r.getCellAreas();F&&F.length&&!Vt(t,document.body,"vxe-table--ignore-areas-clear").flag&&N.preventEvent(t,"event.clearAreas",{},()=>{r.clearCellAreas(),r.clearCopyCellArea(),At("clear-cell-area-selection",{cellAreas:F},t)})}r.closeMenu&&n.visible&&j&&!Vt(t,j.getRefMaps().refElem.value).flag&&r.closeMenu();const A=Vt(t,_e?_e.getRefMaps().refElem.value:m).flag;!A&&g&&v.autoClear&&(f.validErrorMaps={}),d.isActivated=A},Qa=()=>{z.closeFilter(),r.closeMenu&&r.closeMenu()},Ja=()=>{z.closeTooltip(),r.closeMenu&&r.closeMenu()},ec=t=>{const{mouseConfig:o,keyboardConfig:n}=e,{filterStore:s,ctxMenuStore:a,editStore:u}=f,g=kt.value,m=Ft.value,{actived:b}=u;Yt.hasKey(t,qo.ESCAPE)&&N.preventEvent(t,"event.keydown",null,()=>{if(At("keydown-start",{},t),n&&o&&g.area&&r.handleKeyboardCellAreaEvent)r.handleKeyboardCellAreaEvent(t);else if((b.row||s.visible||a.visible)&&(t.stopPropagation(),r.closeMenu&&r.closeMenu(),z.closeFilter(),n&&m.isEsc&&b.row)){const C=b.args;r.handleClearEdit(t),g.selected&&de(()=>r.handleSelected(C,t))}At("keydown",{},t),At("keydown-end",{},t)})},tc=t=>{d.isActivated&&r.preventEvent(t,"event.keydown",null,()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:s,editConfig:a,highlightCurrentRow:u,highlightCurrentColumn:g}=e,{ctxMenuStore:m,editStore:b,currentRow:v}=f,{afterFullData:C}=d,D=To.value,R=Wt.value,I=Ft.value,H=kt.value,j=oo.value,A=ht.value,F=yo.value,q=Oe.value,P=ot.value,{selected:S,actived:Te}=b,ve=A.children||A.childrenField,ye=t.keyCode,Ke=Yt.hasKey(t,qo.ESCAPE),Ve=Yt.hasKey(t,qo.BACKSPACE),$e=Yt.hasKey(t,qo.TAB),Ue=Yt.hasKey(t,qo.ENTER),Ne=Yt.hasKey(t,qo.SPACEBAR),ft=Yt.hasKey(t,qo.ARROW_LEFT),bt=Yt.hasKey(t,qo.ARROW_UP),at=Yt.hasKey(t,qo.ARROW_RIGHT),ct=Yt.hasKey(t,qo.ARROW_DOWN),Rt=Yt.hasKey(t,qo.DELETE),lo=Yt.hasKey(t,qo.F2),Ut=Yt.hasKey(t,qo.CONTEXT_MENU),io=lr(t),Lt=t.shiftKey,xo=t.altKey,ao=ft||bt||at||ct,Do=D&&m.visible&&(Ue||Ne||ao),Xt=Ct(a)&&Te.column&&Te.row,co=j.beforeEditMethod||j.activeMethod;if(Do)t.preventDefault(),m.showChild&&Dn(m.selected)?r.moveCtxMenu(t,m,"selectChild",ft,!1,m.selected.children):r.moveCtxMenu(t,m,"selected",at,!0,F);else if(n&&o&&H.area&&r.handleKeyboardCellAreaEvent)r.handleKeyboardCellAreaEvent(t);else if(Ke){if(r.closeMenu&&r.closeMenu(),r.closeFilter(),n&&I.isEsc&&Te.row){const Pt=Te.args;r.handleClearEdit(t),H.selected&&de(()=>r.handleSelected(Pt,t))}}else if(Ne&&n&&I.isChecked&&S.row&&S.column&&(S.column.type==="checkbox"||S.column.type==="radio"))t.preventDefault(),S.column.type==="checkbox"?N.handleToggleCheckRowEvent(t,S.args):N.triggerRadioRowEvent(t,S.args);else if(lo&&Ct(a))Xt||S.row&&S.column&&(t.preventDefault(),r.handleEdit(S.args,t));else if(Ut)d._keyCtx=S.row&&S.column&&R.length,clearTimeout(d.keyCtxTimeout),d.keyCtxTimeout=setTimeout(()=>{d._keyCtx=!1},1e3);else if(Ue&&!xo&&n&&I.isEnter&&(S.row||Te.row||s&&(q.isCurrent||u)&&v)){const{isLastEnterAppendRow:Pt,beforeEnterMethod:Ht,enterMethod:Bo}=I;if(io){if(Te.row){const wo=Te.args;r.handleClearEdit(t),H.selected&&de(()=>{r.handleSelected(wo,t)})}}else if(S.row||Te.row){const wo=S.row?S.args:Te.args;if(Lt)I.enterToTab?r.moveTabSelected(wo,Lt,t):r.moveEnterSelected(wo,ft,!0,at,!1,t);else if(I.enterToTab)r.moveTabSelected(wo,Lt,t);else{const $o=S.row||Te.row,Po=S.column||Te.column,Sl=r.getVTRowIndex($o),Wo={row:$o,rowIndex:r.getRowIndex($o),$rowIndex:r.getVMRowIndex($o),_rowIndex:Sl,column:Po,columnIndex:r.getColumnIndex(Po),$columnIndex:r.getVMColumnIndex(Po),_columnIndex:r.getVTColumnIndex(Po),$table:r};if(!Ht||Ht(Wo)!==!1){if(Pt&&Sl>=C.length-1){r.insertAt({},-1).then(({row:Sr})=>{r.scrollToRow(Sr,Po),r.handleSelected(Object.assign(Object.assign({},wo),{row:Sr}),t)}),r.dispatchEvent("enter-append-row",Wo,t);return}r.moveEnterSelected(wo,ft,!1,at,!0,t),Bo&&Bo(Wo)}}}else if(s&&(q.isCurrent||u)&&v){const wo=v[ve];if(wo&&wo.length){t.preventDefault();const $o=wo[0],Po={$table:r,row:$o,rowIndex:r.getRowIndex($o),$rowIndex:r.getVMRowIndex($o)};r.setTreeExpand(v,!0).then(()=>r.scrollToRow($o)).then(()=>r.triggerCurrentRowEvent(t,Po))}}}else if(ao&&n&&I.isArrow)Xt||(H.selected&&S.row&&S.column?r.moveArrowSelected(S.args,ft,bt,at,ct,t):((bt||ct)&&(q.isCurrent||u)&&r.moveCurrentRow(bt,ct,t),(ft||at)&&(P.isCurrent||g)&&r.moveCurrentColumn(ft,at,t)));else if($e&&n&&I.isTab)S.row||S.column?r.moveTabSelected(S.args,Lt,t):(Te.row||Te.column)&&r.moveTabSelected(Te.args,Lt,t);else if(n&&I.isDel&&Rt&&Ct(a)&&(S.row||S.column)){if(!Xt){const{delMethod:Pt}=I,Ht={row:S.row,rowIndex:z.getRowIndex(S.row),column:S.column,columnIndex:z.getColumnIndex(S.column),$table:r,$grid:_e};(!co||co(Ht))&&(Pt?Pt(Ht):dl(S.row,S.column,null),z.updateFooter(),At("cell-delete-value",Ht,t))}}else if(Ve&&n&&I.isBack&&Ct(a)&&(S.row||S.column)){if(!Xt){const{backMethod:Pt}=I;if(I.isDel&&Ct(a)&&(S.row||S.column)){const Ht={row:S.row,rowIndex:r.getRowIndex(S.row),column:S.column,columnIndex:r.getColumnIndex(S.column),$table:r,$grid:_e};(!co||co(Ht))&&(Pt?Pt(Ht):(dl(S.row,S.column,null),r.handleEdit(S.args,t)),At("cell-backspace-value",Ht,t))}}}else if(Ve&&n&&s&&I.isBack&&(q.isCurrent||u)&&v){const{parent:Pt}=i.findTree(d.afterTreeFullData,Ht=>Ht===v,{children:ve});if(Pt){t.preventDefault();const Ht={row:Pt,rowIndex:r.getRowIndex(Pt),$rowIndex:r.getVMRowIndex(Pt),$table:r,$grid:_e};r.setTreeExpand(Pt,!1).then(()=>r.scrollToRow(Pt)).then(()=>r.triggerCurrentRowEvent(t,Ht))}}else if(n&&Ct(a)&&I.isEdit&&!io&&(Ne||ye>=48&&ye<=57||ye>=65&&ye<=90||ye>=96&&ye<=111||ye>=186&&ye<=192||ye>=219&&ye<=222)){const{editMode:Pt,editMethod:Ht}=I;if(S.column&&S.row&&Ct(S.column.editRender)){const Bo=j.beforeEditMethod||j.activeMethod,wo={row:S.row,rowIndex:r.getRowIndex(S.row),column:S.column,columnIndex:r.getColumnIndex(S.column),$table:r,$grid:_e};(!Bo||Bo(Object.assign(Object.assign({},S.args),{$table:r,$grid:_e})))&&(Ht?Ht(wo):(Pt!=="insert"&&dl(S.row,S.column,null),r.handleEdit(S.args,t)))}}At("keydown",{},t)})},oc=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:s,filterStore:a}=f,{isActivated:u}=d,g=kt.value,m=Ft.value,{actived:b}=s;u&&!a.visible&&(b.row||b.column||o&&m.isClip&&n&&g.area&&r.handlePasteCellAreaEvent&&r.handlePasteCellAreaEvent(t),At("paste",{},t))},lc=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:s,filterStore:a}=f,{isActivated:u}=d,g=kt.value,m=Ft.value,{actived:b}=s;u&&!a.visible&&(b.row||b.column||o&&m.isClip&&n&&g.area&&r.handleCopyCellAreaEvent&&r.handleCopyCellAreaEvent(t),At("copy",{},t))},nc=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:s,filterStore:a}=f,{isActivated:u}=d,g=kt.value,m=Ft.value,{actived:b}=s;u&&!a.visible&&(b.row||b.column||o&&m.isClip&&n&&g.area&&r.handleCutCellAreaEvent&&r.handleCutCellAreaEvent(t),At("cut",{},t))},ri=()=>{r.closeMenu&&r.closeMenu();const t=M.value;if(!t||!t.clientWidth)return de();z.recalculate(!0),z.updateCellAreas()},Er=t=>{const o=oe.value;clearTimeout(d.tooltipTimeout),t?z.closeTooltip():o&&o.setActived&&o.setActived(!0)},si=()=>{const{dragRow:t,dragCol:o}=f;(t||o)&&(yr(),is(),gn(),f.dragRow=null,f.dragCol=null,f.isDragColMove=!1,f.isDragRowMove=!1)},is=()=>{const t=M.value;if(t){const o="row--drag-origin";i.arrayEach(t.querySelectorAll(`.${o}`),n=>{n.draggable=!1,zo(n,o)})}},rc=t=>{const o=M.value;if(o){const n="row--drag-origin",s=Be(r,t);i.arrayEach(o.querySelectorAll(`[rowid="${s}"]`),a=>{cl(a,n)})}},sc=t=>{const{dragConfig:o}=e,{dragRow:n}=f,s=it.value,{tooltipMethod:a}=s,u=a||(o?o.rowTooltipMethod:null);let g="";u?g=`${u({$table:r,row:n})||""}`:g=hl("vxe.table.dragTip",[t.textContent||""]),f.dragTipText=g},ic=t=>{const o=M.value;if(o){const n=[];i.eachTree([t],a=>{n.push(`[colid="${a.id}"]`)});const s="col--drag-origin";i.arrayEach(o.querySelectorAll(n.join(",")),a=>{cl(a,s)})}},yr=()=>{const t=M.value;if(t){const o="col--drag-origin";i.arrayEach(t.querySelectorAll(`.${o}`),n=>{n.draggable=!1,zo(n,o)})}},ac=t=>{const{dragCol:o}=f,n=xt.value,{tooltipMethod:s}=n;let a="";s?a=`${s({$table:r,column:o})||""}`:a=hl("vxe.table.dragTip",[t.textContent||""]),f.dragTipText=a},Rr=(t,o,n,s,a)=>{const u=M.value;if(!u)return;const{overflowX:g,scrollbarWidth:m,overflowY:b,scrollbarHeight:v}=f,{prevDragToChild:C}=d,D=u.getBoundingClientRect(),R=b?m:0,I=g?v:0,H=u.clientWidth,j=u.clientHeight;if(o){const F=ue.value;if(F)if(s){const q=We.value,P=o.getBoundingClientRect();let S=o.clientHeight;const Te=Math.max(1,P.y-D.y);Te+S>j-I&&(S=j-Te-I),F.style.display="block",F.style.left=`${q?R:0}px`,F.style.top=`${Te}px`,F.style.height=`${S}px`,F.style.width=`${H-R}px`,F.setAttribute("drag-pos",a),F.setAttribute("drag-to-child",C?"y":"n")}else F.style.display=""}else if(n){const F=ie.value;if(F)if(s){const q=ut.value,P=Ee.value,S=P?P.clientWidth:0,Te=Ae.value,ve=Te?Te.clientWidth:0,ye=n.getBoundingClientRect();let Ke=n.clientWidth;const Ve=Math.max(0,ye.y-D.y),$e=S;let Ue=ye.x-D.x;Ue<$e&&(Ke-=$e-Ue,Ue=$e);const Ne=H-ve-(ve?0:R);Ue+Ke>Ne&&(Ke=Ne-Ue),F.style.display="block",F.style.top=`${Ve}px`,F.style.left=`${Ue}px`,F.style.width=`${Ke}px`,C?F.style.height=`${ye.height}px`:F.style.height=`${j-Ve-(q?0:I)}px`,F.setAttribute("drag-pos",a),F.setAttribute("drag-to-child",C?"y":"n")}else F.style.display=""}const A=$.value;A&&(A.style.display="block",A.style.top=`${Math.min(u.clientHeight-u.scrollTop-A.clientHeight,t.clientY-D.y)}px`,A.style.left=`${Math.min(u.clientWidth-u.scrollLeft-A.clientWidth-16,t.clientX-D.x)}px`,A.setAttribute("drag-status",s?C?"sub":"normal":"disabled"))},gn=()=>{const t=$.value,o=ue.value,n=ie.value;t&&(t.style.display=""),o&&(o.style.display=""),n&&(n.style.display="")},as=(t,o,n,s,a)=>{const u=n||o;if(!u)return de();a.cell=o;const{tooltipStore:g}=f,m=It.value,{column:b,row:v}=a,{showAll:C,contentMethod:D}=m,R=D?D(a):null,I=D&&!i.eqNull(R),H=I?R:i.toString(b.type==="html"?u.innerText:u.textContent).trim(),j=u.scrollWidth>u.clientWidth;return H&&(C||I||j)&&(Object.assign(g,{row:v,column:b,visible:!0,currOpts:{}}),de(()=>{const A=oe.value;A&&A.open&&A.open(j?u:s,Eo(H))})),de()},Gn=(t,o)=>{if(t){if(_e)return _e.callSlot(t,o);if(i.isFunction(t))return Ao(t(o))}return[]};N={getSetupOptions(){return Mt()},updateAfterDataIndex:Jo,callSlot:Gn,getParentElem(){const t=M.value;if(_e){const o=_e.getRefMaps().refElem.value;return o?o.parentNode:null}return t?t.parentNode:null},getParentHeight(){const{height:t}=e,o=M.value;if(o){const n=o.parentNode,s=t==="100%"||t==="auto"?Is(n):0;let a=0;return n&&(_e&&Fl(n,"vxe-grid--table-wrapper")?a=_e.getParentHeight():a=n.clientHeight),Math.floor(a-s)}return 0},getExcludeHeight(){return _e?_e.getExcludeHeight():0},defineField(t){const{treeConfig:o}=e,n=St.value,s=ht.value,a=Ze.value,u=wt.value,g=s.children||s.childrenField,m=Kl(r);return i.isArray(t)||(t=[t]),t.map(b=>(d.tableFullColumn.forEach(C=>{const{field:D,editRender:R}=C;if(D&&!i.has(b,D)&&!b[D]){let I=null;if(R){const{defaultValue:H}=R;i.isFunction(H)?I=H({column:C}):i.isUndefined(H)||(I=H)}i.set(b,D,I)}}),[a.labelField,u.checkField,u.labelField,n.labelField].forEach(C=>{C&&Ml(i.get(b,C))&&i.set(b,C,null)}),o&&s.lazy&&i.isUndefined(b[g])&&(b[g]=null),Ml(i.get(b,m))&&i.set(b,m,nr()),b))},handleTableData(t){const{scrollYLoad:o}=f,{scrollYStore:n,fullDataRowIdData:s}=d;let a=d.afterFullData;t&&(dn(),a=el());const u=o?a.slice(n.startIndex,n.endIndex):a.slice(0),g={};return u.forEach((m,b)=>{const v=Be(r,m),C=s[v];C&&(C.$index=b),g[v]=m}),f.tableData=u,d.visibleDataRowIdData=g,de()},cacheRowMap(t){const{treeConfig:o}=e,{isRowGroupStatus:n}=f,{fullAllDataRowIdData:s,tableFullData:a,tableFullTreeData:u,tableFullGroupData:g,treeExpandedMaps:m}=d,b=t?{}:Object.assign({},s),v={},{handleUpdateRowId:C}=mi(r),D=(R,I,H,j,A,F,q,P)=>{let S=b[F];S||(S={row:R,rowid:F,seq:P,index:-1,_index:-1,$index:-1,treeIndex:I,items:H,parent:A,level:q,height:0,resizeHeight:0,oTop:0,expandHeight:0},v[F]=S,b[F]=S),S.treeLoaded=!1,S.expandLoaded=!1,S.row=R,S.items=H,S.parent=A,S.level=q,S.index=j,S.treeIndex=I,v[F]=S,b[F]=S};if(o){const R=ht.value,{lazy:I}=R,H=R.children||R.childrenField,j=R.hasChild||R.hasChildField;i.eachTree(u,(A,F,q,P,S,Te)=>{const ve=C(A);o&&I&&(A[j]&&A[H]===void 0&&(A[H]=null),m[ve]&&(!A[H]||!A[H].length)&&delete m[ve]),D(A,F,q,S?-1:F,S,ve,Te.length-1,vi(P))},{children:H})}else if(n){const R=ke.value,{mapChildrenField:I}=R;i.eachTree(g,(H,j,A,F,q,P)=>{const S=C(H);D(H,j,A,q?-1:j,q,S,P.length-1,vi(F))},{children:I})}else a.forEach((R,I,H)=>{D(R,I,H,I,null,C(R),0,I+1)});d.fullDataRowIdData=v,d.fullAllDataRowIdData=b,f.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:o}=e,n=ht.value,s=i.clone(t,!0),{handleUpdateRowId:a}=mi(r),u={},g=m=>{const b=a(m);u[b]=m};if(o){const m=n.children||n.childrenField;i.eachTree(s,g,{children:n.transform?n.mapChildrenField:m})}else s.forEach(g);d.sourceDataRowIdData=u,d.tableSourceData=s},analyColumnWidth(){const{tableFullColumn:t}=d,o=ot.value,{width:n,minWidth:s}=o,a=[],u=[],g=[],m=[],b=[],v=[],C=[],D=[];t.forEach(R=>{n&&!R.width&&(R.width=n),s&&!R.minWidth&&(R.minWidth=s),R.visible&&(R.resizeWidth?a.push(R):R.width==="auto"?C.push(R):Ts(R.width)?u.push(R):Sn(R.width)?b.push(R):Ts(R.minWidth)?g.push(R):R.minWidth==="auto"?m.push(R):Sn(R.minWidth)?v.push(R):D.push(R))}),Object.assign(f.columnStore,{resizeList:a,pxList:u,pxMinList:g,autoMinList:m,scaleList:b,scaleMinList:v,autoList:C,remainList:D})},handleColResizeMousedownEvent(t,o,n){t.stopPropagation(),t.preventDefault();const{column:s}=n,{columnStore:a,overflowX:u,scrollbarHeight:g}=f,{elemStore:m,visibleColumn:b}=d,{leftList:v,rightList:C}=a,D=Ot.value,R=u?g:0,I=M.value,H=Ee.value,j=Ae.value,A=Ce.value;if(!A)return;const F=o==="left",q=o==="right",P=A.firstElementChild,S=ut.value,{clientX:Te}=t,ve=t.target;let ye=s;s.children&&s.children.length&&i.eachTree(s.children,Xt=>{ye=Xt});const Ke=ve.parentNode,Ve=Object.assign(n,{cell:Ke});let $e=0;if(!Je(m["main-body-scroll"]))return;const Ne=I.getBoundingClientRect(),ft=j?j.getBoundingClientRect():null,bt=Ke.getBoundingClientRect(),at=ve.getBoundingClientRect(),ct=ve.clientWidth,Rt=Math.floor(ct/2),lo=at.x-Ne.x+Rt,Ut=Ci(Ve)-Rt,io=q?0:bt.x-Ne.x+ct+Ut,Lt=bt.x-Ne.x+Ke.clientWidth-Ut;let xo=0,ao=0;if(F||q){let Xt=!1;const co=F?v:C;for(let Pt=0;Pt<co.length;Pt++){const Ht=co[Pt];Xt?xo+=Ht.renderWidth:(Xt=Ht.id===ye.id,Xt||(ao+=Ht.renderWidth))}}const Do=Xt=>{Xt.stopPropagation(),Xt.preventDefault();const co=I.clientHeight,Pt=Xt.clientX-Te;let Ht=lo+Pt;F?ft&&(Ht=Math.min(Ht,ft.x-Ne.x-xo-Ut)):q&&(H&&(Ht=Math.max(Ht,H.clientWidth+ao+Ut)),Ht=Math.min(Ht,Lt)),$e=Math.max(Ht,io);const Bo=Math.max(1,$e);if(A.style.left=`${Bo}px`,A.style.top=`${S?R:0}px`,A.style.height=`${S?co-R:co}px`,D.showDragTip&&P){P.textContent=hl("vxe.table.resizeColTip",[Math.floor(ye.renderWidth+(q?lo-$e:$e-lo))]);const wo=I.clientWidth,$o=A.clientWidth,Po=P.clientWidth,Sl=P.clientHeight;let Wo=-Po;Bo<Po+$o?Wo=0:Bo>wo&&(Wo+=wo-Bo),P.style.left=`${Wo}px`,P.style.top=`${Math.min(co-Sl,Math.max(0,Xt.clientY-Ne.y-Sl/2))}px`}f.isDragResize=!0};f.isDragResize=!0,cl(I,"col-drag--resize"),A.style.display="block",document.onmousemove=Do,document.onmouseup=function(Xt){document.onmousemove=null,document.onmouseup=null,A.style.display="none",d._lastResizeTime=Date.now(),setTimeout(()=>{f.isDragResize=!1},50);const co=ye.renderWidth+(q?lo-$e:$e-lo),Pt=Object.assign(Object.assign({},n),{resizeWidth:co,resizeColumn:ye});D.dragMode==="fixed"&&b.forEach(Ht=>{Ht.id!==ye.id&&(Ht.resizeWidth||(Ht.resizeWidth=Ht.renderWidth))}),r.handleColResizeCellAreaEvent?r.handleColResizeCellAreaEvent(Xt,Pt):(ye.resizeWidth=co,ti(Xt,Pt)),zo(I,"col-drag--resize")},Do(t),r.closeMenu&&r.closeMenu()},handleColResizeDblclickEvent(t,o){const n=Ot.value,{isDblclickAutoWidth:s}=n,a=M.value;if(s&&a){t.stopPropagation(),t.preventDefault();const{fullColumnIdData:u}=d,{column:g}=o;let m=g;g.children&&g.children.length&&i.eachTree(g.children,A=>{m=A});const b=m.id,v=u[b],D=t.target.parentNode,R=Object.assign(o,{cell:D}),I=Ci(R);a.setAttribute("data-calc-col","Y");let H=pl(m,a);a.removeAttribute("data-calc-col"),v&&(H=Math.max(H,v.width)),H=Math.max(I,H);const j=Object.assign(Object.assign({},o),{resizeWidth:H,resizeColumn:m});f.isDragResize=!1,d._lastResizeTime=Date.now(),r.handleColResizeDblclickCellAreaEvent?r.handleColResizeDblclickCellAreaEvent(t,j):(m.resizeWidth=H,ti(t,j))}},handleRowResizeMousedownEvent(t,o){t.stopPropagation(),t.preventDefault();const{row:n}=o,{overflowX:s,scrollbarWidth:a,overflowY:u,scrollbarHeight:g}=f,{elemStore:m,fullAllDataRowIdData:b}=d,v=u?a:0,C=s?g:0,D=We.value,R=Ot.value,I=Oe.value,H=X.value,j=M.value,A=De.value;if(!A)return;const{clientY:F}=t,q=A.firstElementChild,S=t.currentTarget.parentNode,Te=S.parentNode;if(!Je(m["main-body-scroll"]))return;const ye=Be(r,n),Ke=b[ye];if(!Ke)return;const Ve=Le.value,$e=Ke.resizeHeight||H.height||I.height||Ke.height||Ve,Ue=j.getBoundingClientRect(),Ne=Te.getBoundingClientRect(),ft=F-Ne.y-Te.clientHeight;let bt=$e;const at=S.querySelector(".vxe-cell");let ct=0;if(at){const Ut=getComputedStyle(at);ct=Math.max(1,Math.ceil(i.toNumber(Ut.paddingTop)+i.toNumber(Ut.paddingBottom)))}const Rt=Ne.y-Ue.y+ct,lo=Ut=>{Ut.stopPropagation(),Ut.preventDefault();const io=j.clientWidth-v,Lt=j.clientHeight-C;let xo=Ut.clientY-Ue.y-ft;if(xo<Rt?xo=Rt:bt=Math.max(ct,$e+Ut.clientY-F),A.style.left=`${D?v:0}px`,A.style.top=`${xo}px`,A.style.width=`${io}px`,R.showDragTip&&q){q.textContent=hl("vxe.table.resizeRowTip",[bt]);const ao=q.clientWidth,Do=q.clientHeight;let Xt=Math.max(2,Ut.clientX-Ue.x),co=0;Xt+ao>=io-2&&(Xt=io-ao-2),xo+Do>=Lt&&(co=Lt-(xo+Do)),q.style.left=`${Xt}px`,q.style.top=`${co}px`}f.isDragResize=!0};f.isDragResize=!0,cl(j,"row-drag--resize"),A.style.display="block",document.onmousemove=lo,document.onmouseup=function(Ut){if(document.onmousemove=null,document.onmouseup=null,A.style.display="none",d._lastResizeTime=Date.now(),setTimeout(()=>{f.isDragResize=!1},50),bt!==$e){const io=Object.assign(Object.assign({},o),{resizeHeight:bt,resizeRow:n});d.isResizeCellHeight=!0,r.handleRowResizeCellAreaEvent?r.handleRowResizeCellAreaEvent(Ut,io):(Ke.resizeHeight=bt,oi(Ut,io),_o())}zo(j,"row-drag--resize")},lo(t)},handleRowResizeDblclickEvent(t,o){const n=Ot.value,{isDblclickAutoHeight:s}=n,a=M.value;if(s&&a){t.stopPropagation(),t.preventDefault();const{editStore:u}=f,{fullAllDataRowIdData:g}=d,{actived:m}=u,{row:b}=o,v=Be(r,b),C=g[v];if(!C)return;const D=()=>{a.setAttribute("data-calc-row","Y");const R=yl(C,a);a.removeAttribute("data-calc-row");const I=Object.assign(Object.assign({},o),{resizeHeight:R,resizeRow:b});f.isDragResize=!1,d._lastResizeTime=Date.now(),r.handleRowResizeDblclickCellAreaEvent?r.handleRowResizeDblclickCellAreaEvent(t,I):(C.resizeHeight=R,oi(t,I))};m.row||m.column?r.clearEdit().then(D):D()}},saveCustomStore(t){const{customConfig:o}=e,n=He.value,s=Uo.value,{updateStore:a,storage:u}=s,g=u===!0,m=g?{}:Object.assign({},u||{}),b=g||m.resizable,v=g||m.visible,C=g||m.fixed,D=g||m.sort;if(t!=="reset"&&(f.isCustomStatus=!0),(o?Ct(s):s.enabled)&&(b||v||C||D)){if(!n)return ze("vxe.error.reqProp",["id"]),de();const R=t==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:z.getCustomStoreData();if(a)return a({$table:r,id:n,type:t,storeData:R});ur(n,t==="reset"?null:R)}return de()},handleCustom(){const{mouseConfig:t}=e;return t&&(r.clearSelected&&r.clearSelected(),r.clearCellAreas&&(r.clearCellAreas(),r.clearCopyCellArea())),N.analyColumnWidth(),z.refreshColumn(!0)},handleUpdateDataQueue(){f.upDataFlag++},handleRefreshColumnQueue(){f.reColumnFlag++},preventEvent(t,o,n,s,a){let u=$i.get(o);!u.length&&o==="event.clearEdit"&&(u=$i.get("event.clearActived"),u.length&&pt("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let g=null,m=!1;for(let b=0;b<u.length;b++){const v=u[b],C=v(Object.assign({$grid:_e,$table:r,$event:t},n));if(C===!1){m=!0;break}else if(C&&C.status===!1){g=C.result,m=!0;break}}return m||s&&(g=s()),a&&a(),g},updateCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:o}=f,{afterTreeFullData:n,afterGroupFullData:s,selectCheckboxMaps:a,treeIndeterminateRowMaps:u}=d,g=ke.value,m=ht.value,b=m.children||m.childrenField,v=wt.value,{checkField:C,checkStrictly:D,checkMethod:R}=v;if(!D){if(o||t){const{handleGetRowId:I}=po(r),H={},j=[];if(o){const A=g.mapChildrenField;A&&i.eachTree(s,F=>{const q=I(F),P=F[A];P&&P.length&&!H[q]&&(H[q]=1,j.unshift([F,q,P]))},{children:A})}else if(t){const{transform:A,mapChildrenField:F}=m;i.eachTree(n,q=>{const P=I(q),S=q[A?F:b];S&&S.length&&!H[P]&&(H[P]=1,j.unshift([q,P,S]))},{children:A?F:b})}j.forEach(A=>{const F=A[0],q=A[1],P=A[2];let S=0,Te=0,ve=0;P.forEach(R?Ve=>{const $e=I(Ve),Ue=C?i.get(Ve,C):a[$e];R({$table:r,row:Ve})?(Ue?S++:u[$e]&&Te++,ve++):Ue?S++:u[$e]&&Te++}:Ve=>{const $e=I(Ve);(C?i.get(Ve,C):a[$e])?S++:u[$e]&&Te++,ve++});const ye=S>=ve,Ke=!ye&&(S>=1||Te>=1);C&&i.set(F,C,ye),ye?(C||(a[q]=F),u[q]&&delete u[q]):(C||a[q]&&delete a[q],Ke?u[q]=F:u[q]&&delete u[q])})}f.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:o}=f,{afterFullData:n,afterTreeFullData:s,afterGroupFullData:a,checkboxReserveRowMap:u,selectCheckboxMaps:g,treeIndeterminateRowMaps:m}=d,b=wt.value,{checkField:v,checkMethod:C,showReserveStatus:D}=b,{handleGetRowId:R}=po(r);let I=0,H=0,j=0;const A=t?s:o?a:n;A.forEach(C?P=>{const S=R(P),Te=v?i.get(P,v):g[S];C({$table:r,row:P})?(Te?I++:m[S]&&H++,j++):Te?I++:m[S]&&H++}:P=>{const S=R(P);(v?i.get(P,v):g[S])?I++:m[S]&&H++,j++});const F=A.length>0?j>0?I>=j:I>=A.length:!1;let q=!F&&(I>=1||H>=1);!F&&!q&&D&&(q=!i.isEmpty(u)),f.isAllSelected=F,f.isIndeterminate=q},checkSelectionStatus(){r.updateCheckboxStatus(),r.updateAllCheckboxStatus()},handleBatchSelectRows(t,o,n){const{treeConfig:s}=e,{isRowGroupStatus:a}=f,{selectCheckboxMaps:u}=d,g=ke.value,m=ht.value,{transform:b,mapChildrenField:v}=m,C=m.children||m.childrenField,D=wt.value,{checkField:R,checkStrictly:I,checkMethod:H}=D,{handleGetRowId:j}=po(r),A=D.indeterminateField||D.halfField;if(R){if((s||a)&&!I){i.eachTree(t,F=>{(n||!H||H({$table:r,row:F}))&&(i.set(F,R,o),A&&i.set(F,A,!1),Dt(F,o))},{children:b?v:C}),f.updateCheckboxFlag++;return}t.forEach(F=>{(n||!H||H({$table:r,row:F}))&&(i.set(F,R,o),Dt(F,o))}),f.updateCheckboxFlag++;return}if(!I){if(a){i.eachTree(t,F=>{const q=j(F);(n||!H||H({$table:r,row:F}))&&(o?u[q]=F:u[q]&&delete u[q],Dt(F,o))},{children:g.mapChildrenField}),f.updateCheckboxFlag++;return}else if(s){i.eachTree(t,F=>{const q=j(F);(n||!H||H({$table:r,row:F}))&&(o?u[q]=F:u[q]&&delete u[q],Dt(F,o))},{children:b?v:C}),f.updateCheckboxFlag++;return}}t.forEach(F=>{const q=j(F);(n||!H||H({$table:r,row:F}))&&(o?u[q]||(u[q]=F):u[q]&&delete u[q],Dt(F,o),f.updateCheckboxFlag++)})},handleSelectRow({row:t},o,n){r.handleBatchSelectRows([t],o,n)},handleUpdateBodyMerge(){const{mergeBodyList:t}=d;d.mergeBodyCellMaps=pr(t),f.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:t}=d;d.mergeFooterCellMaps=pr(t),f.mergeFootFlag++},triggerHeaderTitleEvent(t,o,n){const s=o.content||o.message;if(s){const{tooltipStore:a}=f,{column:u}=n,g=Cl(s);Er(!0),a.row=null,a.column=u,a.visible=!0,a.currOpts=o,de(()=>{const m=oe.value;m&&m.open&&m.open(t.currentTarget,g)})}},triggerHeaderTooltipEvent(t,o){const{tooltipStore:n}=f,{column:s}=o;Er(!0);const a=t.currentTarget;if(!a)return;const u=a.parentElement;if(!u)return;const g=u.parentElement;if(!g)return;const m=g.parentElement;if(m&&(n.column!==s||!n.visible)){const b=m.querySelector(".vxe-cell--title");as(t,m,(Fl(m,"col--ellipsis")?b:u)||u,b||g,o)}},triggerBodyTooltipEvent(t,o){const{editConfig:n}=e,{editStore:s}=f,{tooltipStore:a}=f,u=oo.value,{actived:g}=s,{row:m,column:b}=o,v=t.currentTarget;if(Er(a.column!==b||a.row!==m),!(b.editRender&&Ct(n)&&(u.mode==="row"&&g.row===m||g.row===m&&g.column===b))&&(a.column!==b||a.row!==m||!a.visible)){const C=v.querySelector(".vxe-cell--wrapper");let D=null,R=v.querySelector(b.type==="html"?".vxe-cell--html":".vxe-cell--label");b.treeNode&&(D=v.querySelector(".vxe-tree-cell")),R||(R=C),as(t,v,D||C,R,o)}},triggerFooterTooltipEvent(t,o){const{column:n}=o,{tooltipStore:s}=f,a=t.currentTarget;if(Er(s.column!==n||!!s.row),s.column!==n||!s.visible){const u=a.querySelector(".vxe-cell--wrapper");let g=null,m=a.querySelector(n.type==="html"?".vxe-cell--html":".vxe-cell--label");n.type==="html"&&(g=a.querySelector(".vxe-cell--html")),m||(m=u),as(t,a,g||u,m,o)}},handleTargetLeaveEvent(){const t=It.value;let o=oe.value;o&&o.setActived&&o.setActived(!1),t.enterable?d.tooltipTimeout=setTimeout(()=>{o=oe.value,o&&o.isActived&&!o.isActived()&&r.closeTooltip()},t.leaveDelay):r.closeTooltip()},triggerHeaderCellClickEvent(t,o){const{_lastResizeTime:n}=d,s=zt.value,a=ot.value,u=Qe.value,{column:g}=o,m=t.currentTarget,b=n&&n>Date.now()-300,v=Vt(t,m,"vxe-cell--sort").flag,C=Vt(t,m,"vxe-cell--filter").flag;s.trigger==="cell"&&!(b||v||C)&&r.triggerSortEvent(t,g,fl(g)),At("header-cell-click",Object.assign({triggerResizable:b,triggerSort:v,triggerFilter:C,cell:m},o),t),(a.isCurrent||e.highlightCurrentColumn)&&(!u.trigger||["header","default"].includes(u.trigger))&&r.triggerCurrentColumnEvent(t,o)},triggerHeaderCellDblclickEvent(t,o){At("header-cell-dblclick",Object.assign({cell:t.currentTarget},o),t)},triggerCellClickEvent(t,o){const{highlightCurrentRow:n,highlightCurrentColumn:s,editConfig:a}=e,{editStore:u,isDragResize:g}=f;if(g)return;const m=St.value,b=oo.value,v=ht.value,C=Ze.value,D=wt.value,R=Ft.value,I=ke.value,H=Oe.value,j=ot.value,A=Qe.value,{actived:F,focused:q}=u,{row:P,column:S}=o,{type:Te,treeNode:ve,rowGroupNode:ye}=S,Ke=Te==="radio",Ve=Te==="checkbox",$e=Te==="expand",Ue=t.currentTarget,Ne=Ke&&Vt(t,Ue,"vxe-cell--radio").flag,ft=Ve&&Vt(t,Ue,"vxe-cell--checkbox").flag,bt=ve&&Vt(t,Ue,"vxe-cell--tree-btn").flag,at=$e&&Vt(t,Ue,"vxe-table--expanded").flag,ct=$e&&Vt(t,Ue,"vxe-row-group--node-btn").flag;o=Object.assign({cell:Ue,triggerRadio:Ne,triggerCheckbox:ft,triggerTreeNode:bt,triggerExpandNode:at},o),!ft&&!Ne&&(!at&&(m.trigger==="row"||$e&&m.trigger==="cell")&&r.triggerRowExpandEvent(t,o),(v.trigger==="row"||ve&&v.trigger==="cell")&&r.triggerTreeExpandEvent(t,o),(I.trigger==="row"||ye&&I.trigger==="cell")&&r.triggerRowGroupExpandEvent(t,o)),bt||(!at&&!ct&&((H.isCurrent||n)&&!ft&&!Ne&&r.triggerCurrentRowEvent(t,o),(j.isCurrent||s)&&(!A.trigger||["cell","default"].includes(A.trigger))&&!ft&&!Ne&&r.triggerCurrentColumnEvent(t,o),!Ne&&(C.trigger==="row"||Ke&&C.trigger==="cell")&&r.triggerRadioRowEvent(t,o),!ft&&(D.trigger==="row"||Ve&&D.trigger==="cell")&&r.handleToggleCheckRowEvent(t,o)),Ct(a)&&(R.arrowCursorLock&&t&&b.mode==="cell"&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(q.column=S,q.row=P),b.trigger==="manual"?F.args&&F.row===P&&S!==F.column&&zn(t,o):(!F.args||P!==F.row||S!==F.column)&&(b.trigger==="click"||b.trigger==="dblclick"&&b.mode==="row"&&F.row===P)&&zn(t,o))),Ct(a)&&b.trigger==="dblclick"&&F.row&&F.column&&(b.mode==="row"?r.eqRow(F.row,P)||r.handleClearEdit(t):b.mode==="cell"&&(!r.eqRow(F.row,P)||F.column.id!==S.id)&&r.handleClearEdit(t)),At("cell-click",o,t)},triggerCellDblclickEvent(t,o){const{editConfig:n}=e,{editStore:s,isDragResize:a}=f;if(a)return;const u=oo.value,{actived:g}=s,m=t.currentTarget;o=Object.assign({cell:m},o),Ct(n)&&u.trigger==="dblclick"&&(!g.args||t.currentTarget!==g.args.cell)&&(u.mode==="row"?Rl("blur").catch(b=>b).then(()=>{r.handleEdit(o,t).then(()=>Rl("change")).catch(b=>b)}):u.mode==="cell"&&r.handleEdit(o,t).then(()=>Rl("change")).catch(b=>b)),At("cell-dblclick",o,t)},handleToggleCheckRowEvent(t,o){const{selectCheckboxMaps:n}=d,s=wt.value,{checkField:a,trigger:u}=s,{row:g}=o;if(u==="manual")return;let m=!1;a?m=!i.get(g,a):m=!n[Be(r,g)],t?r.triggerCheckRowEvent(t,o,m):(r.handleBatchSelectRows([g],m),r.checkSelectionStatus())},triggerCheckRowEvent(t,o,n){const{treeConfig:s}=e,{row:a}=o,{isRowGroupStatus:u}=f,{afterFullData:g}=d,m=wt.value,{checkMethod:b,trigger:v}=m;if(v!=="manual"){if(t.stopPropagation(),m.isShiftKey&&t.shiftKey&&!(s||u)){const C=r.getCheckboxRecords();if(C.length){const D=C[0],R=r.getVTRowIndex(a),I=r.getVTRowIndex(D);if(R!==I){r.setAllCheckboxRow(!1);const H=R<I?g.slice(R,I+1):g.slice(I,R+1);de(()=>{Io(H,!0,!1)}),At("checkbox-range-select",Object.assign({rangeRecords:H},o),t);return}}}(!b||b({$table:r,row:a}))&&(r.handleBatchSelectRows([a],n),r.checkSelectionStatus(),At("checkbox-change",Object.assign({records:()=>r.getCheckboxRecords(),reserves:()=>r.getCheckboxReserveRecords(),indeterminates:()=>r.getCheckboxIndeterminateRecords(),checked:n},o),t))}},triggerCheckAllEvent(t,o){const n=wt.value,{trigger:s}=n;s!=="manual"&&(t&&t.stopPropagation(),ei(t,o))},triggerRadioRowEvent(t,o){const{selectRadioRow:n}=f,{row:s}=o,a=Ze.value,{trigger:u,checkMethod:g}=a;if(u!=="manual"&&(t.stopPropagation(),!g||g({$table:r,row:s}))){let m=s,b=n!==m;b?Co(m):a.strict||(b=n===m,b&&(m=null,r.clearRadioRow())),b&&At("radio-change",Object.assign({oldValue:n,newValue:m},o),t)}},triggerCurrentColumnEvent(t,o){const{currentColumn:n}=f,s=ot.value,a=Qe.value,u=a.beforeSelectMethod||s.currentMethod,{column:g}=o,{trigger:m}=a;if(m==="manual")return;const b=n!==g;!u||u({column:g,$table:r})?(r.setCurrentColumn(g),b&&At("current-column-change",Object.assign({oldValue:n,newValue:g},o),t)):At("current-column-disabled",o,t)},triggerCurrentRowEvent(t,o){const{currentRow:n}=f,s=Oe.value,a=lt.value,u=a.beforeSelectMethod||s.currentMethod,{row:g}=o,{trigger:m}=a;if(m==="manual")return;const b=n!==g;!u||u({row:g,$table:r})?(r.setCurrentRow(g),b&&(At("current-row-change",Object.assign({oldValue:n,newValue:g},o),t),At("current-change",Object.assign({oldValue:n,newValue:g},o),t))):At("current-row-disabled",o,t)},triggerRowExpandEvent(t,o){const{expandColumn:n}=f,{rowExpandLazyLoadedMaps:s}=d,a=St.value,{row:u}=o,{lazy:g,trigger:m}=a;if(m==="manual")return;t.stopPropagation();const b=Be(r,u);if(!g||!s[b]){const v=!r.isRowExpandByRow(u),C=n?r.getColumnIndex(n):-1,D=n?r.getVMColumnIndex(n):-1;r.setRowExpand(u,v),At("toggle-row-expand",{expanded:v,column:n,columnIndex:C,$columnIndex:D,row:u,rowIndex:r.getRowIndex(u),$rowIndex:r.getVMRowIndex(u)},t)}},triggerRowGroupExpandEvent(t,o){const{rowGroupExpandedMaps:n}=d,s=ke.value,{row:a,column:u}=o,{trigger:g}=s;if(g==="manual")return;t.stopPropagation();const m=Be(r,a),b=!n[m],v=r.getColumnIndex(u),C=r.getVMColumnIndex(u);r.setRowGroupExpand(a,b),At("toggle-row-group-expand",{expanded:b,column:u,columnIndex:v,$columnIndex:C,row:a},t)},triggerTreeExpandEvent(t,o){const{treeExpandLazyLoadedMaps:n,treeEATime:s}=d,a=ht.value,{row:u,column:g}=o,{lazy:m,trigger:b,accordion:v}=a;if(b==="manual")return;t.stopPropagation();const C=Be(r,u);if(!m||!n[C]){const D=!r.isTreeExpandByRow(u),R=r.getColumnIndex(g),I=r.getVMColumnIndex(g);s&&clearTimeout(s),r.setTreeExpand(u,D).then(()=>{v&&(d.treeEATime=setTimeout(()=>{d.treeEATime=void 0,r.scrollToRow(u)},30))}),At("toggle-tree-expand",{expanded:D,column:g,columnIndex:R,$columnIndex:I,row:u},t)}},handleColumnSortEvent(t,o){const{mouseConfig:n}=e,s=kt.value,{field:a,sortable:u,order:g}=o;if(u){const m={$table:r,$event:t,column:o,field:a,property:a,order:g,sortList:z.getSortColumns(),sortTime:o.sortTime};n&&s.area&&r.handleSortEvent&&r.handleSortEvent(t,m),g||At("clear-sort",m,t),At("sort-change",m,t)}},triggerSortEvent(t,o,n){const s=zt.value,{multiple:a,allowClear:u}=s,{field:g,sortable:m}=o;m&&(!n||o.order===n?u&&r.clearSort(a?o:null):r.sort({field:g,order:n}),r.handleColumnSortEvent(t,o))},handleCellRuleUpdateStatus(t,o,n){const{validStore:s}=f,{row:a,column:u}=o;if(r.hasCellRules&&r.hasCellRules(t,a,u)){const g=r.getCellElement(a,u);if(g){const m=!i.isUndefined(n);return r.validCellRules(t,a,u,n).then(()=>{m&&s.visible&&dl(a,u,n),r.clearValidate(a,u)}).catch(({rule:b})=>{m&&dl(a,u,n),r.showValidTooltip({rule:b,row:a,column:u,cell:g})})}}return de()},triggerHeaderCellMousedownEvent(t,o){const{mouseConfig:n}=e,s=kt.value,a=ot.value,u=xt.value,{trigger:g,isCrossDrag:m,isPeerDrag:b,disabledMethod:v}=u,C=t.currentTarget,D=C&&C.tagName&&C.tagName.toLowerCase()==="input",R=Vt(t,C,"vxe-cell--checkbox").flag,I=Vt(t,C,"vxe-cell--sort").flag,H=Vt(t,C,"vxe-cell--filter").flag;let j=!1;const A=a.drag&&g==="cell";if(!(D||R||I||H)){const{column:F}=o;A&&!F.fixed&&(m||b||!F.parentId)&&!(v&&v(o))&&(j=!0,r.handleHeaderCellDragMousedownEvent(t,o))}!j&&n&&s.area&&r.handleHeaderCellAreaEvent&&r.handleHeaderCellAreaEvent(t,Object.assign({cell:C,triggerSort:I,triggerFilter:H},o)),r.focus(),r.closeMenu&&r.closeMenu()},triggerCellMousedownEvent(t,o){const{column:n}=o,{type:s,treeNode:a}=n,u=s==="radio",g=s==="checkbox",m=s==="expand",b=Oe.value,v=it.value,{trigger:C,isCrossDrag:D,isPeerDrag:R,disabledMethod:I}=v,H=t.currentTarget;o.cell=H;const j=H&&H.tagName&&H.tagName.toLowerCase()==="input",A=u&&Vt(t,H,"vxe-cell--radio").flag,F=g&&Vt(t,H,"vxe-cell--checkbox").flag,q=a&&Vt(t,H,"vxe-cell--tree-btn").flag,P=m&&Vt(t,H,"vxe-table--expanded").flag;let S=!1;b.drag&&(S=C==="row"||n.dragSort&&C==="cell");let Te=!1;j||A||F||q||P||S&&(D||R||!o.level)&&!(I&&I(o))&&(Te=!0,r.handleCellDragMousedownEvent(t,o)),!Te&&r.handleCellMousedownEvent&&r.handleCellMousedownEvent(t,o),r.focus(),r.closeFilter(),r.closeMenu&&r.closeMenu()},triggerCellMouseupEvent(){si()},handleRowDragDragstartEvent(t){t.dataTransfer&&t.dataTransfer.setDragImage(Fs(),0,0)},handleRowDragSwapEvent(t,o,n,s,a,u){const{treeConfig:g,dragConfig:m}=e,b=it.value,{afterFullData:v,tableFullData:C,fullAllDataRowIdData:D}=d,{isPeerDrag:R,isCrossDrag:I,isSelfToChildDrag:H,dragEndMethod:j,dragToChildMethod:A}=b,F=ht.value,{transform:q,rowField:P,mapChildrenField:S,parentField:Te}=F,ve=F.children||F.childrenField,ye=j||(m?m.dragEndMethod:null),Ke=a==="bottom"?1:0,Ve={status:!1};if(s&&n&&s!==n){const $e={oldRow:n,newRow:s,dragRow:n,dragPos:a,dragToChild:!!u,offsetIndex:Ke},Ue=H&&A?A($e):u;return Promise.resolve(ye?ye($e):!0).then(Ne=>{if(!Ne)return Ve;let ft=-1,bt=-1;if(g){if(q){const at=Be(r,n),ct=D[at],Rt=Be(r,s),lo=D[Rt];if(ct&&lo){const{level:Ut}=ct,{level:io}=lo,Lt={};i.eachTree([n],Pt=>{Lt[Be(r,Pt)]=Pt},{children:S});let xo=!1;if(Ut&&io)if(R&&!I){if(ct.row[Te]!==lo.row[Te])return Ve}else{if(!I)return Ve;if(Lt[Rt]&&(xo=!0,!(I&&H)))return ge.modal&&ge.modal.message({status:"error",content:hl("vxe.error.treeDragChild")}),Ve}else if(Ut){if(!I)return Ve}else if(io){if(!I)return Ve;if(Lt[Rt]&&(xo=!0,!(I&&H)))return ge.modal&&ge.modal.message({status:"error",content:hl("vxe.error.treeDragChild")}),Ve}const ao=i.toTreeArray(d.afterTreeFullData,{key:P,parentKey:Te,children:S}),Do=r.findRowIndexOf(ao,n);ao.splice(Do,1);const co=r.findRowIndexOf(ao,s)+Ke;ao.splice(co,0,n),xo&&I&&H&&i.each(n[ve],Pt=>{Pt[Te]=n[Te]}),n[Te]=Ue?s[P]:s[Te],d.tableFullTreeData=i.toArrayTree(ao,{key:P,parentKey:Te,children:ve,mapChildren:S})}}}else{ft=r.findRowIndexOf(v,n);const at=r.findRowIndexOf(C,n);v.splice(ft,1),C.splice(at,1);const ct=r.findRowIndexOf(v,s),Rt=r.findRowIndexOf(C,s);bt=ct+Ke;const lo=Rt+Ke;v.splice(bt,0,n),C.splice(lo,0,n)}return f.isDragRowMove=!0,r.handleTableData(g&&q),r.cacheRowMap(!1),_n(),g&&q||r.updateAfterDataIndex(),r.checkSelectionStatus(),f.scrollYLoad&&r.updateScrollYSpace(),t&&At("row-dragend",{oldRow:n,newRow:s,dragRow:n,dragPos:a,dragToChild:Ue,offsetIndex:Ke,_index:{newIndex:bt,oldIndex:ft}},t),de().then(()=>{r.updateCellAreas(),r.recalculate()}).then(()=>({status:!0}))}).catch(()=>Ve)}return Promise.resolve(Ve)},handleRowDragDragendEvent(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n,prevDragToChild:s}=d,{dragRow:a}=f,u=ht.value,{lazy:g}=u,m=u.hasChild||u.hasChildField,{prevDragRow:b,prevDragPos:v}=d;if(o&&g&&s){const C=Be(r,b),D=n[C];b[m]?D&&D.treeLoaded&&r.handleRowDragSwapEvent(t,!0,a,b,v,s):r.handleRowDragSwapEvent(t,!0,a,b,v,s)}else r.handleRowDragSwapEvent(t,!0,a,b,v,s);gn(),is(),d.prevDragToChild=!1,f.dragRow=null,f.dragCol=null,setTimeout(()=>{f.isDragRowMove=!1},500)},handleRowDragDragoverEvent(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d,{dragRow:s}=f,a=ht.value,{lazy:u,transform:g,parentField:m}=a,b=a.hasChild||a.hasChildField,v=it.value,{isPeerDrag:C,isCrossDrag:D,isToChildDrag:R}=v;if(!s){t.preventDefault();return}const I=lr(t),H=t.currentTarget,j=H.getAttribute("rowid")||"",A=n[j];if(A){const F=A.row,q=Be(r,F),P=n[q];t.preventDefault();const{dragRow:S}=f,ve=t.clientY-H.getBoundingClientRect().y<H.clientHeight/2?"top":"bottom";if(d.prevDragToChild=!!(o&&g&&D&&R&&I),d.prevDragRow=F,d.prevDragPos=ve,r.eqRow(S,F)||I&&o&&u&&F[b]&&P&&!P.treeLoaded||!D&&o&&g&&(C?S[m]!==F[m]:A.level)){Rr(t,H,null,!1,ve);return}Rr(t,H,null,!0,ve),At("row-dragover",{oldRow:S,targetRow:F,dragPos:ve},t)}},handleCellDragMousedownEvent(t,o){var n;t.stopPropagation();const{dragConfig:s}=e,a=it.value,{trigger:u,dragStartMethod:g}=a,{row:m}=o,b=t.currentTarget,v=u==="cell"||u==="row"?b:(n=b.parentElement)===null||n===void 0?void 0:n.parentElement,C=v.parentElement,D=g||(s?s.dragStartMethod:null);if(is(),D&&!D(o)){C.draggable=!1,f.dragRow=null,f.dragCol=null,gn();return}f.dragRow=m,f.dragCol=null,C.draggable=!0,rc(m),sc(v),At("row-dragstart",o,t)},handleCellDragMouseupEvent(){si()},handleHeaderCellDragDragstartEvent(t){t.dataTransfer&&t.dataTransfer.setDragImage(Fs(),0,0)},handleColDragSwapColumn(){Zs(),ns(!1).then(()=>{r.updateCellAreas(),r.saveCustomStore("update:sort")})},handleColDragSwapEvent(t,o,n,s,a,u){const{mouseConfig:g}=e,m=xt.value,{isPeerDrag:b,isCrossDrag:v,isSelfToChildDrag:C,isToChildDrag:D,dragEndMethod:R,dragToChildMethod:I}=m,{collectColumn:H}=d,j=a==="right"?1:0,A={status:!1};if(s&&n&&s!==n){const F=n,q=s,P={oldColumn:F,newColumn:q,dragColumn:F,dragPos:a,dragToChild:!!u,offsetIndex:j},S=C&&I?I(P):u;return Promise.resolve(R?R(P):!0).then(Te=>{if(!Te)return A;let ve=-1,ye=-1;const Ke={};i.eachTree([F],Ne=>{Ke[Ne.id]=Ne});let Ve=!1;if(F.parentId&&q.parentId)if(b&&!v){if(F.parentId!==q.parentId)return A}else{if(!v)return A;if(Ke[q.id]&&(Ve=!0,!(v&&C)))return ge.modal&&ge.modal.message({status:"error",content:hl("vxe.error.treeDragChild")}),A}else if(F.parentId){if(!v)return A}else if(q.parentId){if(!v)return A;if(Ke[q.id]&&(Ve=!0,!(v&&C)))return ge.modal&&ge.modal.message({status:"error",content:hl("vxe.error.treeDragChild")}),A}const $e=i.findTree(H,Ne=>Ne.id===F.id);if(Ve&&v&&C){if($e){const{items:Ne,index:ft}=$e,bt=F.children||[];bt.forEach(at=>{at.parentId=F.parentId}),Ne.splice(ft,1,...bt),F.children=[]}}else if($e){const{items:Ne,index:ft,parent:bt}=$e;Ne.splice(ft,1),bt||(ve=ft)}const Ue=i.findTree(H,Ne=>Ne.id===q.id);if(Ue){const{items:Ne,index:ft,parent:bt}=Ue;v&&D&&S?(F.parentId=q.id,q.children=(q.children||[]).concat([F])):(F.parentId=q.parentId,Ne.splice(ft+j,0,F)),bt||(ye=ft)}return i.eachTree(H,(Ne,ft,bt,at,ct)=>{if(!ct){const Rt=ft+1;Ne.renderSortNumber=Rt}}),f.isDragColMove=!0,g&&(r.clearSelected&&r.clearSelected(),r.clearCellAreas&&(r.clearCellAreas(),r.clearCopyCellArea())),t&&At("column-dragend",{oldColumn:F,newColumn:q,dragColumn:F,dragPos:a,dragToChild:S,offsetIndex:j,_index:{newIndex:ye,oldIndex:ve}},t),o&&r.handleColDragSwapColumn(),{status:!0}}).catch(()=>A)}return Promise.resolve(A)},handleHeaderCellDragDragendEvent(t){const{dragCol:o}=f,{prevDragCol:n,prevDragPos:s,prevDragToChild:a}=d;r.handleColDragSwapEvent(t,!0,o,n,s,a),gn(),yr(),d.prevDragToChild=!1,f.dragRow=null,f.dragCol=null,setTimeout(()=>{f.isDragColMove=!1,r.recalculate().then(()=>{_l()})},500)},handleHeaderCellDragDragoverEvent(t){const{dragCol:o}=f,n=xt.value,{isToChildDrag:s,isPeerDrag:a,isCrossDrag:u}=n;if(!o){t.preventDefault();return}const g=lr(t),m=t.currentTarget,b=m.getAttribute("colid"),v=r.getColumnById(b);if(v){t.preventDefault();const{clientX:C}=t,R=C-m.getBoundingClientRect().x<m.clientWidth/2?"left":"right";if(d.prevDragToChild=!!(u&&s&&g),d.prevDragCol=v,d.prevDragPos=R,v.fixed||o&&o.id===v.id||!u&&(a?o.parentId!==v.parentId:v.parentId)){Rr(t,null,m,!1,R);return}Rr(t,null,m,!0,R),At("column-dragover",{oldColumn:o,targetColumn:v,dragPos:R},t);const I=M.value;if(!I)return;const H=ee.value,j=O.value,A=j?j.$el:null,F=H||A;if(F){const q=I.getBoundingClientRect(),P=I.clientWidth,S=Ee.value,Te=S?S.clientWidth:0,ve=Ae.value,ye=ve?ve.clientWidth:0,Ke=q.x+Te,Ve=q.x+P-ye,$e=28,Ue=C-Ke,Ne=Ve-C;if(Ue>0&&Ue<=$e){const ft=Math.floor(P/(Ue>$e/2?240:120));F.scrollLeft-=ft*($e-Ue)}else if(Ne>0&&Ne<=$e){const ft=Math.floor(P/(Ne>$e/2?240:120));F.scrollLeft+=ft*($e-Ne)}}}},handleHeaderCellDragMousedownEvent(t,o){var n;t.stopPropagation();const s=xt.value,{trigger:a,dragStartMethod:u}=s,{column:g}=o,m=t.currentTarget,b=a==="cell"?m:(n=m.parentElement)===null||n===void 0?void 0:n.parentElement;if(f.isDragColMove=!1,yr(),u&&!u(o)){b.draggable=!1,f.dragRow=null,f.dragCol=null,gn();return}f.dragCol=g,f.dragRow=null,b.draggable=!0,ic(g),ac(b),At("column-dragstart",o,t)},handleHeaderCellDragMouseupEvent(){yr(),gn(),f.dragRow=null,f.dragCol=null,f.isDragColMove=!1},handleScrollEvent(t,o,n,s,a,u){const{highlightHoverRow:g}=e,{lastScrollLeft:m,lastScrollTop:b}=d,v=ee.value,C=ce.value;if(!v||!C)return;const D=Oe.value,R=K.value,I=oe.value,H=C.clientHeight,j=v.clientWidth,A=C.scrollHeight,F=v.scrollWidth;let q=!1,P=!1,S=!1,Te=!1,ve="",ye=!1,Ke=!1,Ve=!1,$e=!1;if(n){const Ne=rt.value;S=a<=0,S||(Te=a+j>=F),a>m?(ve="right",a+j>=F-Ne&&($e=!0)):(ve="left",a<=Ne&&(Ve=!0)),r.checkScrolling(),d.lastScrollLeft=a}if(o){const Ne=st.value;q=s<=0,q||(P=s+H>=A),s>b?(ve="bottom",s+H>=A-Ne&&(Ke=!0)):(ve="top",s<=Ne&&(ye=!0)),d.lastScrollTop=s}f.isDragColMove=!1,f.isDragRowMove=!1,f.lastScrollTime=Date.now();const Ue=Object.assign({scrollTop:s,scrollLeft:a,bodyHeight:H,bodyWidth:j,scrollHeight:A,scrollWidth:F,isX:n,isY:o,isTop:q,isBottom:P,isLeft:S,isRight:Te,direction:ve},u);Wl(),qa(n,o),n&&r.closeFilter(),(D.isHover||g)&&r.clearHoverRow(),R&&R.reactData.visible&&R.close(),I&&I.reactData.visible&&I.close(),(Ke||ye||$e||Ve)&&At("scroll-boundary",Ue,t),At("scroll",Ue,t)},triggerScrollXEvent(){vt.value.immediate?_l():Wa()},triggerScrollYEvent(){qe.value.immediate?Wn():Ga()},triggerBodyScrollEvent(t,o){const{scrollYLoad:n,scrollXLoad:s}=f,{elemStore:a,intoRunScroll:u,lastScrollTop:g,lastScrollLeft:m,inWheelScroll:b,inVirtualScroll:v,inHeaderScroll:C,inBodyScroll:D,scrollRenderType:R,inFooterScroll:I}=d;if(b||v||C||I)return;const H=ee.value,j=ce.value,A=Je(a["left-body-scroll"]),F=Je(a["main-body-scroll"]),q=Je(a["right-body-scroll"]),P=Je(a["main-header-scroll"]),S=Je(a["main-footer-scroll"]),Te=te.value;if(u||!F||!H||!j||D&&R!==o)return;let ve=j.scrollTop,ye=H.scrollLeft;A&&o==="left"?ve=A.scrollTop:q&&o==="right"?ve=q.scrollTop:(ve=F.scrollTop,ye=F.scrollLeft);const Ke=ye!==m,Ve=ve!==g;d.inBodyScroll=!0,d.scrollRenderType=o,Ve&&(o==="left"?(jt(F,ve),jt(q,ve)):o==="right"?(jt(F,ve),jt(A,ve)):(jt(A,ve),jt(q,ve)),jt(j,ve),jt(Te,ve),n&&r.triggerScrollYEvent(t)),Ke&&(Gt(H,ye),Gt(P,ye),Gt(S,ye),s&&r.triggerScrollXEvent(t)),r.handleScrollEvent(t,Ve,Ke,ve,ye,{type:"body",fixed:o})},triggerHeaderScrollEvent(t,o){const{scrollXLoad:n}=f,{elemStore:s,intoRunScroll:a,inWheelScroll:u,inVirtualScroll:g,inBodyScroll:m,inFooterScroll:b}=d;if(u||g||m||b)return;const v=ce.value,C=ee.value,D=Je(s["main-body-scroll"]),R=Je(s["main-header-scroll"]),I=Je(s["main-footer-scroll"]);if(a||!R||!C||!v)return;const H=v.scrollTop,j=R.scrollLeft,A=!0,F=!1;d.inHeaderScroll=!0,Gt(C,j),Gt(I,j),Gt(D,j),n&&r.triggerScrollXEvent(t),r.handleScrollEvent(t,F,A,H,j,{type:"header",fixed:o})},triggerFooterScrollEvent(t,o){const{scrollXLoad:n}=f,{elemStore:s,intoRunScroll:a,inWheelScroll:u,inVirtualScroll:g,inHeaderScroll:m,inBodyScroll:b}=d;if(u||g||m||b)return;const v=ce.value,C=ee.value,D=Je(s["main-body-scroll"]),R=Je(s["main-header-scroll"]),I=Je(s["main-footer-scroll"]);if(a||!I||!C||!v)return;const H=v.scrollTop,j=I.scrollLeft,A=!0,F=!1;d.inFooterScroll=!0,Gt(C,j),Gt(R,j),Gt(D,j),n&&r.triggerScrollXEvent(t),r.handleScrollEvent(t,F,A,H,j,{type:"footer",fixed:o})},triggerBodyWheelEvent(t){const{target:o,deltaY:n,deltaX:s,shiftKey:a}=t;if(o&&/^textarea$/i.test(o.tagName))return;const{highlightHoverRow:u}=Nr,{scrollXLoad:g,scrollYLoad:m,expandColumn:b}=f,v=$t.value,C=ro.value;if(!(v||C||b))return;const{elemStore:D,lastScrollTop:R,lastScrollLeft:I}=d,H=Oe.value,j=ee.value,A=ce.value,F=Je(D["left-body-scroll"]),q=Je(D["main-header-scroll"]),P=Je(D["main-body-scroll"]),S=Je(D["main-footer-scroll"]),Te=Je(D["right-body-scroll"]),ve=te.value;if(!j||!A||!P)return;const ye=Xa(f.lastScrollTime),Ke=a?0:Math.ceil(n*ye),Ve=a?Math.ceil((a&&n||s)*ye):0,$e=Ke<0,Ue=P.scrollTop;if($e?Ue<=0:Ue>=P.scrollHeight-P.clientHeight)return;const Ne=Ue+Ke,ft=P.scrollLeft+Ve,bt=ft!==I,at=Ne!==R;if((H.isHover||u)&&r.clearHoverRow(),bt)if(t.preventDefault(),d.inWheelScroll=!0,x.firefox||x.safari){const ct=ft;Gt(j,ct),Gt(P,ct),Gt(q,ct),Gt(S,ct),g&&r.triggerScrollXEvent(t),r.handleScrollEvent(t,at,bt,P.scrollTop,ct,{type:"table",fixed:""})}else Ka(ft,ct=>{d.inWheelScroll=!0;const Rt=ct;Gt(j,Rt),Gt(P,Rt),Gt(q,Rt),Gt(S,Rt),g&&r.triggerScrollXEvent(t),r.handleScrollEvent(t,at,bt,P.scrollTop,Rt,{type:"table",fixed:""})});if(at)if(t.preventDefault(),d.inWheelScroll=!0,x.firefox||x.safari){const ct=Ne;jt(A,ct),jt(P,ct),jt(F,ct),jt(Te,ct),jt(ve,ct),m&&r.triggerScrollYEvent(t),r.handleScrollEvent(t,at,bt,ct,P.scrollLeft,{type:"table",fixed:""})}else Ya(Ne-Ue,ct=>{d.inWheelScroll=!0;const Rt=P.scrollTop+ct;jt(A,Rt),jt(P,Rt),jt(F,Rt),jt(Te,Rt),jt(ve,Rt),m&&r.triggerScrollYEvent(t),r.handleScrollEvent(t,at,bt,Rt,P.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(t){const{scrollXLoad:o}=f,{elemStore:n,inWheelScroll:s,lastScrollTop:a,inHeaderScroll:u,inBodyScroll:g,inFooterScroll:m}=d;if(u||g||m||s)return;const b=Je(n["main-header-scroll"]),v=Je(n["main-body-scroll"]),C=Je(n["main-footer-scroll"]),D=ce.value,R=t.currentTarget,{scrollLeft:I}=R,H=D||v;let j=0;H&&(j=H.scrollTop);const A=!0,F=j!==a;d.inVirtualScroll=!0,Gt(v,I),Gt(b,I),Gt(C,I),o&&r.triggerScrollXEvent(t),r.handleScrollEvent(t,F,A,j,I,{type:"table",fixed:""})},triggerVirtualScrollYEvent(t){const{scrollYLoad:o}=f,{elemStore:n,inWheelScroll:s,lastScrollLeft:a,inHeaderScroll:u,inBodyScroll:g,inFooterScroll:m}=d;if(u||g||m||s)return;const b=Je(n["left-body-scroll"]),v=Je(n["main-body-scroll"]),C=Je(n["right-body-scroll"]),D=te.value,R=ee.value,I=t.currentTarget,{scrollTop:H}=I,j=R||v;let A=0;j&&(A=j.scrollLeft);const F=A!==a,q=!0;d.inVirtualScroll=!0,jt(v,H),jt(b,H),jt(C,H),jt(D,H),o&&r.triggerScrollYEvent(t),r.handleScrollEvent(t,q,F,H,A,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:o}=e,{isRowGroupStatus:n}=f,{tableFullData:s}=d,a=[];if(o||n){const u=ke.value,g=ht.value,m=g.children||g.childrenField,b=i.findTree(s,v=>r.eqRow(v,t),{children:n?u.mapChildrenField:m});if(b){const v=b.nodes;v.forEach((C,D)=>{D<v.length-1&&!r.isTreeExpandByRow(C)&&a.push(r.setTreeExpand(C,!0))})}}return Promise.all(a).then(()=>Ei(r,t))},updateScrollYStatus:_n,updateScrollXSpace(){const{scrollXLoad:t,overflowX:o,scrollXWidth:n}=f,{visibleColumn:s,scrollXStore:a,elemStore:u,fullColumnIdData:g}=d,m=kt.value,b=O.value;if(b?b.$el:null){const C=Je(u["main-body-scroll"]),D=Je(u["main-body-table"]),R=Je(u["main-header-table"]),I=Je(u["main-footer-table"]);let H=0;const j=s[a.startIndex];j&&(H=(g[j.id]||{}).oLeft);let A=0;C&&(A=C.clientWidth);let F=!1,q=n;n>vn&&(C&&D&&C.scrollLeft+A>=vn?H=vn-D.clientWidth:H=(vn-A)*(H/(n-A)),q=vn,F=!0),t&&o||(H=0),R&&(R.style.transform=R.getAttribute("xvm")?`translate(${H}px, 0px)`:""),D&&(D.style.transform=`translate(${H}px, ${f.scrollYTop||0}px)`),I&&(I.style.transform=I.getAttribute("xvm")?`translate(${H}px, 0px)`:""),["main"].forEach(Te=>{["header","body","footer"].forEach(ye=>{const Ke=Je(u[`${Te}-${ye}-xSpace`]);Ke&&(Ke.style.width=t?`${q}px`:"")})}),f.scrollXLeft=H,f.scrollXWidth=q,f.isScrollXBig=F;const S=we.value;return S&&(S.style.width=`${q}px`),F&&m.area&&ze("vxe.error.notProp",["mouse-config.area"]),br(),de().then(()=>{Ro()})}},updateScrollYSpace(){const{isAllOverflow:t,overflowY:o,scrollYLoad:n,expandColumn:s}=f,{scrollYStore:a,elemStore:u,isResizeCellHeight:g,afterFullData:m,fullAllDataRowIdData:b,rowExpandedMaps:v}=d,{startIndex:C}=a,D=kt.value,R=St.value,I=Oe.value,H=X.value,j=Le.value,A=Je(u["main-body-scroll"]),F=Je(u["main-body-table"]),q=Je(u["left-body-table"]),P=Je(u["right-body-table"]),S=["main","left","right"];let Te=0,ve=0,ye=!1;if(n)if(!(g||H.height||I.height)&&!s&&t)ve=m.length*j,ve>Ul&&(ye=!0),Te=Math.max(0,C*j);else{const bt=m[C];let at=Be(r,bt),ct=b[at]||{};Te=ct.oTop||0;const Rt=m[m.length-1];at=Be(r,Rt),ct=b[at]||{},ve=(ct.oTop||0)+(ct.resizeHeight||H.height||I.height||ct.height||j),s&&v[at]&&(ve+=ct.expandHeight||R.height||0),ve>Ul&&(ye=!0)}else F&&(ve=F.clientHeight);let Ke=0;A&&(Ke=A.clientHeight);let Ve=ve,$e=Te;ye&&(A&&F&&A.scrollTop+Ke>=Ul?$e=Ul-F.clientHeight:$e=(Ul-Ke)*(Te/(ve-Ke)),Ve=Ul),n&&o||($e=0),q&&(q.style.transform=`translate(0px, ${$e}px)`),F&&(F.style.transform=`translate(${f.scrollXLeft||0}px, ${$e}px)`),P&&(P.style.transform=`translate(0px, ${$e}px)`),S.forEach(ft=>{["header","body","footer"].forEach(at=>{const ct=Je(u[`${ft}-${at}-ySpace`]);ct&&(ct.style.height=Ve?`${Ve}px`:"")})});const Ue=Ye.value;Ue&&(Ue.style.height=Ve?`${Ve}px`:"");const Ne=Y.value;return Ne&&(Ne.style.height=Ve?`${Ve}px`:""),f.scrollYTop=$e,f.scrollYHeight=ve,f.isScrollYBig=ye,ye&&D.area&&ze("vxe.error.notProp",["mouse-config.area"]),br(),de().then(()=>{Ro()})},updateScrollXData(){const{isAllOverflow:t}=f;return ls(),r.updateScrollXSpace(),de().then(()=>{ls(),r.updateScrollXSpace(),t||r.updateScrollYSpace()})},updateScrollYData(){return r.handleTableData(),r.updateScrollYSpace(),de().then(()=>{r.handleTableData(),r.updateScrollYSpace()})},checkScrolling(){const{elemStore:t}=d,o=Je(t["main-body-scroll"]),n=Ee.value,s=Ae.value,u=ee.value||o;u&&(n&&(u.scrollLeft>0?cl(n,"scrolling--middle"):zo(n,"scrolling--middle")),s&&(u.clientWidth<u.scrollWidth-Math.ceil(u.scrollLeft)?cl(s,"scrolling--middle"):zo(s,"scrolling--middle")))},updateZindex(){e.zIndex?d.tZindex=e.zIndex:d.tZindex<ra()&&(d.tZindex=na())},handleCheckedCheckboxRow:Io,triggerHoverEvent(t,{row:o}){N.setHoverRow(o)},setHoverRow(t){const o=Be(r,t),n=M.value;N.clearHoverRow(),n&&i.arrayEach(n.querySelectorAll(`.vxe-body--row[rowid="${o}"]`),s=>cl(s,"row--hover")),d.hoverRow=t},clearHoverRow(){const t=M.value;t&&i.arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),o=>zo(o,"row--hover")),d.hoverRow=null},getCell(t,o){return z.getCellElement(t,o)},findRowIndexOf(t,o){return o?i.findIndexOf(t,n=>r.eqRow(n,o)):-1},eqRow(t,o){return t&&o?t===o?!0:Be(r,t)===Be(r,o):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(t=>{r[t]=function(){ze("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(t=>{r[t]=function(){ze("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(r,z,N);const ii=t=>{const{showHeader:o,showFooter:n}=e,{tableData:s,tableColumn:a,tableGroupColumn:u,columnStore:g,footerTableData:m}=f,b=t==="left",v=b?g.leftList:g.rightList;return h("div",{ref:b?Ee:Ae,class:`vxe-table--fixed-${t}-wrapper`},[o?h(Ti,{ref:b?ae:G,fixedType:t,tableData:s,tableColumn:a,tableGroupColumn:u,fixedColumn:v}):ko(r),h(Mi,{ref:b?W:fe,fixedType:t,tableData:s,tableColumn:a,fixedColumn:v}),n?h(Ai,{ref:b?T:Ie,footerTableData:m,tableColumn:a,fixedColumn:v,fixedType:t}):ko(r)])},cc=()=>{const t=ul.value,o={$table:r};if(c.empty)return c.empty(o);{const n=t.name?Hi.get(t.name):null,s=n?n.renderTableEmpty||n.renderTableEmptyView||n.renderEmpty:null;if(s)return Ao(s(t,o))}return Cl(e.emptyText)||hl("vxe.table.emptyText")},dc=()=>{const{dragConfig:t}=e,{dragRow:o,dragCol:n,dragTipText:s}=f,a=xt.value,m=(it.value.slots||{}).tip||(t&&t.slots?t.slots.rowTip:null),v=(a.slots||{}).tip;return o&&m?Gn(m,{row:o}):n&&v?Gn(v,{column:n}):[h("span",s)]},uc=()=>{const{dragRow:t,dragCol:o}=f,n=Oe.value,s=ot.value,a=it.value,u=xt.value;return n.drag||s.drag?h("div",{class:"vxe-table--drag-wrapper"},[h("div",{ref:ue,class:["vxe-table--drag-row-line",{"is--guides":a.showGuidesStatus}]}),h("div",{ref:ie,class:["vxe-table--drag-col-line",{"is--guides":u.showGuidesStatus}]}),t&&a.showDragTip||o&&u.showDragTip?h("div",{ref:$,class:"vxe-table--drag-sort-tip"},[h("div",{class:"vxe-table--drag-sort-tip-wrapper"},[h("div",{class:"vxe-table--drag-sort-tip-status"},[h("span",{class:["vxe-table--drag-sort-tip-normal-status",t?Fr().TABLE_DRAG_STATUS_ROW:Fr().TABLE_DRAG_STATUS_COLUMN]}),h("span",{class:["vxe-table--drag-sort-tip-sub-status",Fr().TABLE_DRAG_STATUS_SUB_ROW]}),h("span",{class:["vxe-table--drag-sort-tip-disabled-status",Fr().TABLE_DRAG_DISABLED]})]),h("div",{class:"vxe-table--drag-sort-tip-content"},dc())])]):ko(r)]):ko(r)},fc=()=>{const{treeConfig:t}=e,{expandColumn:o,isRowGroupStatus:n}=f,s=sr.value,a=St.value,{mode:u}=a;if(u!=="fixed")return ko(r);const g=[h("div",{key:"repY",ref:Y})];if(o){const{handleGetRowId:m}=po(r);s.forEach(b=>{const v=St.value,{height:C,padding:D,indent:R}=v,{fullAllDataRowIdData:I,fullColumnIdData:H}=d,j=ht.value,{transform:A,seqMode:F}=j,q={},P=m(b),S=I[P],Te=o.id,ve=H[Te]||{};let ye=0,Ke=-1,Ve=-1,$e=-1,Ue=-1;S&&(ye=S.level,n||t&&A&&F==="increasing"?Ke=S._index+1:Ke=S.seq,$e=S.index,Ue=S.$index,Ve=S._index),C&&(q.height=`${C}px`),(n||t)&&(q.paddingLeft=`${ye*(i.isNumber(R)?R:j.indent)+30}px`);let Ne=-1,ft=-1,bt=-1;ve&&(Ne=ve.index,ft=ve.$index,bt=ve._index);const at={$grid:_e,$table:r,seq:Ke,column:o,columnIndex:Ne,$columnIndex:ft,_columnIndex:bt,fixed:"",type:"body",level:ye,rowid:P,row:b,rowIndex:$e,$rowIndex:Ue,_rowIndex:Ve,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};g.push(h("div",{key:P,class:["vxe-body--row-expanded-cell",{"is--padding":D,"is--ellipsis":C}],rowid:P,style:q},o.renderData(at)))})}return h("div",{ref:te,class:"vxe-table--row-expanded-wrapper"},g)},ai=()=>h("div",{key:"vsx",ref:J,class:"vxe-table--scroll-x-virtual"},[h("div",{ref:Re,class:"vxe-table--scroll-x-left-corner"}),h("div",{ref:me,class:"vxe-table--scroll-x-wrapper"},[h("div",{ref:ee,class:"vxe-table--scroll-x-handle",onScroll:r.triggerVirtualScrollXEvent},[h("div",{ref:we,class:"vxe-table--scroll-x-space"})])]),h("div",{ref:ne,class:"vxe-table--scroll-x-right-corner"})]),ci=()=>h("div",{ref:be,class:"vxe-table--scroll-y-virtual"},[h("div",{ref:Me,class:"vxe-table--scroll-y-top-corner"}),h("div",{ref:Z,class:"vxe-table--scroll-y-wrapper"},[h("div",{ref:ce,class:"vxe-table--scroll-y-handle",onScroll:r.triggerVirtualScrollYEvent},[h("div",{ref:Ye,class:"vxe-table--scroll-y-space"})])]),h("div",{ref:Fe,class:"vxe-table--scroll-y-bottom-corner"})]),di=()=>{const{showHeader:t,showFooter:o}=e,{overflowX:n,tableData:s,tableColumn:a,tableGroupColumn:u,footerTableData:g,columnStore:m}=f,{leftList:b,rightList:v}=m;return h("div",{ref:re,class:"vxe-table--viewport-wrapper"},[h("div",{class:"vxe-table--main-wrapper"},[t?h(Ti,{ref:E,tableData:s,tableColumn:a,tableGroupColumn:u}):ko(r),h(Mi,{ref:O,tableData:s,tableColumn:a}),o?h(Ai,{ref:L,footerTableData:g,tableColumn:a}):ko(r)]),h("div",{class:"vxe-table--fixed-wrapper"},[b&&b.length&&n?ii("left"):ko(r),v&&v.length&&n?ii("right"):ko(r)]),fc()])},ui=()=>{const t=We.value;return h("div",{class:"vxe-table--layout-wrapper"},t?[ci(),di()]:[di(),ci()])},pc=()=>{const{loading:t,stripe:o,showHeader:n,height:s,treeConfig:a,mouseConfig:u,showFooter:g,highlightCell:m,highlightHoverRow:b,highlightHoverColumn:v,editConfig:C,editRules:D}=e,{isGroup:R,overflowX:I,overflowY:H,scrollXLoad:j,scrollYLoad:A,tableData:F,initStore:q,isRowGroupStatus:P,columnStore:S,filterStore:Te,customStore:ve}=f,{leftList:ye,rightList:Ke}=S,Ve=c.loading,$e=Qt.value,Ue=go.value,Ne=yt.value,ft=wt.value,bt=ht.value,at=Oe.value,ct=ot.value,Rt=U.value,lo=Ur.value,Ut=kt.value,io=tt.value,Lt=ll.value,xo=To.value,ao=f.isColLoading||f.isRowLoading||t,Do=Ot.value,Xt=u&&Ut.area,co=xt.value,Pt=ut.value,Ht=We.value;return h("div",{ref:M,class:["vxe-table","vxe-table--render-default",`tid_${w}`,`border--${lo}`,`sx-pos--${Pt?"top":"bottom"}`,`sy-pos--${Ht?"left":"right"}`,{[`size--${Rt}`]:Rt,[`valid-msg--${Ne.msgMode}`]:!!D,"vxe-editable":!!C,"old-cell-valid":D&&Mt().cellVaildMode==="obsolete","cell--highlight":m,"cell--selected":u&&Ut.selected,"cell--area":Xt,"header-cell--area":Xt&&io.selectCellByHeader,"body-cell--area":Xt&&io.selectCellByBody,"row--highlight":at.isHover||b,"column--highlight":ct.isHover||v,"checkbox--range":ft.range,"col--drag-cell":ct.drag&&co.trigger==="cell","is--header":n,"is--footer":g,"is--group":R,"is-row-group":P,"is--tree-line":a&&(bt.showLine||bt.line),"is--fixed-left":ye.length,"is--fixed-right":Ke.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!a&&o,"is--loading":ao,"is--empty":!ao&&!F.length,"is--scroll-y":H,"is--scroll-x":I,"is--virtual-x":j,"is--virtual-y":A}],spellcheck:!1,onKeydown:ec},[h("div",{class:"vxe-table-slots"},c.default?c.default({}):[]),h("div",{ref:_,class:"vxe-table-vars"},[h("div",{class:"vxe-table-var-default"}),h("div",{class:"vxe-table-var-medium"}),h("div",{class:"vxe-table-var-small"}),h("div",{class:"vxe-table-var-mini"})]),h("div",{key:"tw",class:"vxe-table--render-wrapper"},Pt?[ai(),ui()]:[ui(),ai()]),h("div",{key:"tn",ref:Se,class:"vxe-table--empty-placeholder"},[h("div",{class:"vxe-table--empty-content"},cc())]),h("div",{key:"tl",class:"vxe-table--border-line"}),h("div",{key:"tcl",ref:Ce,class:"vxe-table--resizable-col-bar"},Do.showDragTip?[h("div",{class:"vxe-table--resizable-number-tip"})]:[]),h("div",{key:"trl",ref:De,class:"vxe-table--resizable-row-bar"},Do.showDragTip?[h("div",{class:"vxe-table--resizable-number-tip"})]:[]),y?h(y,{key:"lg",class:"vxe-table--loading",modelValue:ao,icon:Lt.icon,text:Lt.text},Ve?{default:()=>Gn(Ve,{$table:r,$grid:_e,loading:ao})}:{}):Ve?h("div",{class:["vxe-loading--custom-wrapper",{"is--visible":ao}]},Gn(Ve,{$table:r,$grid:_e,loading:ao})):ko(r),q.custom?h(hd,{key:"cs",ref:he,customStore:ve}):ko(r),q.filter?h(md,{key:"tf",ref:Q,filterStore:Te}):ko(r),q.import&&e.importConfig?h(xd,{key:"it",defaultOptions:f.importParams,storeData:f.importStore}):ko(r),q.export&&(e.exportConfig||e.printConfig)?h(vd,{key:"et",defaultOptions:f.exportParams,storeData:f.exportStore}):ko(r),xo?h(wd,{key:"tm",ref:le}):ko(r),uc(),k?h("div",{},[h(k,{key:"ctp",ref:V,isArrow:!1,enterable:!1}),h(k,{key:"btp",ref:oe,theme:$e.theme,enterable:$e.enterable,enterDelay:$e.enterDelay,leaveDelay:$e.leaveDelay,useHTML:$e.useHTML}),e.editRules&&Ne.showMessage&&(Ne.message==="default"?!s:Ne.message==="tooltip")?h(k,{key:"vtp",ref:K,class:[{"old-cell-valid":D&&Mt().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Ue.theme,enterable:Ue.enterable,enterDelay:Ue.enterDelay,leaveDelay:Ue.leaveDelay}):ko(r)]):ko(r)])},cs=je(0);Tt(()=>e.data?e.data.length:-1,()=>{cs.value++}),Tt(()=>e.data,()=>{cs.value++}),Tt(cs,()=>{const{initStatus:t}=d,o=e.data||[];o&&o.length>=5e4&&pt("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),pn(o,!1).then(()=>{const{scrollXLoad:n,scrollYLoad:s,expandColumn:a}=f,u=St.value;return d.inited=!0,d.initStatus=!0,t||vr(),(n||s)&&a&&u.mode!=="fixed"&&pt("vxe.error.scrollErrProp",["column.type=expand"]),z.recalculate()})});const ds=je(0);Tt(()=>f.staticColumns.length,()=>{ds.value++}),Tt(()=>f.staticColumns,()=>{ds.value++}),Tt(ds,()=>{Qs(i.clone(f.staticColumns))});const us=je(0);Tt(()=>f.tableColumn.length,()=>{us.value++}),Tt(()=>f.tableColumn,()=>{us.value++}),Tt(us,()=>{N.analyColumnWidth()}),Tt(()=>f.upDataFlag,()=>{de(()=>{z.updateData()})}),Tt(()=>f.reColumnFlag,()=>{de(()=>{z.refreshColumn()})});const hn=je(0);Tt(U,()=>{hn.value++}),Tt(()=>e.showHeader,()=>{hn.value++}),Tt(()=>e.showFooter,()=>{hn.value++}),Tt(()=>f.overflowX,()=>{hn.value++}),Tt(()=>f.overflowY,()=>{hn.value++}),Tt(hn,()=>{de(()=>{z.recalculate(!0).then(()=>z.refreshScroll())})});const mn=je(0);Tt(()=>e.height,()=>{mn.value++}),Tt(()=>e.maxHeight,()=>{mn.value++}),Tt(ut,()=>{mn.value++}),Tt(We,()=>{mn.value++}),Tt(()=>ge.getLanguage(),()=>{mn.value++}),Tt(mn,()=>{de(()=>z.recalculate(!0))});const fs=je(0);Tt(()=>e.footerData?e.footerData.length:-1,()=>{fs.value++}),Tt(()=>e.footerData,()=>{fs.value++}),Tt(fs,()=>{z.updateFooter()}),Tt(()=>e.syncResize,t=>{t&&(ss(),de(()=>{ss(),setTimeout(()=>ss())}))});const ps=je(0);Tt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{ps.value++}),Tt(()=>e.mergeCells,()=>{ps.value++}),Tt(ps,()=>{z.clearMergeCells(),de(()=>{e.mergeCells&&z.setMergeCells(e.mergeCells)})});const gs=je(0);Tt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{gs.value++}),Tt(()=>e.mergeFooterItems,()=>{gs.value++}),Tt(gs,()=>{z.clearMergeFooterItems(),de(()=>{e.mergeFooterItems&&z.setMergeFooterItems(e.mergeFooterItems)})}),Tt(ar,t=>{xr(t)}),Tt(nt,()=>{const{inited:t,tableFullData:o}=d;t&&(nn(),f.tableData=[],de(()=>{r.reloadData(o)}))}),B&&Tt(()=>B?B.reactData.resizeFlag:null,()=>{ri()}),nn(),Rd.forEach(t=>{const{setupTable:o}=t;if(o){const n=o(r);n&&i.isObject(n)&&Object.assign(r,n)}}),N.preventEvent(null,"created",{$table:r});let qn;return hc(()=>{z.recalculate().then(()=>z.refreshScroll()),N.preventEvent(null,"activated",{$table:r})}),mc(()=>{d.isActivated=!1,N.preventEvent(null,"deactivated",{$table:r})}),on(()=>{const t=ot.value,o=Oe.value,n=Uo.value,s=ke.value,a=qe.value,{groupFields:u}=s;if((t.drag||o.drag||n.allowSort)&&fa(),xr(u),de(()=>{const{data:g,exportConfig:m,importConfig:b,treeConfig:v,showOverflow:C,highlightCurrentRow:D,highlightCurrentColumn:R}=e,{scrollXStore:I,scrollYStore:H}=d,j=oo.value,A=ht.value,F=Ze.value,q=wt.value,P=St.value,S=Oe.value,Te=Uo.value,ve=kt.value,ye=fo.value,Ke=Oo.value,Ve=lt.value,$e=Qe.value,Ue=Ft.value;if(e.rowId&&pt("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&pt("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&pt("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||S.keyField)&&(q.reserve||q.checkRowKeys||F.reserve||F.checkRowKey||P.expandRowKeys||A.expandRowKeys)&&pt("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(j.showStatus||j.showUpdateStatus||j.showInsertStatus)&&!e.keepSource&&pt("vxe.error.reqProp",["keep-source"]),v&&(A.showLine||A.line)&&!C&&pt("vxe.error.reqProp",["show-overflow"]),v&&!A.transform&&e.stripe&&pt("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&pt("vxe.error.reqProp",["footer-data | footer-method"]),S.height&&pt("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&pt("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&pt("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&pt("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&pt("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&pt("vxe.error.delProp",["resizable","column-config.resizable"]),b&&Ke.types&&!Ke.importMethod&&!i.includeArrays(i.keys(Ke._typeMaps),Ke.types)&&pt("vxe.error.errProp",[`export-config.types=${Ke.types.join(",")}`,Ke.types.filter(Ne=>i.includes(i.keys(Ke._typeMaps),Ne)).join(",")||i.keys(Ke._typeMaps).join(",")]),m&&ye.types&&!ye.exportMethod&&!i.includeArrays(i.keys(ye._typeMaps),ye.types)&&pt("vxe.error.errProp",[`export-config.types=${ye.types.join(",")}`,ye.types.filter(Ne=>i.includes(i.keys(ye._typeMaps),Ne)).join(",")||i.keys(ye._typeMaps).join(",")]),e.id||(e.customConfig?Ct(Te):Te.enabled)&&Te.storage&&ze("vxe.error.reqProp",["id"]),e.treeConfig&&q.range&&ze("vxe.error.noTree",["checkbox-config.range"]),S.height&&!e.showOverflow&&pt("vxe.error.notProp",["table.show-overflow"]),!r.triggerCellAreaMousedownEvent&&(e.areaConfig&&pt("vxe.error.notProp",["area-config"]),e.clipConfig&&pt("vxe.error.notProp",["clip-config"]),e.fnrConfig&&pt("vxe.error.notProp",["fnr-config"]),ve.area)){ze("vxe.error.notProp",["mouse-config.area"]);return}if(v&&S.drag&&!A.transform&&ze("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&pt("vxe.error.delProp",["drag-config","row-drag-config"]),e.treeConfig&&A.children&&pt("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&A.line&&pt("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),ve.area&&ve.selected&&pt("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),ve.area&&e.treeConfig&&!A.transform&&ze("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&j.activeMethod&&pt("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&q.isShiftKey&&ze("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),q.halfField&&pt("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),S.currentMethod&&pt("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),t.currentMethod&&pt("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(S.isCurrent||D)&&e.keyboardConfig&&Ue.isArrow&&!i.isBoolean(Ve.isFollowSelected)&&pt("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(t.isCurrent||R)&&e.keyboardConfig&&Ue.isArrow&&!i.isBoolean($e.isFollowSelected)&&pt("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!r.insert&&ze("vxe.error.reqModule",["Edit"]),e.editRules&&!r.validate&&ze("vxe.error.reqModule",["Validator"]),(q.range||e.keyboardConfig||e.mouseConfig)&&!r.handleCellMousedownEvent&&ze("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!r.exportData&&ze("vxe.error.reqModule",["Export"]),Object.assign(H,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(I,{startIndex:0,endIndex:0,visibleSize:0}),pn(g||[],!0).then(()=>{g&&g.length&&(d.inited=!0,d.initStatus=!0,vr()),Va(),Ro()}),e.autoResize){const Ne=M.value,ft=N.getParentElem();qn=yd.create(()=>{e.autoResize&&z.recalculate(!0)}),Ne&&qn.observe(Ne),ft&&qn.observe(ft)}}),a.mode!=="scroll"){const g=re.value;g&&g.addEventListener("wheel",r.triggerBodyWheelEvent,{passive:!1})}Yt.on(r,"paste",oc),Yt.on(r,"copy",lc),Yt.on(r,"cut",nc),Yt.on(r,"mousedown",Za),Yt.on(r,"blur",Qa),Yt.on(r,"mousewheel",Ja),Yt.on(r,"keydown",tc),Yt.on(r,"resize",ri),Yt.on(r,"contextmenu",r.handleGlobalContextmenuEvent),N.preventEvent(null,"mounted",{$table:r})}),bc(()=>{const t=re.value;t&&t.removeEventListener("wheel",r.triggerBodyWheelEvent),d.cvCacheMaps={},d.prevDragRow=null,d.prevDragCol=null,qn&&qn.disconnect(),z.closeFilter(),r.closeMenu&&r.closeMenu(),N.preventEvent(null,"beforeUnmount",{$table:r})}),ln(()=>{Yt.off(r,"paste"),Yt.off(r,"copy"),Yt.off(r,"cut"),Yt.off(r,"mousedown"),Yt.off(r,"blur"),Yt.off(r,"mousewheel"),Yt.off(r,"keydown"),Yt.off(r,"resize"),Yt.off(r,"contextmenu"),N.preventEvent(null,"unmounted",{$table:r})}),de(()=>{e.loading&&!y&&!c.loading&&ze("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(k||ze("vxe.error.reqComp",["vxe-tooltip"]))}),tn("$xeColgroup",null),tn("$xeTable",r),r.renderVN=pc,r},render(){return this.renderVN()}}),{getConfig:al,getIcon:Bl,getI18n:Cn,renderer:Ni,commands:ji,createEvent:Od,useFns:Dd}=ge,en=Yo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>al().toolbar.buttons},tools:{type:Array,default:()=>al().toolbar.tools},perfect:{type:Boolean,default:()=>al().toolbar.perfect},size:{type:String,default:()=>al().toolbar.size||al().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,l){const{slots:c,emit:p}=l,w=i.uniqueId(),x=ge.getComponent("VxeButton"),{computeSize:y}=Dd.useSize(e),k=vl({isRefresh:!1,connectFlag:0,columns:[]}),B={connectTable:null},U=je(),f={refElem:U},d={xID:w,props:e,context:l,reactData:k,internalData:B,getRefMaps:()=>f};let z={};const N=Ho("$xeGrid",null),M=Pe(()=>Object.assign({},i.clone(al().toolbar.refresh,!0),e.refresh)),_=Pe(()=>Object.assign({},i.clone(al().toolbar.import,!0),e.import)),oe=Pe(()=>Object.assign({},i.clone(al().toolbar.export,!0),e.export)),V=Pe(()=>Object.assign({},i.clone(al().toolbar.print,!0),e.print)),K=Pe(()=>Object.assign({},i.clone(al().toolbar.zoom,!0),e.zoom)),le=Pe(()=>Object.assign({},i.clone(al().toolbar.custom,!0),e.custom)),Q=Pe(()=>{const{connectTable:ee}=B,Re=ee;if((k.connectFlag||Re)&&Re){const{computeCustomOpts:ne}=Re.getComputeMaps();return ne.value}return{trigger:""}}),he=Pe(()=>Q.value.trigger),re=()=>{const{connectTable:ee}=B;if(ee)return!0;ze("vxe.error.barUnableLink")},E=({$event:ee})=>{const{connectTable:Re}=B,ne=Re;ne&&(ne.triggerCustomEvent?ne.triggerCustomEvent(ee):ze("vxe.error.reqModule",["VxeTableCustomModule"]))},O=({$event:ee})=>{const{connectTable:Re}=B,ne=Re;ne?ne.customOpenEvent(ee):ze("vxe.error.reqModule",["VxeTableCustomModule"])},L=({$event:ee})=>{const{connectTable:Re}=B,ne=Re;if(ne){const{customStore:ce}=ne.reactData;ce.activeBtn=!1,setTimeout(()=>{!ce.activeBtn&&!ce.activeWrapper&&ne.customCloseEvent(ee)},350)}},ae=({$event:ee})=>{const{isRefresh:Re}=k,ne=M.value;if(!Re){const ce=ne.queryMethod||ne.query;if(ce){k.isRefresh=!0;try{Promise.resolve(ce({})).catch(Me=>Me).then(()=>{k.isRefresh=!1})}catch{k.isRefresh=!1}}else N&&(k.isRefresh=!0,N.triggerToolbarCommitEvent({code:ne.code||"reload"},ee).catch(Me=>Me).then(()=>{k.isRefresh=!1}))}},W=({$event:ee})=>{N&&N.triggerZoomEvent(ee)},T=(ee,Re)=>{const{connectTable:ne}=B,ce=ne,{code:Me}=Re;if(Me)if(N)N.triggerToolbarBtnEvent(Re,ee);else{const me=ji.get(Me),Z={code:Me,button:Re,$table:ce,$grid:N,$event:ee};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(Z):ze("vxe.error.notCommands",[Me])}d.dispatchEvent("button-click",Z,ee)}},G=(ee,Re)=>{const{connectTable:ne}=B,ce=ne,{code:Me}=Re;if(Me)if(N)N.triggerToolbarTolEvent(Re,ee);else{const me=ji.get(Me),Z={code:Me,button:null,tool:Re,$table:ce,$grid:N,$event:ee};if(me){const Fe=me.tableCommandMethod||me.commandMethod;Fe?Fe(Z):ze("vxe.error.notCommands",[Me])}d.dispatchEvent("tool-click",Z,ee)}},fe=()=>{if(re()){const{connectTable:ee}=B,Re=ee;Re&&Re.openImport()}},Ie=()=>{if(re()){const{connectTable:ee}=B,Re=ee;Re&&Re.openExport()}},Ee=()=>{if(re()){const{connectTable:ee}=B,Re=ee;Re&&Re.openPrint()}};z={dispatchEvent:(ee,Re,ne)=>{p(ee,Od(ne,{$toolbar:d},Re))},syncUpdate(ee){B.connectTable=ee.$table,k.columns=ee.collectColumn,k.connectFlag++}},Object.assign(d,z);const Ce=(ee,Re)=>{const{dropdowns:ne}=ee,ce=[];return ne?ne.map((Me,me)=>Me.visible===!1?et():x?h(x,{key:me,disabled:Me.disabled,loading:Me.loading,type:Me.type,mode:Me.mode,icon:Me.icon,circle:Me.circle,round:Me.round,status:Me.status,content:Me.name,title:Me.title,routerLink:Me.routerLink,permissionCode:Me.permissionCode,prefixTooltip:Me.prefixTooltip,suffixTooltip:Me.suffixTooltip,onClick:({$event:Z})=>Re?T(Z,Me):G(Z,Me)}):et()):ce},De=()=>{const{buttons:ee}=e,{connectTable:Re}=B,ne=Re,ce=c.buttonPrefix||c["button-prefix"],Me=c.buttonSuffix||c["button-suffix"],me=[];return ce&&me.push(...Ao(ce({buttons:ee||[],$grid:N,$table:ne}))),ee&&ee.forEach((Z,Fe)=>{const{dropdowns:we,buttonRender:Ye}=Z;if(Z.visible!==!1){const _e=Ye?Ni.get(Ye.name):null;if(Ye&&_e&&_e.renderToolbarButton){const Xe=_e.toolbarButtonClassName,He={$grid:N,$table:ne,button:Z};me.push(h("span",{key:`br${Z.code||Fe}`,class:["vxe-button--item",Xe?i.isFunction(Xe)?Xe(He):Xe:""]},Ao(_e.renderToolbarButton(Ye,He))))}else x&&me.push(h(x,{key:`bd${Z.code||Fe}`,disabled:Z.disabled,loading:Z.loading,type:Z.type,mode:Z.mode,icon:Z.icon,circle:Z.circle,round:Z.round,status:Z.status,content:Z.name,title:Z.title,routerLink:Z.routerLink,permissionCode:Z.permissionCode,prefixTooltip:Z.prefixTooltip,suffixTooltip:Z.suffixTooltip,destroyOnClose:Z.destroyOnClose,placement:Z.placement,transfer:Z.transfer,onClick:({$event:Xe})=>T(Xe,Z)},we&&we.length?{dropdowns:()=>Ce(Z,!0)}:{}))}}),Me&&me.push(...Ao(Me({buttons:ee||[],$grid:N,$table:ne}))),me},Se=()=>{const{tools:ee}=e,{connectTable:Re}=B,ne=Re,ce=c.toolPrefix||c["tool-prefix"],Me=c.toolSuffix||c["tool-suffix"],me=[];return ce&&me.push(...Ao(ce({tools:ee||[],$grid:N,$table:ne}))),ee&&ee.forEach((Z,Fe)=>{const{dropdowns:we,toolRender:Ye}=Z;if(Z.visible!==!1){const _e=Ye?Ye.name:null,Xe=Ye?Ni.get(_e):null;if(Ye&&Xe&&Xe.renderToolbarTool){const He=Xe.toolbarToolClassName,nt={$grid:N,$table:ne,tool:Z};me.push(h("span",{key:_e,class:["vxe-tool--item",He?i.isFunction(He)?He(nt):He:""]},Ao(Xe.renderToolbarTool(Ye,nt))))}else x&&me.push(h(x,{key:Fe,disabled:Z.disabled,loading:Z.loading,type:Z.type,mode:Z.mode,icon:Z.icon,circle:Z.circle,round:Z.round,status:Z.status,content:Z.name,title:Z.title,routerLink:Z.routerLink,permissionCode:Z.permissionCode,prefixTooltip:Z.prefixTooltip,suffixTooltip:Z.suffixTooltip,destroyOnClose:Z.destroyOnClose,placement:Z.placement,transfer:Z.transfer,onClick:({$event:He})=>G(He,Z)},we&&we.length?{dropdowns:()=>Ce(Z,!1)}:{}))}}),Me&&me.push(...Ao(Me({tools:ee||[],$grid:N,$table:ne}))),me},$=()=>{const ee=_.value;return x?h(x,{key:"import",circle:!0,icon:ee.icon||Bl().TOOLBAR_TOOLS_IMPORT,title:Cn("vxe.toolbar.import"),onClick:fe}):et()},ue=()=>{const ee=oe.value;return x?h(x,{key:"export",circle:!0,icon:ee.icon||Bl().TOOLBAR_TOOLS_EXPORT,title:Cn("vxe.toolbar.export"),onClick:Ie}):et()},ie=()=>{const ee=V.value;return x?h(x,{key:"print",circle:!0,icon:ee.icon||Bl().TOOLBAR_TOOLS_PRINT,title:Cn("vxe.toolbar.print"),onClick:Ee}):et()},te=()=>{const ee=M.value;return x?h(x,{key:"refresh",circle:!0,icon:k.isRefresh?ee.iconLoading||Bl().TOOLBAR_TOOLS_REFRESH_LOADING:ee.icon||Bl().TOOLBAR_TOOLS_REFRESH,title:Cn("vxe.toolbar.refresh"),onClick:ae}):et()},Y=()=>{const ee=K.value;return N&&x?h(x,{key:"zoom",circle:!0,icon:N.isMaximized()?ee.iconOut||Bl().TOOLBAR_TOOLS_MINIMIZE:ee.iconIn||Bl().TOOLBAR_TOOLS_FULLSCREEN,title:Cn(`vxe.toolbar.zoom${N.isMaximized()?"Out":"In"}`),onClick:W}):et()},J=()=>{const ee=le.value,Re=he.value,ne={};return Re==="manual"||(Re==="hover"?(ne.onMouseenter=O,ne.onMouseleave=L):ne.onClick=E),x?h(x,Object.assign({key:"custom",circle:!0,icon:ee.icon||Bl().TOOLBAR_TOOLS_CUSTOM,title:Cn("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},ne)):et()},be=()=>{const{perfect:ee,loading:Re,refresh:ne,zoom:ce,custom:Me,className:me}=e,{connectTable:Z}=B,Fe=y.value,we=c.tools,Ye=c.buttons,_e=Z;return h("div",{ref:U,class:["vxe-toolbar",me?i.isFunction(me)?me({$toolbar:d}):me:"",{[`size--${Fe}`]:Fe,"is--perfect":ee,"is--loading":Re}]},[h("div",{class:"vxe-buttons--wrapper"},Ye?Ye({$grid:N,$table:_e}):De()),h("div",{class:"vxe-tools--wrapper"},we?we({$grid:N,$table:_e}):Se()),h("div",{class:"vxe-tools--operate"},[e.import?$():et(),e.export?ue():et(),e.print?ie():et(),ne?te():et(),ce&&N?Y():et(),Me?J():et()])])};return d.renderVN=be,de(()=>{const{refresh:ee}=e,Re=M.value,ne=Re.queryMethod||Re.query;ee&&!N&&!ne&&pt("vxe.error.notFunc",["queryMethod"]);const ce=le.value;ce.isFooter&&pt("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),ce.showFooter&&pt("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),ce.immediate&&pt("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),ce.trigger&&pt("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(x||ze("vxe.error.reqComp",["vxe-button"]))}),d},render(){return this.renderVN()}}),{getConfig:Dl,getI18n:wn,commands:Md,hooks:Fd,useFns:Td,createEvent:Id,globalEvents:Cs,GLOBAL_EVENT_KEYS:kd,renderEmptyElement:ml}=ge,Ad=Object.keys(Nr),zi=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],Ld=[...Ns,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Fn=Yo({name:"VxeGrid",props:Object.assign(Object.assign({},Nr),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Dl().grid.size||Dl().size}}),emits:Ld,setup(e,l){var c;const{slots:p,emit:w}=l,x=i.uniqueId(),y=ge.getComponent("VxeForm"),k=ge.getComponent("VxePager"),B=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:U}=Td.useSize(e),f=vl({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((c=Dl().pager)===null||c===void 0?void 0:c.pageSize)||10,currentPage:1}}),d=je(),z=je(),N=je(),M=je(),_=je(),oe=je(),V=je(),K=je(),le=je(),Q=je(),he=X=>{const pe={};return X.forEach(se=>{pe[se]=(...Oe)=>{const ke=z.value;if(ke&&ke[se])return ke[se](...Oe)}}),pe},re=he(zi);zi.forEach(X=>{re[X]=(...pe)=>{const se=z.value;if(se&&se[X])return se&&se[X](...pe)}});const E=Pe(()=>i.merge({},i.clone(Dl().grid.proxyConfig,!0),e.proxyConfig)),O=Pe(()=>{const X=E.value;return i.isBoolean(X.message)?X.message:X.showResponseMsg}),L=Pe(()=>E.value.showActiveMsg),ae=Pe(()=>Object.assign({},Dl().grid.pagerConfig,e.pagerConfig)),W=Pe(()=>Object.assign({},Dl().grid.formConfig,e.formConfig)),T=Pe(()=>Object.assign({},Dl().grid.toolbarConfig,e.toolbarConfig)),G=Pe(()=>Object.assign({},Dl().grid.zoomConfig,e.zoomConfig)),fe=Pe(()=>{const{height:X,maxHeight:pe}=e,{isZMax:se,tZindex:Oe}=f,ke={};return se?ke.zIndex=Oe:(X&&(ke.height=X==="auto"||X==="100%"?"100%":rr(X)),pe&&(ke.maxHeight=pe==="auto"||pe==="100%"?"100%":rr(pe))),ke}),Ie=Pe(()=>{const X={},pe=e;return Ad.forEach(se=>{X[se]=pe[se]}),X}),Ee=Pe(()=>{const{seqConfig:X,pagerConfig:pe,loading:se,editConfig:Oe,proxyConfig:ke}=e,{isZMax:lt,tableLoading:it,tablePage:xt}=f,mt=Ie.value,Ot=E.value,qt=ae.value,Ze=Object.assign({},mt);return lt&&(mt.maxHeight?Ze.maxHeight="100%":Ze.height="100%"),ke&&Ct(Ot)&&(Ze.loading=se||it,pe&&Ot.seq&&Ct(qt)&&(Ze.seqConfig=Object.assign({},X,{startIndex:(xt.currentPage-1)*xt.pageSize}))),Oe&&(Ze.editConfig=Object.assign({},Oe)),Ze}),Ae=Pe(()=>{const{layouts:X}=e;let pe=[];X&&X.length?pe=X:pe=Dl().grid.layouts||B;let se=[],Oe=[],ke=[];return pe.length&&(i.isArray(pe[0])?(se=pe[0],Oe=pe[1]||[],ke=pe[2]||[]):Oe=pe),{headKeys:se,bodyKeys:Oe,footKeys:ke}}),Ce=Pe(()=>{const X=ae.value;return`${X.currentPage}${X.pageSize}`}),De={refElem:d,refTable:z,refForm:N,refToolbar:M,refPager:_},Se={computeProxyOpts:E,computePagerOpts:ae,computeFormOpts:W,computeToolbarOpts:T,computeZoomOpts:G},$={xID:x,props:e,context:l,reactData:f,getRefMaps:()=>De,getComputeMaps:()=>Se},ue=()=>{const X=T.value;e.toolbarConfig&&Ct(X)&&de(()=>{const pe=z.value,se=M.value;pe&&se&&pe.connect(se)})},ie=()=>{const{proxyConfig:X}=e,{formData:pe}=f,se=E.value,Oe=W.value;return X&&Ct(se)&&se.form?pe:Oe.data},te=()=>{const{tablePage:X}=f,{pagerConfig:pe}=e,se=ae.value,{currentPage:Oe,pageSize:ke}=se;pe&&Ct(se)&&(Oe&&(X.currentPage=Oe),ke&&(X.pageSize=ke))},Y=X=>{const pe=L.value,se=z.value,Oe=se.getCheckboxRecords();Oe.length?(se.togglePendingRow(Oe),re.clearCheckboxRow()):pe&&ge.modal&&ge.modal.message({id:X,content:wn("vxe.grid.selectOneRecord"),status:"warning"})},J=(X,pe)=>{const se=E.value,ke=(se.response||se.props||{}).message;let lt;return X&&ke&&(lt=i.isFunction(ke)?ke({data:X,$grid:$}):i.get(X,ke)),lt||wn(pe)},be=(X,pe,se)=>{const Oe=L.value,ke=re.getCheckboxRecords();if(Oe)if(ke.length){if(ge.modal)return ge.modal.confirm({id:`cfm_${X}`,content:wn(pe),escClosable:!0}).then(lt=>{if(lt==="confirm")return se()})}else ge.modal&&ge.modal.message({id:`msg_${X}`,content:wn("vxe.grid.selectOneRecord"),status:"warning"});else ke.length&&se();return Promise.resolve()},ee=X=>{const{proxyConfig:pe}=e,{tablePage:se}=f,{$event:Oe,currentPage:ke,pageSize:lt}=X,it=E.value;se.currentPage=ke,se.pageSize=lt,$.dispatchEvent("page-change",X,Oe),pe&&Ct(it)&&$.commitProxy("query").then(xt=>{$.dispatchEvent("proxy-query",xt,Oe)})},Re=X=>{const pe=z.value,{proxyConfig:se}=e,{computeSortOpts:Oe}=pe.getComputeMaps(),ke=E.value;Oe.value.remote&&(f.sortData=X.sortList,se&&Ct(ke)&&(f.tablePage.currentPage=1,xe.commitProxy("query").then(it=>{xe.dispatchEvent("proxy-query",it,X.$event)}))),xe.dispatchEvent("sort-change",X,X.$event)},ne=X=>{const pe=z.value,{proxyConfig:se}=e,{computeFilterOpts:Oe}=pe.getComputeMaps(),ke=E.value;Oe.value.remote&&(f.filterData=X.filterList,se&&Ct(ke)&&(f.tablePage.currentPage=1,xe.commitProxy("query").then(it=>{xe.dispatchEvent("proxy-query",it,X.$event)}))),xe.dispatchEvent("filter-change",X,X.$event)},ce=X=>{const{proxyConfig:pe}=e,se=E.value;f.tableLoading||(pe&&Ct(se)&&xe.commitProxy("reload").then(Oe=>{xe.dispatchEvent("proxy-query",Object.assign(Object.assign({},Oe),{isReload:!0}),X.$event)}),xe.dispatchEvent("form-submit",X,X.$event))},Me=X=>{const{proxyConfig:pe}=e,{$event:se}=X,Oe=E.value,ke=z.value;pe&&Ct(Oe)&&(ke.clearScroll(),xe.commitProxy("reload").then(lt=>{xe.dispatchEvent("proxy-query",Object.assign(Object.assign({},lt),{isReload:!0}),se)})),xe.dispatchEvent("form-reset",X,se)},me=X=>{xe.dispatchEvent("form-submit-invalid",X,X.$event)},Z=X=>{const{$event:pe}=X;xe.dispatchEvent("form-toggle-collapse",X,pe),xe.dispatchEvent("form-collapse",X,pe)},Fe=X=>{const{isZMax:pe}=f;return(X?!pe:pe)&&(f.isZMax=!pe,f.tZindex<ra()&&(f.tZindex=na())),de().then(()=>re.recalculate(!0)).then(()=>(setTimeout(()=>re.recalculate(!0),15),f.isZMax))},we=(X,pe)=>{const se=X[pe];if(se)if(i.isString(se)){if(p[se])return p[se];ze("vxe.error.notSlot",[se])}else return se;return null},Ye=X=>{const pe={};return i.objectMap(X,(se,Oe)=>{se&&(i.isString(se)?p[se]?pe[Oe]=p[se]:ze("vxe.error.notSlot",[se]):pe[Oe]=se)}),pe},_e=()=>{const{formConfig:X,proxyConfig:pe}=e,{formData:se}=f,Oe=E.value,ke=W.value;if(X&&Ct(ke)||p.form){let lt=[];if(p.form)lt=p.form({$grid:$});else if(ke.items){const it={};if(!ke.inited){ke.inited=!0;const xt=Oe.beforeItem;Oe&&xt&&ke.items.forEach(mt=>{xt({$grid:$,item:mt})})}ke.items.forEach(xt=>{i.each(xt.slots,mt=>{i.isFunction(mt)||p[mt]&&(it[mt]=p[mt])})}),y&&lt.push(h(y,Object.assign(Object.assign({ref:N},Object.assign({},ke,{data:pe&&Ct(Oe)&&Oe.form?se:ke.data})),{onSubmit:ce,onReset:Me,onSubmitInvalid:me,onCollapse:Z}),it))}return h("div",{ref:oe,key:"form",class:"vxe-grid--form-wrapper"},lt)}return ml($)},Xe=()=>{const{toolbarConfig:X}=e,pe=T.value;if(X&&Ct(pe)||p.toolbar){let se=[];if(p.toolbar)se=p.toolbar({$grid:$});else{const Oe=pe.slots;let ke,lt;const it={};Oe&&(ke=we(Oe,"buttons"),lt=we(Oe,"tools"),ke&&(it.buttons=ke),lt&&(it.tools=lt)),se.push(h(en,Object.assign(Object.assign({ref:M},pe),{slots:void 0}),it))}return h("div",{ref:V,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},se)}return ml($)},He=()=>p.top?h("div",{ref:K,key:"top",class:"vxe-grid--top-wrapper"},p.top({$grid:$})):ml($),nt=()=>{const X=p.left;return X?h("div",{class:"vxe-grid--left-wrapper"},X({$grid:$})):ml($)},yt=()=>{const X=p.right;return X?h("div",{class:"vxe-grid--right-wrapper"},X({$grid:$})):ml($)},Et=()=>{const{proxyConfig:X}=e,pe=Ee.value,se=E.value,Oe=Object.assign({},Ge),ke=p.empty,lt=p.loading,it=p.rowDragIcon||p["row-drag-icon"],xt=p.columnDragIcon||p["column-drag-icon"];X&&Ct(se)&&(se.sort&&(Oe.onSortChange=Re),se.filter&&(Oe.onFilterChange=ne));const mt={};return ke&&(mt.empty=ke),lt&&(mt.loading=lt),it&&(mt.rowDragIcon=it),xt&&(mt.columnDragIcon=xt),h("div",{class:"vxe-grid--table-wrapper"},[h(Jl,Object.assign(Object.assign({ref:z},pe),Oe),mt)])},rt=()=>p.bottom?h("div",{ref:le,key:"bottom",class:"vxe-grid--bottom-wrapper"},p.bottom({$grid:$})):ml($),gt=()=>{const{proxyConfig:X,pagerConfig:pe}=e,se=E.value,Oe=ae.value,ke=p.pager;return pe&&Ct(Oe)||p.pager?h("div",{ref:Q,key:"pager",class:"vxe-grid--pager-wrapper"},ke?ke({$grid:$}):[k?h(k,Object.assign(Object.assign(Object.assign({ref:_},Oe),X&&Ct(se)?f.tablePage:{}),{onPageChange:ee}),Ye(Oe.slots)):ml($)]):ml($)},vt=X=>{const pe=[];return X.forEach(se=>{switch(se){case"Form":pe.push(_e());break;case"Toolbar":pe.push(Xe());break;case"Top":pe.push(He());break;case"Table":pe.push(h("div",{key:"table",class:"vxe-grid--table-container"},[nt(),Et(),yt()]));break;case"Bottom":pe.push(rt());break;case"Pager":pe.push(gt());break;default:ze("vxe.error.notProp",[`layouts -> ${se}`]);break}}),pe},qe=()=>{const X=Ae.value,{headKeys:pe,bodyKeys:se,footKeys:Oe}=X,ke=p.asideLeft||p["aside-left"],lt=p.asideRight||p["aside-right"];return[h("div",{class:"vxe-grid--layout-header-wrapper"},vt(pe)),h("div",{class:"vxe-grid--layout-body-wrapper"},[ke?h("div",{class:"vxe-grid--layout-aside-left-wrapper"},ke({})):ml($),h("div",{class:"vxe-grid--layout-body-content-wrapper"},vt(se)),lt?h("div",{class:"vxe-grid--layout-aside-right-wrapper"},lt({})):ml($)]),h("div",{class:"vxe-grid--layout-footer-wrapper"},vt(Oe))]},Ge={};Ns.forEach(X=>{const pe=i.camelCase(`on-${X}`);Ge[pe]=(...se)=>w(X,...se)});const ut=()=>{const{proxyConfig:X,formConfig:pe}=e,{proxyInited:se}=f,Oe=E.value,ke=W.value;if(X&&Ct(Oe)){if(pe&&Ct(ke)&&Oe.form&&ke.items){const lt={};ke.items.forEach(it=>{const{field:xt,itemRender:mt}=it;if(xt){let Ot=null;if(mt){const{defaultValue:qt}=mt;i.isFunction(qt)?Ot=qt({item:it}):i.isUndefined(qt)||(Ot=qt)}lt[xt]=Ot}}),f.formData=lt}se||(f.proxyInited=!0,Oe.autoLoad!==!1&&de().then(()=>xe.commitProxy("_init")).then(lt=>{xe.dispatchEvent("proxy-query",Object.assign(Object.assign({},lt),{isInited:!0}),new Event("init"))}))}},We=X=>{const pe=G.value;Cs.hasKey(X,kd.ESCAPE)&&f.isZMax&&pe.escRestore!==!1&&Le.triggerZoomEvent(X)},xe={dispatchEvent:(X,pe,se)=>{w(X,Id(se,{$grid:$},pe))},getEl(){return d.value},commitProxy(X,...pe){const{toolbarConfig:se,pagerConfig:Oe,editRules:ke,validConfig:lt}=e,{tablePage:it}=f,xt=L.value,mt=O.value,Ot=E.value,qt=ae.value,Ze=T.value,{beforeQuery:wt,afterQuery:It,beforeDelete:Qt,afterDelete:go,beforeSave:oo,afterSave:zt,ajax:_t={}}=Ot,kt=Ot.response||Ot.props||{},tt=z.value,Ft=ie();let ho=null,Nt=null;if(i.isString(X)){const{buttons:$t}=Ze,ro=se&&Ct(Ze)&&$t?i.findTree($t,So=>So.code===X,{children:"dropdowns"}):null;ho=ro?ro.item:null,Nt=X}else ho=X,Nt=ho.code;const no=ho?ho.params:null;switch(Nt){case"insert":return tt.insert({});case"insert_edit":return tt.insert({}).then(({row:$t})=>tt.setEditRow($t));case"insert_actived":return tt.insert({}).then(({row:$t})=>tt.setEditRow($t));case"mark_cancel":Y(Nt);break;case"remove":return be(Nt,"vxe.grid.removeSelectRecord",()=>tt.removeCheckboxRow());case"import":tt.importData(no);break;case"open_import":tt.openImport(no);break;case"export":tt.exportData(no);break;case"open_export":tt.openExport(no);break;case"reset_custom":return tt.resetCustom(!0);case"_init":case"reload":case"query":{const $t=_t.query,ro=_t.querySuccess,So=_t.queryError;if($t){const Wt=Nt==="_init",so=Nt==="reload";if(!Wt&&f.tableLoading)return de();let To=[],yo=[],fo={};if(Oe&&((Wt||so)&&(it.currentPage=1),Ct(qt)&&(fo=Object.assign({},it))),Wt){let eo=null;if(tt){const{computeSortOpts:St}=tt.getComputeMaps();eo=St.value.defaultSort}eo&&(i.isArray(eo)||(eo=[eo]),To=eo.map(St=>({field:St.field,property:St.field,order:St.order}))),tt&&(yo=tt.getCheckedFilters())}else tt&&(so?tt.clearAll():(To=tt.getSortColumns(),yo=tt.getCheckedFilters()));const Oo={code:Nt,button:ho,isInited:Wt,isReload:so,$grid:$,page:fo,sort:To.length?To[0]:{},sorts:To,filters:yo,form:Ft,options:$t};return f.sortData=To,f.filterData=yo,f.tableLoading=!0,Promise.resolve((wt||$t)(Oo,...pe)).then(eo=>{let St=[];if(f.tableLoading=!1,eo)if(Oe&&Ct(qt)){const ht=kt.total,ul=(i.isFunction(ht)?ht({data:eo,$grid:$}):i.get(eo,ht||"page.total"))||0;it.total=i.toNumber(ul);const ll=kt.result;St=(i.isFunction(ll)?ll({data:eo,$grid:$}):i.get(eo,ll||"result"))||[];const nl=Math.max(Math.ceil(ul/it.pageSize),1);it.currentPage>nl&&(it.currentPage=nl)}else{const ht=kt.list;St=(ht?i.isFunction(ht)?ht({data:eo,$grid:$}):i.get(eo,ht):eo)||[]}return tt?tt.loadData(St):de(()=>{tt&&tt.loadData(St)}),It&&It(Oo,...pe),ro&&ro(Object.assign(Object.assign({},Oo),{response:eo})),{status:!0}}).catch(eo=>(f.tableLoading=!1,So&&So(Object.assign(Object.assign({},Oo),{response:eo})),{status:!1}))}else ze("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const $t=_t.delete,ro=_t.deleteSuccess,So=_t.deleteError;if($t){const Wt=re.getCheckboxRecords(),so=Wt.filter(fo=>!tt.isInsertByRow(fo)),yo={$grid:$,code:Nt,button:ho,body:{removeRecords:so},form:Ft,options:$t};if(Wt.length)return be(Nt,"vxe.grid.deleteSelectRecord",()=>so.length?(f.tableLoading=!0,Promise.resolve((Qt||$t)(yo,...pe)).then(fo=>(f.tableLoading=!1,tt.setPendingRow(so,!1),mt&&ge.modal&&ge.modal.message({content:J(fo,"vxe.grid.delSuccess"),status:"success"}),go?go(yo,...pe):xe.commitProxy("query"),ro&&ro(Object.assign(Object.assign({},yo),{response:fo})),{status:!0})).catch(fo=>(f.tableLoading=!1,mt&&ge.modal&&ge.modal.message({id:Nt,content:J(fo,"vxe.grid.operError"),status:"error"}),So&&So(Object.assign(Object.assign({},yo),{response:fo})),{status:!1}))):tt.remove(Wt));xt&&ge.modal&&ge.modal.message({id:Nt,content:wn("vxe.grid.selectOneRecord"),status:"warning"})}else ze("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const $t=_t.save,ro=_t.saveSuccess,So=_t.saveError;if($t){const Wt=tt.getRecordset(),{insertRecords:so,removeRecords:To,updateRecords:yo,pendingRecords:fo}=Wt,Oo={$grid:$,code:Nt,button:ho,body:Wt,form:Ft,options:$t};so.length&&(Wt.pendingRecords=fo.filter(St=>tt.findRowIndexOf(so,St)===-1)),fo.length&&(Wt.insertRecords=so.filter(St=>tt.findRowIndexOf(fo,St)===-1));let eo=Promise.resolve();return ke&&(eo=tt[lt&&lt.msgMode==="full"?"fullValidate":"validate"](Wt.insertRecords.concat(yo))),eo.then(St=>{if(!St){if(Wt.insertRecords.length||To.length||yo.length||Wt.pendingRecords.length)return f.tableLoading=!0,Promise.resolve((oo||$t)(Oo,...pe)).then(ht=>(f.tableLoading=!1,tt.clearPendingRow(),mt&&ge.modal&&ge.modal.message({content:J(ht,"vxe.grid.saveSuccess"),status:"success"}),zt?zt(Oo,...pe):xe.commitProxy("query"),ro&&ro(Object.assign(Object.assign({},Oo),{response:ht})),{status:!0})).catch(ht=>(f.tableLoading=!1,mt&&ge.modal&&ge.modal.message({id:Nt,content:J(ht,"vxe.grid.operError"),status:"error"}),So&&So(Object.assign(Object.assign({},Oo),{response:ht})),{status:!1}));xt&&ge.modal&&ge.modal.message({id:Nt,content:wn("vxe.grid.dataUnchanged"),status:"info"})}})}else ze("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const $t=Md.get(Nt);if($t){const ro=$t.tableCommandMethod||$t.commandMethod;ro?ro({code:Nt,button:ho,$grid:$,$table:tt},...pe):ze("vxe.error.notCommands",[Nt])}}}return de()},zoom(){return f.isZMax?xe.revert():xe.maximize()},isMaximized(){return f.isZMax},maximize(){return Fe(!0)},revert(){return Fe()},getFormData:ie,getFormItems(X){const pe=W.value,{formConfig:se}=e,{items:Oe}=pe,ke=[];return i.eachTree(se&&Ct(pe)&&Oe?Oe:[],lt=>{ke.push(lt)},{children:"children"}),i.isUndefined(X)?ke:ke[X]},getProxyInfo(){const X=z.value;if(e.proxyConfig){const{sortData:pe}=f;return{data:X?X.getFullData():[],filter:f.filterData,form:ie(),sort:pe.length?pe[0]:{},sorts:pe,pager:f.tablePage,pendingRecords:X?X.getPendingRecords():[]}}return null}},Le={extendTableMethods:he,callSlot(X,pe){return X&&(i.isString(X)&&(X=p[X]||null),i.isFunction(X))?Ao(X(pe)):[]},getExcludeHeight(){const{isZMax:X}=f,pe=d.value;if(pe){const se=oe.value,Oe=V.value,ke=K.value,lt=le.value,it=Q.value,xt=pe.parentElement;return(X?0:xt?Is(xt):0)+Is(pe)+Yn(se)+Yn(Oe)+Yn(ke)+Yn(lt)+Yn(it)}return 0},getParentHeight(){const X=d.value;if(X){const pe=X.parentElement;return(f.isZMax?Gr().visibleHeight:pe?i.toNumber(getComputedStyle(pe).height):0)-Le.getExcludeHeight()}return 0},triggerToolbarCommitEvent(X,pe){const{code:se}=X;return xe.commitProxy(X,pe).then(Oe=>{se&&Oe&&Oe.status&&["query","reload","delete","save"].includes(se)&&xe.dispatchEvent(se==="delete"||se==="save"?`proxy-${se}`:"proxy-query",Object.assign(Object.assign({},Oe),{isReload:se==="reload"}),pe)})},triggerToolbarBtnEvent(X,pe){Le.triggerToolbarCommitEvent(X,pe),xe.dispatchEvent("toolbar-button-click",{code:X.code,button:X},pe)},triggerToolbarTolEvent(X,pe){Le.triggerToolbarCommitEvent(X,pe),xe.dispatchEvent("toolbar-tool-click",{code:X.code,tool:X},pe)},triggerZoomEvent(X){xe.zoom(),xe.dispatchEvent("zoom",{type:f.isZMax?"max":"revert"},X)}};Object.assign($,re,xe,Le,{loadColumn(X){const pe=z.value;return i.eachTree(X,se=>{se.slots&&i.each(se.slots,Oe=>{i.isFunction(Oe)||p[Oe]||ze("vxe.error.notSlot",[Oe])})}),pe?pe.loadColumn(X):de()},reloadColumn(X){return $.clearAll(),$.loadColumn(X)}});const ot=je(0);Tt(()=>e.columns?e.columns.length:-1,()=>{ot.value++}),Tt(()=>e.columns,()=>{ot.value++}),Tt(ot,()=>{de(()=>$.loadColumn(e.columns||[]))}),Tt(()=>e.toolbarConfig,()=>{ue()}),Tt(Ce,()=>{te()}),Tt(()=>e.proxyConfig,()=>{ut()}),Fd.forEach(X=>{const{setupGrid:pe}=X;if(pe){const se=pe($);se&&i.isObject(se)&&Object.assign($,se)}}),te(),on(()=>{de(()=>{const{columns:X}=e;e.formConfig&&(y||ze("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(k||ze("vxe.error.reqComp",["vxe-pager"])),X&&X.length&&$.loadColumn(X),ue(),ut()}),Cs.on($,"keydown",We)}),ln(()=>{Cs.off($,"keydown")});const Qe=()=>{const X=U.value,pe=fe.value;return h("div",{ref:d,class:["vxe-grid",{[`size--${X}`]:X,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":f.isZMax,"is--loading":e.loading||f.tableLoading}],style:pe},qe())};return $.renderVN=Qe,tn("$xeGrid",$),$},render(){return this.renderVN()}}),js=Object.assign({},Fn,{install(e){e.component(Fn.name,Fn)}});ge.dynamicApp&&ge.dynamicApp.component(Fn.name,Fn);ge.component(Fn);const Hd=js;function Bd(e){const l=Pe(()=>{const{renderParams:x}=e;return x.column}),c=Pe(()=>{const{renderParams:x}=e;return x.row}),p=Pe(()=>{const{renderOpts:x}=e;return x.props||{}}),w=Pe({get(){const{renderParams:x}=e,{row:y,column:k}=x;return i.get(y,k.field)},set(x){const{renderParams:y}=e,{row:k,column:B}=y;return i.set(k,B.field,x)}});return{currColumn:l,currRow:c,cellModel:w,cellOptions:p}}const{renderer:_i,hooks:$d}=ge,Pd=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];$d.add("tableFilterModule",{setupTable(e){const{props:l,reactData:c,internalData:p}=e,{refElem:w,refTableFilter:x}=e.getRefMaps(),{computeFilterOpts:y,computeMouseOpts:k}=e.getComputeMaps(),B=M=>{const{filterStore:_}=c;_.options.forEach(oe=>{oe.checked=oe._checked}),e.confirmFilterEvent(M)},U=(M,_,oe)=>{const{filterStore:V}=c;V.options.forEach(K=>{K._checked=!1}),oe._checked=_,e.checkFilterOptions(),B(M)},f=(M,_,oe)=>{oe._checked=_,e.checkFilterOptions()},d=M=>{const{filterStore:_}=c;e.handleClearFilter(_.column),e.confirmFilterEvent(M),M&&e.dispatchEvent("clear-filter",{filterList:[]},M)},z={checkFilterOptions(){const{filterStore:M}=c;M.isAllSelected=M.options.every(_=>_._checked),M.isIndeterminate=!M.isAllSelected&&M.options.some(_=>_._checked)},triggerFilterEvent(M,_,oe){const{initStore:V,filterStore:K}=c,{elemStore:le}=p;if(K.column===_&&K.visible)K.visible=!1;else{const Q=w.value,{scrollTop:he,scrollLeft:re,visibleHeight:E,visibleWidth:O}=Gr(),L=y.value,{transfer:ae}=L,W=Q.getBoundingClientRect(),T=M.currentTarget,{filters:G,filterMultiple:fe,filterRender:Ie}=_,Ee=Ct(Ie)?_i.get(Ie.name):null,Ae=_.filterRecoverMethod||(Ee?Ee.tableFilterRecoverMethod||Ee.filterRecoverMethod:null);p._currFilterParams=oe,Object.assign(K,{multiple:fe,options:G,column:_,style:null}),K.options.forEach(Ce=>{const{_checked:De,checked:Se}=Ce;Ce._checked=Se,!Se&&De!==Se&&Ae&&Ae({option:Ce,column:_,$table:e})}),this.checkFilterOptions(),K.visible=!0,V.filter=!0,de(()=>{if(!Je(le["main-header-scroll"]))return;const De=x.value,Se=De?De.getRefMaps().refElem.value:null;if(!Se)return;const $=T.getBoundingClientRect(),ue=Se.querySelector(".vxe-table--filter-header"),ie=Se.querySelector(".vxe-table--filter-footer"),te=Se.offsetWidth,Y=te/2;let J=0,be=0,ee=0;ae?(J=$.left-Y+re,be=$.top+T.clientHeight+he,ee=Math.min(Math.max(W.height,Math.floor(E/2)),Math.max(80,E-be-(ue?ue.clientHeight:0)-(ie?ie.clientHeight:0)-28)),J<16?J=16:J>O-te-16&&(J=O-te-16)):(J=$.left-W.left-Y,be=$.top-W.top+T.clientHeight,ee=Math.max(40,Q.clientHeight-be-(ue?ue.clientHeight:0)-(ie?ie.clientHeight:0)-14),J<1?J=1:J>Q.clientWidth-te-1&&(J=Q.clientWidth-te-1)),K.style={top:rr(be),left:rr(J)},K.maxHeight=ee})}e.dispatchEvent("filter-visible",{column:_,field:_.field,property:_.field,filterList:e.getCheckedFilters(),visible:K.visible},M)},handleClearFilter(M){if(M){const{filters:_,filterRender:oe}=M;if(_){const V=Ct(oe)?_i.get(oe.name):null,K=M.filterResetMethod||(V?V.tableFilterResetMethod||V.filterResetMethod:null);_.forEach(le=>{le._checked=!1,le.checked=!1,K||(le.data=i.clone(le.resetValue,!0))}),K&&K({options:_,column:M,$table:e})}}},handleColumnConfirmFilter(M,_){const{mouseConfig:oe}=l,{scrollXLoad:V,scrollYLoad:K}=c,le=y.value,Q=k.value,{field:he}=M,re=[],E=[];M.filters.forEach(ae=>{ae.checked&&(re.push(ae.value),E.push(ae.data))});const O=e.getCheckedFilters(),L={$table:e,$event:_,column:M,field:he,property:he,values:re,datas:E,filters:O,filterList:O};return le.remote||(e.handleTableData(!0),e.checkSelectionStatus()),oe&&Q.area&&e.handleFilterEvent&&e.handleFilterEvent(_,L),_&&e.dispatchEvent("filter-change",L,_),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:ae,scrollYLoad:W}=c;if(V||ae||K||W)return(V||ae)&&e.updateScrollXSpace(),(K||W)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(M){const{filterStore:_}=c,{column:oe}=_;e.handleColumnConfirmFilter(oe,M)},handleFilterChangeRadioOption:U,handleFilterChangeMultipleOption:f,handleFilterChangeOption(M,_,oe){const{filterStore:V}=c;V.multiple?f(M,_,oe):U(M,_,oe)},handleFilterConfirmFilter:B,handleFilterResetFilter:d};return Object.assign(Object.assign({},{openFilter(M){const _=to(e,M);if(_&&_.filters){const{elemStore:oe}=p,{fixed:V}=_;return e.scrollToColumn(_).then(()=>{const K=Je(oe[`${V||"main"}-header-wrapper`]||oe["main-header-wrapper"]);if(K){const le=K.querySelector(`.vxe-header--column.${_.id} .vxe-cell--filter`);Xc(le,"click")}})}return de()},setFilter(M,_,oe){const V=to(e,M);return V&&V.filters&&(V.filters=$s(_||[]),oe)?e.handleColumnConfirmFilter(V,new Event("click")):de()},clearFilter(M){const{filterStore:_}=c,{tableFullColumn:oe}=p,V=y.value;let K;return M?(K=to(e,M),K&&e.handleClearFilter(K)):oe.forEach(e.handleClearFilter),(!M||K!==_.column)&&Object.assign(_,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),V.remote?de():e.updateData()},saveFilterPanel(){return B(null),de()},saveFilterPanelByEvent(M){return B(M),de()},resetFilterPanel(){return d(null),de()},resetFilterPanelByEvent(M){return d(M),de()},getCheckedFilters(){const{tableFullColumn:M}=p,_=[];return M.forEach(oe=>{const{field:V,filters:K}=oe,le=[],Q=[];K&&K.length&&(K.forEach(he=>{he.checked&&(le.push(he.value),Q.push(he.data))}),le.length&&_.push({column:oe,field:V,property:V,values:le,datas:Q}))}),_},updateFilterOptionStatus(M,_){return M._checked=_,M.checked=_,de()}}),z)},setupGrid(e){return e.extendTableMethods(Pd)}});const{menus:Vd,hooks:Nd,globalEvents:Tr,GLOBAL_EVENT_KEYS:Ir}=ge,jd=["closeMenu"];Nd.add("tableMenuModule",{setupTable(e){const{xID:l,props:c,reactData:p,internalData:w}=e,{refElem:x,refTableFilter:y,refTableMenu:k}=e.getRefMaps(),{computeMouseOpts:B,computeIsMenu:U,computeMenuOpts:f}=e.getComputeMaps();let d={},z={};const N=(M,_,oe)=>{const{ctxMenuStore:V}=p,K=U.value,le=f.value,Q=le[_],he=le.visibleMethod;if(Q){const{options:re,disabled:E}=Q;E?M.preventDefault():K&&re&&re.length&&(oe.options=re,e.preventEvent(M,"event.showMenu",oe,()=>{if(!he||he(oe)){M.preventDefault(),e.updateZindex();const{scrollTop:O,scrollLeft:L,visibleHeight:ae,visibleWidth:W}=Gr();let T=M.clientY+O,G=M.clientX+L;const fe=()=>{w._currMenuParams=oe,Object.assign(V,{visible:!0,list:re,selected:null,selectChild:null,showChild:!1,style:{zIndex:w.tZindex,top:`${T}px`,left:`${G}px`}}),de(()=>{const De=k.value.getRefMaps().refElem.value,Se=De.clientHeight,$=De.clientWidth,{boundingTop:ue,boundingLeft:ie}=Br(De),te=ue+Se-ae,Y=ie+$-W;te>-10&&(V.style.top=`${Math.max(O+2,T-Se-2)}px`),Y>-10&&(V.style.left=`${Math.max(L+2,G-$-2)}px`)})},{keyboard:Ie,row:Ee,column:Ae}=oe;Ie&&Ee&&Ae?e.scrollToRow(Ee,Ae).then(()=>{const Ce=e.getCellElement(Ee,Ae);if(Ce){const{boundingTop:De,boundingLeft:Se}=Br(Ce);T=De+O+Math.floor(Ce.offsetHeight/2),G=Se+L+Math.floor(Ce.offsetWidth/2)}fe()}):fe()}else d.closeMenu()}))}e.closeFilter()};return d={closeMenu(){return Object.assign(p.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),de()}},z={moveCtxMenu(M,_,oe,V,K,le){let Q;const he=i.findIndexOf(le,re=>_[oe]===re);if(V)K&&Dn(_.selected)?_.showChild=!0:(_.showChild=!1,_.selectChild=null);else if(Tr.hasKey(M,Ir.ARROW_UP)){for(let re=he-1;re>=0;re--)if(le[re].visible!==!1){Q=le[re];break}_[oe]=Q||le[le.length-1]}else if(Tr.hasKey(M,Ir.ARROW_DOWN)){for(let re=he+1;re<le.length;re++)if(le[re].visible!==!1){Q=le[re];break}_[oe]=Q||le[0]}else _[oe]&&(Tr.hasKey(M,Ir.ENTER)||Tr.hasKey(M,Ir.SPACEBAR))&&e.ctxMenuLinkEvent(M,_[oe])},handleOpenMenuEvent:N,handleGlobalContextmenuEvent(M){const{mouseConfig:_,menuConfig:oe}=c,{editStore:V,ctxMenuStore:K}=p,{visibleColumn:le}=w,Q=y.value,he=k.value,re=B.value,E=f.value,O=x.value,{selected:L}=V,ae=["header","body","footer"];if(Ct(oe)){if(K.visible&&he&&Vt(M,he.getRefMaps().refElem.value).flag){M.preventDefault();return}if(w._keyCtx){const W="body",T={type:W,$table:e,keyboard:!0,columns:le.slice(0),$event:M};if(_&&re.area){const G=e.getActiveCellArea();if(G&&G.row&&G.column){T.row=G.row,T.column=G.column,N(M,W,T);return}}else if(_&&re.selected&&L.row&&L.column){T.row=L.row,T.column=L.column,N(M,W,T);return}}for(let W=0;W<ae.length;W++){const T=ae[W],G=Vt(M,O,`vxe-${T}--column`,Ie=>Ie.parentNode.parentNode.parentNode.getAttribute("xid")===l),fe={type:T,$table:e,columns:le.slice(0),$event:M};if(G.flag){const Ie=G.targetElem,Ee=e.getColumnNode(Ie),Ae=Ee?Ee.item:null;let Ce=`${T}-`;if(Ae&&Object.assign(fe,{column:Ae,columnIndex:e.getColumnIndex(Ae),cell:Ie}),T==="body"){const Se=e.getRowNode(Ie.parentNode),$=Se?Se.item:null;Ce="",$&&(fe.row=$,fe.rowIndex=e.getRowIndex($))}const De=`${Ce}cell-menu`;N(M,T,fe),e.dispatchEvent(De,fe,M);return}else if(Vt(M,O,`vxe-table--${T}-wrapper`,Ie=>Ie.getAttribute("xid")===l).flag){E.trigger==="cell"?M.preventDefault():N(M,T,fe);return}}}Q&&!Vt(M,Q.getRefMaps().refElem.value).flag&&e.closeFilter(),d.closeMenu()},ctxMenuMouseoverEvent(M,_,oe){const V=M.currentTarget,{ctxMenuStore:K}=p;M.preventDefault(),M.stopPropagation(),K.selected=_,K.selectChild=oe,oe||(K.showChild=Dn(_),K.showChild&&de(()=>{const le=V.nextElementSibling;if(le){const{boundingTop:Q,boundingLeft:he,visibleHeight:re,visibleWidth:E}=Br(V),O=Q+V.offsetHeight,L=he+V.offsetWidth;let ae="",W="";L+le.offsetWidth>E-10&&(ae="auto",W=`${V.offsetWidth}px`);let T="",G="";O+le.offsetHeight>re-10&&(T="auto",G="0"),le.style.left=ae,le.style.right=W,le.style.top=T,le.style.bottom=G}}))},ctxMenuMouseoutEvent(M,_){const{ctxMenuStore:oe}=p;_.children||(oe.selected=null),oe.selectChild=null},ctxMenuLinkEvent(M,_){const oe=e.xeGrid;if(!_.disabled&&(_.code||!_.children||!_.children.length)){const V=Vd.get(_.code),K=Object.assign({},w._currMenuParams,{menu:_,$table:e,$grid:oe,$event:M}),le=V?V.tableMenuMethod||V.menuMethod:null;le&&le(K,M),e.dispatchEvent("menu-click",K,M),d.closeMenu()}}},Object.assign(Object.assign({},d),z)},setupGrid(e){return e.extendTableMethods(jd)}});const{getConfig:zd,renderer:_d,hooks:Wd,getI18n:Wi}=ge,Gd=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];Wd.add("tableEditModule",{setupTable(e){const{props:l,reactData:c,internalData:p}=e,{refElem:w}=e.getRefMaps(),{computeMouseOpts:x,computeEditOpts:y,computeCheckboxOpts:k,computeTreeOpts:B,computeValidOpts:U}=e.getComputeMaps(),f=i.browse();let d={},z={};const N=(E,O)=>{const{model:L,editRender:ae}=O;ae&&(L.value=bo(E,O),L.update=!1)},M=(E,O)=>{const{model:L,editRender:ae}=O;ae&&L.update&&(dl(E,O,L.value),L.update=!1,L.value=null)},_=()=>{const E=w.value;if(E){const O=E.querySelector(".col--selected");O&&zo(O,"col--selected")}},oe=()=>{const{editStore:E,tableColumn:O}=c,L=y.value,{actived:ae}=E,{row:W,column:T}=ae;(W||T)&&(L.mode==="row"?O.forEach(G=>M(W,G)):M(W,T))},V=(E,O)=>{const{tableFullTreeData:L,afterFullData:ae,fullDataRowIdData:W,fullAllDataRowIdData:T}=p,G=B.value,{rowField:fe,parentField:Ie,mapChildrenField:Ee}=G,Ae=G.children||G.childrenField,Ce=O?"push":"unshift";E.forEach(De=>{const Se=De[Ie],$=Be(e,De),ue=Se?i.findTree(L,ie=>Se===ie[fe],{children:Ee}):null;if(ue){const{item:ie}=ue,te=T[Be(e,ie)],Y=te?te.level:0;let J=ie[Ae],be=ie[Ee];i.isArray(J)||(J=ie[Ae]=[]),i.isArray(be)||(be=ie[Ae]=[]),J[Ce](De),be[Ce](De);const ee={row:De,rowid:$,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:J,parent:ie,level:Y+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};W[$]=ee,T[$]=ee}else{Se&&pt("vxe.error.unableInsert"),ae[Ce](De),L[Ce](De);const ie={row:De,rowid:$,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:L,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};W[$]=ie,T[$]=ie}})},K=(E,O,L)=>{const{treeConfig:ae}=l,{tableFullTreeData:W,afterFullData:T,mergeBodyList:G,tableFullData:fe,fullDataRowIdData:Ie,fullAllDataRowIdData:Ee,insertRowMaps:Ae}=p,Ce=B.value,{transform:De,rowField:Se,mapChildrenField:$}=Ce,ue=Ce.children||Ce.childrenField;i.isArray(E)||(E=[E]);const ie=vl(e.defineField(E.map(te=>Object.assign(ae&&De?{[$]:[],[ue]:[]}:{},te))));if(i.eqNull(O))ae&&De?V(ie,!1):(ie.forEach(te=>{const Y=Be(e,te),J={row:te,rowid:Y,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:T,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ie[Y]=J,Ee[Y]=J,T.unshift(te),fe.unshift(te)}),G.forEach(te=>{const{row:Y}=te;Y>0&&(te.row=Y+ie.length)}));else if(O===-1)ae&&De?V(ie,!0):(ie.forEach(te=>{const Y=Be(e,te),J={row:te,rowid:Y,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:T,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ie[Y]=J,Ee[Y]=J,T.push(te),fe.push(te)}),G.forEach(te=>{const{row:Y,rowspan:J}=te;Y+J>T.length&&(te.rowspan=J+ie.length)}));else if(ae&&De){const te=i.findTree(W,Y=>O[Se]===Y[Se],{children:$});if(te){const{parent:Y}=te,J=Y?Y[$]:W,be=Ee[Be(e,Y)],ee=be?be.level:0;if(ie.forEach((Re,ne)=>{const ce=Be(e,Re);Re[Ce.parentField]&&Y&&Re[Ce.parentField]!==Y[Se]&&ze("vxe.error.errProp",[`${Ce.parentField}=${Re[Ce.parentField]}`,`${Ce.parentField}=${Y[Se]}`]),Y&&(Re[Ce.parentField]=Y[Se]);let Me=te.index+ne;L&&(Me=Me+1),J.splice(Me,0,Re);const me={row:Re,rowid:ce,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:J,parent:Y,level:ee+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ie[ce]=me,Ee[ce]=me}),Y){const Re=i.findTree(W,ne=>O[Se]===ne[Se],{children:ue});if(Re){const ne=Re.items;let ce=Re.index;L&&(ce=ce+1),ne.splice(ce,0,...ie)}}}else pt("vxe.error.unableInsert"),V(ie,!0)}else{if(ae)throw new Error(Wi("vxe.error.noTree",["insert"]));let te=-1;if(i.isNumber(O)?O<T.length&&(te=O):te=e.findRowIndexOf(T,O),L&&(te=Math.min(T.length,te+1)),te===-1)throw new Error(Wi("vxe.error.unableInsert"));T.splice(te,0,...ie);const Y=e.findRowIndexOf(fe,O);Y>-1?fe.splice(Y+(L?1:0),0,...ie):fe.push(...ie),G.forEach(J=>{const{row:be,rowspan:ee}=J;be>te?J.row=be+ie.length:be+ee>te&&(J.rowspan=ee+ie.length)})}return ie.forEach(te=>{const Y=Be(e,te);Ae[Y]=te}),c.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(ae&&De),ae&&De||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),c.scrollYLoad&&e.updateScrollYSpace(),de().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:ie.length?ie[ie.length-1]:null,rows:ie}))},le=(E,O,L,ae)=>{const{treeConfig:W}=l,T=B.value,{transform:G,rowField:fe,parentField:Ie}=T;return W&&G?(i.isArray(E)||(E=[E]),K(E.map(Ee=>Object.assign({},Ee,{[Ie]:O[fe]})),L,ae)):(ze("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},Q=(E,O)=>{const{editStore:L}=c,{actived:ae,focused:W}=L,{row:T,column:G}=ae,fe=U.value;if(T||G){if(O&&Be(e,O)!==Be(e,T))return de();oe(),ae.args=null,ae.row=null,ae.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:T,rowIndex:e.getRowIndex(T),$rowIndex:e.getVMRowIndex(T),column:G,columnIndex:e.getColumnIndex(G),$columnIndex:e.getVMColumnIndex(G)},E||null)}return W.row=null,W.column=null,fe.autoClear&&(fe.msgMode!=="full"||zd().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():de().then(()=>e.updateCellAreas())},he=(E,O,L,ae)=>{const W=e.xeGrid,{editConfig:T,mouseConfig:G}=l,{editStore:fe,tableColumn:Ie}=c,Ee=y.value,{mode:Ae}=Ee,{actived:Ce,focused:De}=fe,{row:Se,column:$}=E,{editRender:ue}=$,ie=E.cell||e.getCellElement(Se,$),te=Ee.beforeEditMethod||Ee.activeMethod;if(E.cell=ie,ie&&Ct(T)&&Ct(ue)&&!e.isPendingByRow(Se)){if(Ce.row!==Se||Ae==="cell"&&Ce.column!==$){let Y="edit-disabled";if(!te||te(Object.assign(Object.assign({},E),{$table:e,$grid:W}))){G&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Ce.column&&Q(O),Y="edit-activated",$.renderHeight=ie.offsetHeight,Ce.args=E,Ce.row=Se,Ce.column=$,Ae==="row"?Ie.forEach(be=>N(Se,be)):N(Se,$);const J=Ee.afterEditMethod;de(()=>{L&&e.handleFocus(E,O),J&&J(Object.assign(Object.assign({},E),{$table:e,$grid:W}))})}e.dispatchEvent(Y,{row:Se,rowIndex:e.getRowIndex(Se),$rowIndex:e.getVMRowIndex(Se),column:$,columnIndex:e.getColumnIndex($),$columnIndex:e.getVMColumnIndex($)},O),Y==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Se,rowIndex:e.getRowIndex(Se),$rowIndex:e.getVMRowIndex(Se),column:$,columnIndex:e.getColumnIndex($),$columnIndex:e.getVMColumnIndex($)},O)}else{const{column:Y}=Ce;if(G&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),Y!==$){const{model:J}=Y;J.update&&dl(Se,Y,J.value),e.clearValidate&&e.clearValidate(Se,$)}$.renderHeight=ie.offsetHeight,Ce.args=E,Ce.column=$,ae&&setTimeout(()=>{e.handleFocus(E,O)})}De.column=null,De.row=null,e.focus()}return de()},re=(E,O,L)=>{const{editConfig:ae}=l,W=i.isString(O)?e.getColumnByField(O):O;return E&&W&&Ct(ae)&&Ct(W.editRender)?Promise.resolve(L?e.scrollToRow(E,W):null).then(()=>{const T=e.getCellElement(E,W);return T&&(he({row:E,rowIndex:e.getRowIndex(E),column:W,columnIndex:e.getColumnIndex(W),cell:T,$table:e},null,L,L),p._lastCallTime=Date.now()),de()}):de()};return d={insert(E){return K(E,null)},insertAt(E,O){return K(E,O)},insertNextAt(E,O){return K(E,O,!0)},insertChild(E,O){return le(E,O,null)},insertChildAt(E,O,L){return le(E,O,L)},insertChildNextAt(E,O,L){return le(E,O,L,!0)},remove(E){const{treeConfig:O}=l,{editStore:L}=c,{tableFullTreeData:ae,selectCheckboxMaps:W,afterFullData:T,mergeBodyList:G,tableFullData:fe,pendingRowMaps:Ie,insertRowMaps:Ee,removeRowMaps:Ae}=p,Ce=k.value,De=B.value,{transform:Se,mapChildrenField:$}=De,ue=De.children||De.childrenField,{actived:ie}=L,{checkField:te}=Ce;let Y=[];return E?i.isArray(E)||(E=[E]):E=fe,E.forEach(J=>{if(!e.isInsertByRow(J)){const be=Be(e,J);Ae[be]=J}}),te||(E.forEach(J=>{const be=Be(e,J);W[be]&&delete W[be]}),c.updateCheckboxFlag++),fe===E?(E=Y=fe.slice(0),p.tableFullData=[],p.afterFullData=[],e.clearMergeCells()):O&&Se?E.forEach(J=>{const be=Be(e,J),ee=i.findTree(ae,ce=>be===Be(e,ce),{children:$});if(ee){const ce=ee.items.splice(ee.index,1);Y.push(ce[0])}const Re=i.findTree(ae,ce=>be===Be(e,ce),{children:ue});Re&&Re.items.splice(Re.index,1);const ne=e.findRowIndexOf(T,J);ne>-1&&T.splice(ne,1)}):E.forEach(J=>{const be=e.findRowIndexOf(fe,J);if(be>-1){const Re=fe.splice(be,1);Y.push(Re[0])}const ee=e.findRowIndexOf(T,J);ee>-1&&(G.forEach(Re=>{const{row:ne,rowspan:ce}=Re;ne>ee?Re.row=ne-1:ne+ce>ee&&(Re.rowspan=ce-1)}),T.splice(ee,1))}),ie.row&&e.findRowIndexOf(E,ie.row)>-1&&d.clearEdit(),E.forEach(J=>{const be=Be(e,J);Ee[be]&&delete Ee[be],Ie[be]&&delete Ie[be]}),c.removeRowFlag++,c.insertRowFlag++,c.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(O&&Se),e.updateFooter(),e.handleUpdateBodyMerge(),O&&Se||e.updateAfterDataIndex(),e.checkSelectionStatus(),c.scrollYLoad&&e.updateScrollYSpace(),de().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:Y.length?Y[Y.length-1]:null,rows:Y}))},removeCheckboxRow(){return d.remove(e.getCheckboxRecords()).then(E=>(e.clearCheckboxRow(),E))},removeRadioRow(){const E=e.getRadioRecord();return d.remove(E||[]).then(O=>(e.clearRadioRow(),O))},removeCurrentRow(){const E=e.getCurrentRecord();return d.remove(E||[]).then(O=>(e.clearCurrentRow(),O))},getRecordset(){const E=d.getRemoveRecords(),O=e.getPendingRecords(),L=E.concat(O),ae=d.getUpdateRecords().filter(W=>!L.some(T=>e.eqRow(T,W)));return{insertRecords:d.getInsertRecords(),removeRecords:E,updateRecords:ae,pendingRecords:O}},getInsertRecords(){const{fullAllDataRowIdData:E,insertRowMaps:O}=p,L=[];return i.each(O,(ae,W)=>{E[W]&&L.push(ae)}),L},getRemoveRecords(){const{removeRowMaps:E}=p,O=[];return i.each(E,L=>{O.push(L)}),O},getUpdateRecords(){const{keepSource:E,treeConfig:O}=l,{tableFullData:L}=p,ae=B.value;return E?(oe(),O?i.filterTree(L,W=>e.isUpdateByRow(W),ae):L.filter(W=>e.isUpdateByRow(W))):[]},getActiveRecord(){return pt("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),e.getEditRecord()},getEditRecord(){const{editStore:E}=c,{afterFullData:O}=p,L=w.value,{args:ae,row:W}=E.actived;return ae&&e.findRowIndexOf(O,W)>-1&&L.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},ae):null},getSelectedCell(){const{editStore:E}=c,{args:O,column:L}=E.selected;return O&&L?Object.assign({},O):null},clearActived(E){return pt("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(E)},clearEdit(E){return Q(null,E)},clearSelected(){const{editStore:E}=c,{selected:O}=E;return O.row=null,O.column=null,_(),de()},isActiveByRow(E){return pt("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(E)},isEditByRow(E){const{editStore:O}=c;return O.actived.row===E},setActiveRow(E){return pt("vxe.error.delFunc",["setActiveRow","setEditRow"]),d.setEditRow(E)},setEditRow(E,O){const{visibleColumn:L}=p;let ae=i.find(L,T=>Ct(T.editRender)),W=!1;return O&&(W=!0,O!==!0&&(ae=i.isString(O)?e.getColumnByField(O):O)),re(E,ae,W)},setActiveCell(E,O){return pt("vxe.error.delFunc",["setActiveCell","setEditCell"]),d.setEditCell(E,O)},setEditCell(E,O){return re(E,O,!0)},setSelectCell(E,O){const{tableData:L}=c,ae=y.value,W=i.isString(O)?e.getColumnByField(O):O;if(E&&W&&ae.trigger!=="manual"){const T=e.findRowIndexOf(L,E);if(T>-1&&W){const G=e.getCellElement(E,W),fe={row:E,rowIndex:T,column:W,columnIndex:e.getColumnIndex(W),cell:G};e.handleSelected(fe,{})}}return de()}},z={handleEdit(E,O){return he(E,O,!0,!0)},handleActived(E,O){return z.handleEdit(E,O)},handleClearEdit:Q,handleFocus(E){const{row:O,column:L,cell:ae}=E,{editRender:W}=L,T=y.value;if(Ct(W)){const G=_d.get(W.name);let fe=W.autofocus||W.autoFocus,Ie=W.autoSelect||W.autoselect,Ee;if(T.autoFocus&&(!fe&&G&&(fe=G.tableAutoFocus||G.tableAutofocus||G.autofocus),!Ie&&G&&(Ie=G.tableAutoSelect||G.autoselect),i.isFunction(fe)?Ee=fe(E):fe&&(fe===!0?Ee=ae.querySelector("input,textarea"):Ee=ae.querySelector(fe),Ee&&Ee.focus())),Ee){if(Ie)Ee.select();else if(f.msie){const Ae=Ee.createTextRange();Ae.collapse(!1),Ae.select()}}else T.autoPos&&(L.fixed||e.scrollToRow(O,L))}},handleSelected(E,O){const{mouseConfig:L}=l,{editStore:ae}=c,W=x.value,T=y.value,{actived:G,selected:fe}=ae,{row:Ie,column:Ee}=E,Ae=L&&W.selected;return(()=>(Ae&&(fe.row!==Ie||fe.column!==Ee)&&(G.row!==Ie||T.mode==="cell"&&G.column!==Ee)&&(Q(O),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),fe.args=E,fe.row=Ie,fe.column=Ee,Ae&&z.addCellSelectedClass(),e.focus(),O&&e.dispatchEvent("cell-selected",E,O)),de()))()},addCellSelectedClass(){const{editStore:E}=c,{selected:O}=E,{row:L,column:ae}=O;if(_(),L&&ae){const W=e.getCellElement(L,ae);W&&cl(W,"col--selected")}}},Object.assign(Object.assign({},d),z)},setupGrid(e){return e.extendTableMethods(Gd)}});const qd='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Xd(e,l){return new Blob([e],{type:`text/${l.type};charset=utf-8;`})}function Kd(e,l){const{style:c}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${qd}</style>`,c?`<style>${c}</style>`:"","</head>",`<body>${l}</body>`,"</html>"].join("")}const{getI18n:bl,hooks:Yd,renderer:ws}=ge;let En;const Ud="\uFEFF",Zl=`\r
`;function kr(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const ya=e=>{const l=[];return e.forEach(c=>{c.childNodes&&c.childNodes.length?(l.push(c),l.push(...ya(c.childNodes))):l.push(c)}),l},Zd=e=>{let l=1;const c=(x,y)=>{if(y&&(x._level=y._level+1,l<x._level&&(l=x._level)),x.childNodes&&x.childNodes.length){let k=0;x.childNodes.forEach(B=>{c(B,x),k+=B._colSpan}),x._colSpan=k}else x._colSpan=1};e.forEach(x=>{x._level=1,c(x)});const p=[];for(let x=0;x<l;x++)p.push([]);return ya(e).forEach(x=>{x.childNodes&&x.childNodes.length?x._rowSpan=1:x._rowSpan=l-x._level+1,p[x._level-1].push(x)}),p};function Qd(e){return e===!0?"full":e||"default"}function yn(e){return e==="TRUE"||e==="true"||e===!0}function Ar(e,l,c){const{footerFilterMethod:p}=l;return p?c.filter((w,x)=>p({$table:e,items:w,$rowIndex:x})):c}function Jd(e,l){if(l){if(e.type==="seq")return`	${l}`;switch(e.cellType){case"string":if(!isNaN(l))return`	${l}`;break;case"number":break;default:if(l.length>=12&&!isNaN(l))return`	${l}`;break}}return l}function Rn(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Xo(e,l){return e.getElementsByTagName(l)}function Gi(e){return`#${e}@${i.uniqueId()}`}function Ra(e,l){return e.replace(/#\d+@\d+/g,c=>i.hasOwnProp(l,c)?l[c]:c)}function qi(e,l){return Ra(e,l).replace(/^"+$/g,p=>'"'.repeat(Math.ceil(p.length/2)))}function zs(e,l){const{fieldMaps:c,titleMaps:p}=e;if(!c[l]){const w=p[l];w&&w.field&&(l=w.field)}return l}function Sa(e,l,c){const p=l.split(Zl),w=[];let x=[];if(p.length){const y={},k=Date.now();p.forEach(B=>{if(B){const U={};B=B.replace(/("")|(\n)/g,(d,z)=>{const N=Gi(k);return y[N]=z?'"':`
`,N}).replace(/"(.*?)"/g,(d,z)=>{const N=Gi(k);return y[N]=Ra(z,y),N});const f=B.split(c);x.length?(f.forEach((d,z)=>{z<x.length&&(U[x[z]]=qi(d.trim(),y))}),w.push(U)):x=f.map(d=>zs(e,qi(d.trim(),y)))}})}return{fields:x,rows:w}}function eu(e,l){return Sa(e,l,",")}function tu(e,l){return Sa(e,l,"	")}function ou(e,l){const p=new DOMParser().parseFromString(l,"text/html"),w=Xo(p,"body"),x=[],y=[];if(w.length){const k=Xo(w[0],"table");if(k.length){const B=Xo(k[0],"thead");if(B.length){i.arrayEach(Xo(B[0],"tr"),f=>{i.arrayEach(Xo(f,"th"),d=>{y.push(zs(e,d.textContent||""))})});const U=Xo(k[0],"tbody");U.length&&i.arrayEach(Xo(U[0],"tr"),f=>{const d={};i.arrayEach(Xo(f,"td"),(z,N)=>{y[N]&&(d[y[N]]=z.textContent||"")}),x.push(d)})}}}return{fields:y,rows:x}}function lu(e,l){const p=new DOMParser().parseFromString(l,"application/xml"),w=Xo(p,"Worksheet"),x=[],y=[];if(w.length){const k=Xo(w[0],"Table");if(k.length){const B=Xo(k[0],"Row");B.length&&(i.arrayEach(Xo(B[0],"Cell"),U=>{y.push(zs(e,U.textContent||""))}),i.arrayEach(B,(U,f)=>{if(f){const d={},z=Xo(U,"Cell");i.arrayEach(z,(N,M)=>{y[M]&&(d[y[M]]=N.textContent)}),x.push(d)}}))}}return{fields:y,rows:x}}function Xi(e){i.eachTree(e,l=>{delete l._level,delete l._colSpan,delete l._rowSpan,delete l._children,delete l.childNodes},{children:"children"})}const nu=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];Yd.add("tableExportModule",{setupTable(e){const{props:l,reactData:c,internalData:p}=e,{computeTreeOpts:w,computePrintOpts:x,computeExportOpts:y,computeImportOpts:k,computeCustomOpts:B,computeSeqOpts:U,computeRadioOpts:f,computeCheckboxOpts:d,computeColumnOpts:z}=e.getComputeMaps(),N=Ho("$xeGrid",null),M=$=>{const ue=w.value,ie=ue.children||ue.childrenField;return $[ie]&&$[ie].length},_=($,ue,ie,te,Y)=>{const be=U.value.seqMethod||te.seqMethod;return be?be({$table:e,row:ue,rowIndex:e.getRowIndex(ue),$rowIndex:ie,column:te,columnIndex:e.getColumnIndex(te),$columnIndex:Y}):$};function oe($,ue){const ie=z.value,te=ue.headerExportMethod||ie.headerExportMethod;return te?te({column:ue,options:$,$table:e}):($.isTitle?ue.getTitle():ue.field)||""}const V=$=>i.isBoolean($)?$?"TRUE":"FALSE":$,K=$=>Ml($)?"":`${$}`,le=($,ue,ie)=>{const{isAllExpand:te,mode:Y}=$,{treeConfig:J}=l,be=f.value,ee=d.value,Re=w.value,ne=z.value;if(En||(En=document.createElement("div")),J){const ce=Re.children||Re.childrenField,Me=[],me=new Map;return i.eachTree(ie,(Z,Fe,we,Ye,_e,Xe)=>{const He=Z._row||Z,nt=_e&&_e._row?_e._row:_e;if(te||!nt||me.has(nt)&&e.isTreeExpandByRow(nt)){const yt=M(He),Et={_row:He,_level:Xe.length-1,_hasChild:yt,_expand:yt&&e.isTreeExpandByRow(He)};ue.forEach((rt,gt)=>{let vt="";const qe=rt.editRender||rt.cellRender;let Ge=rt.exportMethod||ne.exportMethod;if(!Ge&&qe&&qe.name){const ut=ws.get(qe.name);ut&&(Ge=ut.tableExportMethod||ut.exportMethod)}if(Ge||(Ge=ne.exportMethod),Ge)vt=Ge({$table:e,row:He,column:rt,options:$});else switch(rt.type){case"seq":{const ut=Ye.map((We,st)=>st%2===0?Number(We)+1:".").join("");vt=Y==="all"?ut:_(ut,He,Fe,rt,gt);break}case"checkbox":vt=V(e.isCheckedByCheckboxRow(He)),Et._checkboxLabel=ee.labelField?i.get(He,ee.labelField):"",Et._checkboxDisabled=ee.checkMethod&&!ee.checkMethod({$table:e,row:He});break;case"radio":vt=V(e.isCheckedByRadioRow(He)),Et._radioLabel=be.labelField?i.get(He,be.labelField):"",Et._radioDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:He});break;default:if($.original)vt=bo(He,rt);else if(vt=e.getCellLabel(He,rt),rt.type==="html")En.innerHTML=vt,vt=En.innerText.trim();else{const ut=e.getCellElement(He,rt);ut&&!Fl(ut,"is--progress")&&(vt=ut.innerText.trim())}}Et[rt.id]=K(vt)}),me.set(He,1),Me.push(Object.assign(Et,He))}},{children:ce}),Me}return ie.map((ce,Me)=>{const me={_row:ce};return ue.forEach((Z,Fe)=>{let we="";const Ye=Z.editRender||Z.cellRender;let _e=Z.exportMethod||ne.exportMethod;if(!_e&&Ye&&Ye.name){const Xe=ws.get(Ye.name);Xe&&(_e=Xe.tableExportMethod||Xe.exportMethod)}if(_e)we=_e({$table:e,row:ce,column:Z,options:$});else switch(Z.type){case"seq":{const Xe=Me+1;we=Y==="all"?Xe:_(Xe,ce,Me,Z,Fe);break}case"checkbox":we=V(e.isCheckedByCheckboxRow(ce)),me._checkboxLabel=ee.labelField?i.get(ce,ee.labelField):"",me._checkboxDisabled=ee.checkMethod&&!ee.checkMethod({$table:e,row:ce});break;case"radio":we=V(e.isCheckedByRadioRow(ce)),me._radioLabel=be.labelField?i.get(ce,be.labelField):"",me._radioDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:ce});break;default:if($.original)we=bo(ce,Z);else if(we=e.getCellLabel(ce,Z),Z.type==="html")En.innerHTML=we,we=En.innerText.trim();else{const Xe=e.getCellElement(ce,Z);Xe&&!Fl(Xe,"is--progress")&&(we=Xe.innerText.trim())}}me[Z.id]=K(we)}),me})},Q=$=>{const{columns:ue,dataFilterMethod:ie}=$;let te=$.data;return ie&&(te=te.filter((Y,J)=>ie({$table:e,row:Y,$rowIndex:J}))),le($,ue,te)},he=($,ue,ie)=>{const te=z.value,Y=ie.editRender||ie.cellRender;let J=ie.footerExportMethod;if(!J&&Y&&Y.name){const ee=ws.get(Y.name);ee&&(J=ee.tableFooterExportMethod||ee.footerExportMethod)}J||(J=te.footerExportMethod);const be=e.getVTColumnIndex(ie);return J?J({$table:e,items:ue,itemIndex:be,row:ue,_columnIndex:be,column:ie,options:$}):i.isArray(ue)?i.toValueString(ue[be]):i.get(ue,ie.field)},re=($,ue,ie,te)=>{let Y=Ud;if(ue.isHeader&&(Y+=ie.map(J=>Rn(oe(ue,J))).join(",")+Zl),te.forEach(J=>{Y+=ie.map(be=>Rn(Jd(be,J[be.id]))).join(",")+Zl}),ue.isFooter){const{footerTableData:J}=c;Ar($,ue,J).forEach(ee=>{Y+=ie.map(Re=>Rn(he(ue,ee,Re))).join(",")+Zl})}return Y},E=($,ue,ie,te)=>{let Y="";if(ue.isHeader&&(Y+=ie.map(J=>Rn(oe(ue,J))).join("	")+Zl),te.forEach(J=>{Y+=ie.map(be=>Rn(J[be.id])).join("	")+Zl}),ue.isFooter){const{footerTableData:J}=c;Ar($,ue,J).forEach(ee=>{Y+=ie.map(Re=>Rn(he(ue,ee,Re))).join("	")+Zl})}return Y},O=($,ue,ie)=>{const te=$[ue],Y=i.isUndefined(te)||i.isNull(te)?ie:te;let Re=Y==="title"||(Y===!0||Y==="tooltip")||Y==="ellipsis";const{scrollXLoad:ne,scrollYLoad:ce}=c;return(ne||ce)&&!Re&&(Re=!0),Re},L=($,ue,ie)=>{const{id:te,border:Y,treeConfig:J,headerAlign:be,align:ee,footerAlign:Re,showOverflow:ne,showHeaderOverflow:ce}=l,{isAllSelected:Me,isIndeterminate:me}=c,{mergeBodyCellMaps:Z}=p,Fe=w.value,{print:we,isHeader:Ye,isFooter:_e,isColgroup:Xe,isMerge:He,colgroups:nt,original:yt}=$,Et="check-all",gt=[`<table class="${["vxe-table",`border--${Qd(Y)}`,we?"is--print":"",Ye?"is--header":""].filter(qe=>qe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${ue.map(qe=>`<col style="width:${qe.renderWidth}px">`).join("")}</colgroup>`];if(Ye&&(gt.push("<thead>"),Xe&&!yt?nt.forEach(qe=>{gt.push(`<tr>${qe.map(Ge=>{const ut=Ge.headerAlign||Ge.align||be||ee,We=O(Ge,"showHeaderOverflow",ce)?["col--ellipsis"]:[],st=oe($,Ge);let xe=0,Le=0;i.eachTree([Ge],Qe=>{(!Qe.childNodes||!Ge.childNodes.length)&&Le++,xe+=Qe.renderWidth},{children:"childNodes"});const ot=xe-Le;return ut&&We.push(`col--${ut}`),Ge.type==="checkbox"?`<th class="${We.join(" ")}" colspan="${Ge._colSpan}" rowspan="${Ge._rowSpan}"><div ${we?"":`style="width: ${ot}px"`}><input type="checkbox" class="${Et}" ${Me?"checked":""}><span>${st}</span></div></th>`:`<th class="${We.join(" ")}" colspan="${Ge._colSpan}" rowspan="${Ge._rowSpan}" title="${st}"><div ${we?"":`style="width: ${ot}px"`}><span>${Eo(st,!0)}</span></div></th>`}).join("")}</tr>`)}):gt.push(`<tr>${ue.map(qe=>{const Ge=qe.headerAlign||qe.align||be||ee,ut=O(qe,"showHeaderOverflow",ce)?["col--ellipsis"]:[],We=oe($,qe);return Ge&&ut.push(`col--${Ge}`),qe.type==="checkbox"?`<th class="${ut.join(" ")}"><div ${we?"":`style="width: ${qe.renderWidth}px"`}><input type="checkbox" class="${Et}" ${Me?"checked":""}><span>${We}</span></div></th>`:`<th class="${ut.join(" ")}" title="${We}"><div ${we?"":`style="width: ${qe.renderWidth}px"`}><span>${Eo(We,!0)}</span></div></th>`}).join("")}</tr>`),gt.push("</thead>")),ie.length&&(gt.push("<tbody>"),J?ie.forEach(qe=>{gt.push("<tr>"+ue.map(Ge=>{const ut=Ge.id,We=Ge.align||ee,st=O(Ge,"showOverflow",ne)?["col--ellipsis"]:[],xe=qe[ut];if(We&&st.push(`col--${We}`),Ge.treeNode){let Le="";return qe._hasChild&&(Le=`<i class="${qe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),st.push("vxe-table--tree-node"),Ge.type==="radio"?`<td class="${st.join(" ")}" title="${xe}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${qe._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Le}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${te}" ${qe._radioDisabled?"disabled ":""}${yn(xe)?"checked":""}><span>${qe._radioLabel}</span></div></div></div></td>`:Ge.type==="checkbox"?`<td class="${st.join(" ")}" title="${xe}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${qe._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Le}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${qe._checkboxDisabled?"disabled ":""}${yn(xe)?"checked":""}><span>${qe._checkboxLabel}</span></div></div></div></td>`:`<td class="${st.join(" ")}" title="${xe}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${qe._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Le}</div><div class="vxe-table--tree-cell">${xe}</div></div></div></td>`}return Ge.type==="radio"?`<td class="${st.join(" ")}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><input type="radio" name="radio_${te}" ${qe._radioDisabled?"disabled ":""}${yn(xe)?"checked":""}><span>${qe._radioLabel}</span></div></td>`:Ge.type==="checkbox"?`<td class="${st.join(" ")}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><input type="checkbox" ${qe._checkboxDisabled?"disabled ":""}${yn(xe)?"checked":""}><span>${qe._checkboxLabel}</span></div></td>`:`<td class="${st.join(" ")}" title="${xe}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}>${Eo(xe,!0)}</div></td>`}).join("")+"</tr>")}):ie.forEach(qe=>{gt.push("<tr>"+ue.map(Ge=>{const ut=Ge.align||ee,We=O(Ge,"showOverflow",ne)?["col--ellipsis"]:[],st=qe[Ge.id];let xe=1,Le=1;if(He){const ot=e.getVTRowIndex(qe._row),Qe=e.getVTColumnIndex(Ge),X=Z[`${ot}:${Qe}`];if(X){const{rowspan:pe,colspan:se}=X;if(!pe||!se)return"";pe>1&&(xe=pe),se>1&&(Le=se)}}return ut&&We.push(`col--${ut}`),Ge.type==="radio"?`<td class="${We.join(" ")}" rowspan="${xe}" colspan="${Le}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><input type="radio" name="radio_${te}" ${qe._radioDisabled?"disabled ":""}${yn(st)?"checked":""}><span>${qe._radioLabel}</span></div></td>`:Ge.type==="checkbox"?`<td class="${We.join(" ")}" rowspan="${xe}" colspan="${Le}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}><input type="checkbox" ${qe._checkboxDisabled?"disabled ":""}${yn(st)?"checked":""}><span>${qe._checkboxLabel}</span></div></td>`:`<td class="${We.join(" ")}" rowspan="${xe}" colspan="${Le}" title="${st}"><div ${we?"":`style="width: ${Ge.renderWidth}px"`}>${Eo(st,!0)}</div></td>`}).join("")+"</tr>")}),gt.push("</tbody>")),_e){const{footerTableData:qe}=c,Ge=Ar(e,$,qe);Ge.length&&(gt.push("<tfoot>"),Ge.forEach(ut=>{gt.push(`<tr>${ue.map(We=>{const st=We.footerAlign||We.align||Re||ee,xe=O(We,"showOverflow",ne)?["col--ellipsis"]:[],Le=he($,ut,We);return st&&xe.push(`col--${st}`),`<td class="${xe.join(" ")}" title="${Le}"><div ${we?"":`style="width: ${We.renderWidth}px"`}>${Eo(Le,!0)}</div></td>`}).join("")}</tr>`)}),gt.push("</tfoot>"))}const vt=!Me&&me?`<script>(function(){var a=document.querySelector(".${Et}");if(a){a.indeterminate=true}})()<\/script>`:"";return gt.push("</table>",vt),we?gt.join(""):Kd($,gt.join(""))},ae=($,ue,ie)=>{let te=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${$.sheetName}">`,"<Table>",ue.map(Y=>`<Column ss:Width="${Y.renderWidth}"/>`).join("")].join("");if($.isHeader&&(te+=`<Row>${ue.map(Y=>`<Cell><Data ss:Type="String">${oe($,Y)}</Data></Cell>`).join("")}</Row>`),ie.forEach(Y=>{te+="<Row>"+ue.map(J=>`<Cell><Data ss:Type="String">${Y[J.id]}</Data></Cell>`).join("")+"</Row>"}),$.isFooter){const{footerTableData:Y}=c;Ar(e,$,Y).forEach(be=>{te+=`<Row>${ue.map(ee=>`<Cell><Data ss:Type="String">${he($,be,ee)}</Data></Cell>`).join("")}</Row>`})}return`${te}</Table></Worksheet></Workbook>`},W=($,ue,ie,te)=>{if(ie.length)switch(ue.type){case"csv":return re($,ue,ie,te);case"txt":return E($,ue,ie,te);case"html":return L(ue,ie,te);case"xml":return ae(ue,ie,te)}return""},T=($,ue)=>{const{filename:ie,type:te,download:Y}=$;if(!Y){const J=Xd(ue,$);return Promise.resolve({type:te,content:ue,blob:J})}ge.saveFile&&ge.saveFile({filename:ie,type:te,content:ue}).then(()=>{$.message!==!1&&ge.modal&&ge.modal.message({content:bl("vxe.table.expSuccess"),status:"success"})})},G=$=>{const{remote:ue,columns:ie,colgroups:te,exportMethod:Y,afterExportMethod:J}=$;return new Promise(be=>{if(ue){const ee={options:$,$table:e,$grid:N};be(Y?Y(ee):ee)}else{const ee=Q($);be(e.preventEvent(null,"event.export",{options:$,columns:ie,colgroups:te,datas:ee},()=>T($,W(e,$,ie,ee))))}}).then(be=>(Xi(ie),$.print||J&&J({status:!0,options:$,$table:e,$grid:N}),Object.assign({status:!0},be))).catch(()=>{Xi(ie),$.print||J&&J({status:!1,options:$,$table:e,$grid:N});const be={status:!1};return Promise.reject(be)})},fe=($,ue)=>{const{tableFullColumn:ie,_importResolve:te,_importReject:Y}=p;let J={fields:[],rows:[]};const be={},ee={};ie.forEach(me=>{const Z=me.field,Fe=me.getTitle();Z&&(be[Z]=me),Fe&&(ee[me.getTitle()]=me)});const Re={fieldMaps:be,titleMaps:ee};switch(ue.type){case"csv":J=eu(Re,$);break;case"txt":J=tu(Re,$);break;case"html":J=ou(Re,$);break;case"xml":J=lu(Re,$);break}const{fields:ne,rows:ce}=J;ne.some(me=>be[me]||ee[me])?e.createData(ce).then(me=>{let Z;return(ue.mode==="insert"||ue.mode==="insertBottom")&&(Z=e.insertAt(me,-1)),ue.mode==="insertTop"?Z=e.insert(me):Z=e.reloadData(me),ue.message!==!1&&ge.modal&&ge.modal.message({content:bl("vxe.table.impSuccess",[ce.length]),status:"success"}),Z.then(()=>{te&&te({status:!0})})}):ue.message!==!1&&(ge.modal&&ge.modal.message({content:bl("vxe.error.impFields"),status:"error"}),Y&&Y({status:!1}))},Ie=($,ue)=>{const{importMethod:ie,afterImportMethod:te}=ue,{type:Y,filename:J}=la($),be=k.value;if(!ie&&!i.includes(i.keys(be._typeMaps),Y)){ue.message!==!1&&ge.modal&&ge.modal.message({content:bl("vxe.error.notType",[Y]),status:"error"});const Re={status:!1};return Promise.reject(Re)}return new Promise((Re,ne)=>{const ce=me=>{Re(me),p._importResolve=null,p._importReject=null},Me=me=>{ne(me),p._importResolve=null,p._importReject=null};if(p._importResolve=ce,p._importReject=Me,window.FileReader){const me=Object.assign({mode:"insertTop"},ue,{type:Y,filename:J});if(me.remote)ie?Promise.resolve(ie({file:$,options:me,$table:e})).then(()=>{ce({status:!0})}).catch(()=>{ce({status:!0})}):ce({status:!0});else{const{tableFullColumn:Z}=p;e.preventEvent(null,"event.import",{file:$,options:me,columns:Z},()=>{const Fe=new FileReader;Fe.onerror=()=>{ze("vxe.error.notType",[Y]),Me({status:!1})},Fe.onload=we=>{fe(we.target.result,me)},Fe.readAsText($,me.encoding||"UTF-8")})}}else ze("vxe.error.notExp"),ce({status:!0})}).then(()=>{te&&te({status:!0,options:ue,$table:e})}).catch(Re=>(te&&te({status:!1,options:ue,$table:e}),Promise.reject(Re)))},Ee=($,ue,ie)=>ie.some(te=>{if($r(te))return ue.id===te.id;if(i.isString(te))return ue.field===te;{const Y=te.id||te.colId,J=te.type,be=te.field;if(Y)return ue.id===Y;if(be&&J)return ue.field===be&&ue.type===J;if(be)return ue.field===be;if(J)return ue.type===J}return!1}),Ae=($,ue,ie,te)=>te&&i.includes(te,ue.field)?!1:ie?!!i.includes(ie,ue.field):$.original?!!ue.field:kr(ue),Ce=($,ue)=>{const{treeConfig:ie,showHeader:te,showFooter:Y}=l,{initStore:J,isGroup:be,footerTableData:ee,exportStore:Re,exportParams:ne}=c,{collectColumn:ce,mergeBodyList:Me,mergeFooterList:me}=p,Z=y.value,Fe=ie,we=B.value,Ye=e.getCheckboxRecords(),_e=N?N.getComputeMaps().computeProxyOpts.value:{},Xe=!!ee.length,He=!!(Me.length||me.length),nt=Object.assign({message:!0,isHeader:te,isTitle:te,isFooter:Y,isColgroup:be,isMerge:He,useStyle:!0,current:"current",modes:(_e.ajax&&_e.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},$),yt=nt.types||i.keys(Z._typeMaps),Et=nt.modes||[],rt=we.checkMethod,gt=ce.slice(0),{columns:vt,excludeFields:qe,includeFields:Ge}=nt,ut=yt.map(Qe=>({value:Qe,label:bl(`vxe.export.types.${Qe}`)})),We=Et.map(Qe=>Qe&&Qe.value?{value:Qe.value,label:Qe.label||Qe.value}:{value:Qe,label:bl(`vxe.export.modes.${Qe}`)});i.eachTree(gt,(Qe,X,pe,se,Oe)=>{const ke=Qe.children&&Qe.children.length>0;let lt=!1;vt&&vt.length?lt=Ee(nt,Qe,vt):qe||Ge?lt=Ae(nt,Qe,Ge,qe):lt=Qe.visible&&(ke||kr(Qe)),Qe.checked=lt,Qe.halfChecked=!1,Qe.disabled=Oe&&Oe.disabled||(rt?!rt({$table:e,column:Qe}):!1)}),Object.assign(Re,{columns:gt,typeList:ut,modeList:We,hasFooter:Xe,hasMerge:He,hasTree:Fe,isPrint:ue,hasColgroup:be,visible:!0}),Object.assign(ne,{mode:Ye.length?"selected":"current"},nt);const{filename:st,sheetName:xe,mode:Le,type:ot}=ne;return st&&(i.isFunction(st)?ne.filename=st({options:nt,$table:e,$grid:N}):ne.filename=`${st}`),xe&&(i.isFunction(xe)?ne.sheetName=xe({options:nt,$table:e,$grid:N}):ne.sheetName=`${xe}`),We.some(Qe=>Qe.value===Le)||(ne.mode=We[0].value),ut.some(Qe=>Qe.value===ot)||(ne.type=ut[0].value),J.export=!0,de()},De=()=>ge.modal?ge.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Se={exportData($){const{treeConfig:ue,showHeader:ie,showFooter:te}=l,{isGroup:Y}=c,{tableFullColumn:J,afterFullData:be,collectColumn:ee,mergeBodyList:Re,mergeFooterList:ne}=p,ce=y.value,Me=w.value,me=N?N.getComputeMaps().computeProxyOpts.value:{},Z=!!(Re.length||ne.length),Fe=Object.assign({message:!0,isHeader:ie,isTitle:ie,isFooter:te,isColgroup:Y,isMerge:Z,useStyle:!0,current:"current",modes:(me.ajax&&me.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},ce,$);let{filename:we,sheetName:Ye,type:_e,mode:Xe,columns:He,original:nt,columnFilterMethod:yt,beforeExportMethod:Et,includeFields:rt,excludeFields:gt}=Fe,vt=[];const qe=e.getCheckboxRecords();Xe||(Xe=qe.length?"selected":"current");let Ge=!1,ut=[];He&&He.length?(Ge=!0,ut=He):ut=i.searchTree(ee,xe=>{const Le=xe.children&&xe.children.length>0;let ot=!1;return He&&He.length?ot=Ee(Fe,xe,He):gt||rt?ot=Ae(Fe,xe,rt,gt):ot=xe.visible&&(Le||kr(xe)),ot},{children:"children",mapChildren:"childNodes",original:!0});const We=Object.assign({},Fe,{filename:"",sheetName:""});!Ge&&!yt&&(yt=({column:xe})=>gt&&i.includes(gt,xe.field)?!1:rt?!!i.includes(rt,xe.field):nt?!!xe.field:kr(xe),We.columnFilterMethod=yt),ut?(We._isCustomColumn=!0,vt=i.searchTree(i.mapTree(ut,xe=>{let Le;if(xe){if($r(xe))Le=xe;else if(i.isString(xe))Le=e.getColumnByField(xe);else{const ot=xe.id||xe.colId,Qe=xe.type,X=xe.field;ot?Le=e.getColumnById(ot):X&&Qe?Le=J.find(pe=>pe.field===X&&pe.type===Qe):X?Le=e.getColumnByField(X):Qe&&(Le=J.find(pe=>pe.type===Qe))}return Le||{}}},{children:"childNodes",mapChildren:"_children"}),(xe,Le)=>$r(xe)&&(!yt||yt({$table:e,column:xe,$columnIndex:Le})),{children:"_children",mapChildren:"childNodes",original:!0})):vt=i.searchTree(Y?ee:J,(xe,Le)=>xe.visible&&(!yt||yt({$table:e,column:xe,$columnIndex:Le})),{children:"children",mapChildren:"childNodes",original:!0});const st=[];if(i.eachTree(vt,xe=>{xe.children&&xe.children.length||st.push(xe)},{children:"childNodes"}),We.columns=st,We.colgroups=Zd(vt),we&&(i.isFunction(we)?We.filename=we({options:Fe,$table:e,$grid:N}):We.filename=`${we}`),We.filename||(We.filename=bl(We.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[i.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ye&&(i.isFunction(Ye)?We.sheetName=Ye({options:Fe,$table:e,$grid:N}):We.sheetName=`${Ye}`),We.sheetName||(We.sheetName=document.title||""),!We.exportMethod&&!i.includes(i.keys(ce._typeMaps),_e)){ze("vxe.error.notType",[_e]),["xlsx","pdf"].includes(_e)&&pt("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const xe={status:!1};return Promise.reject(xe)}if(We.print||Et&&Et({options:We,$table:e,$grid:N}),!We.data){if(We.data=[],Xe==="selected")["html","pdf"].indexOf(_e)>-1&&ue?We.data=i.searchTree(e.getTableData().fullData,xe=>e.findRowIndexOf(qe,xe)>-1,Object.assign({},Me,{data:"_row"})):We.data=qe;else if(Xe==="all"&&(N||ze("vxe.error.errProp",["all","mode=current,selected"]),N&&!We.remote)){const xe=N.reactData,{computeProxyOpts:Le}=N.getComputeMaps(),ot=Le.value,{sortData:Qe}=xe,{beforeQueryAll:X,afterQueryAll:pe,ajax:se={}}=ot,Oe=ot.response||ot.props||{},ke=se.queryAll,lt=se.queryAllSuccess,it=se.queryAllError;if(ke||ze("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),ke){const xt={$table:e,$grid:N,sort:Qe.length?Qe[0]:{},sorts:Qe,filters:xe.filterData,form:xe.formData,options:We};return Promise.resolve((X||ke)(xt)).then(mt=>{const Ot=Oe.list;return We.data=(Ot?i.isFunction(Ot)?Ot({data:mt,$grid:N}):i.get(mt,Ot):mt)||[],pe&&pe(xt),lt&&lt(Object.assign(Object.assign({},xt),{response:mt})),G(We)}).catch(mt=>{it&&it(Object.assign(Object.assign({},xt),{response:mt}))})}}Xe==="current"&&(We.data=be)}return G(We)},importByFile($,ue){const ie=Object.assign({},ue),{beforeImportMethod:te}=ie;return te&&te({options:ie,$table:e}),Ie($,ie)},importData($){const ue=k.value,ie=Object.assign({types:i.keys(ue._typeMaps)},ue,$),{beforeImportMethod:te,afterImportMethod:Y}=ie;return te&&te({options:ie,$table:e}),ge.readFile(ie).catch(J=>(Y&&Y({status:!1,options:ie,$table:e}),Promise.reject(J))).then(J=>{const{file:be}=J;return Ie(be,ie)})},saveFile($){return ge.saveFile($)},readFile($){return ge.readFile($)},print($){const ue=x.value,ie=Object.assign({original:!1},ue,$,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:te}=ie;let Y="";te&&(i.isFunction(te)?Y=te({options:ie,$table:e,$grid:N}):Y=`${te}`),Y||(Y=document.title||"");const J=ie.beforePrintMethod,be=ie.html||ie.content;return new Promise((ee,Re)=>{ge.print?ee(be?ge.print({title:Y,html:be,customStyle:ie.style,beforeMethod:J?({html:ne})=>J({html:ne,content:ne,options:ie,$table:e}):void 0}):Se.exportData(ie).then(({content:ne})=>ge.print({title:Y,html:ne,customStyle:ie.style,beforeMethod:J?({html:ce})=>J({html:ce,content:ce,options:ie,$table:e}):void 0}))):Re({status:!1})})},getPrintHtml($){const ue=x.value,ie=Object.assign({original:!1},ue,$,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ie).then(({content:te})=>({html:te}))},closeImport(){return ge.modal?ge.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport($){const{treeConfig:ue,importConfig:ie}=l,{initStore:te,importStore:Y,importParams:J}=c,be=k.value,ee=Object.assign({mode:"insertTop",message:!0,types:i.keys(be._typeMaps),modes:["insertTop","covering"]},be,$),Re=ee.types||[],ne=ee.modes||[];if(!!ue){ee.message&&ge.modal&&ge.modal.message({content:bl("vxe.error.treeNotImp"),status:"error"});return}ie||ze("vxe.error.reqProp",["import-config"]);const Me=Re.map(Z=>({value:Z,label:bl(`vxe.export.types.${Z}`)})),me=ne.map(Z=>Z&&Z.value?{value:Z.value,label:Z.label||Z.value}:{value:Z,label:bl(`vxe.import.modes.${Z}`)});Object.assign(Y,{file:null,type:"",filename:"",modeList:me,typeList:Me,visible:!0}),Object.assign(J,ee),me.some(Z=>Z.value===J.mode)||(J.mode=me[0].value),te.import=!0},closeExport:De,openExport($){const ue=y.value,ie=Object.assign({message:!0,types:i.keys(ue._typeMaps)},ue,$);return l.exportConfig||ze("vxe.error.reqProp",["export-config"]),Ce(ie)},closePrint:De,openPrint($){const ue=x.value,ie=Object.assign({message:!0},ue,$);return l.printConfig||ze("vxe.error.reqProp",["print-config"]),Ce(ie,!0)}};return Se},setupGrid(e){return e.extendTableMethods(nu)}});const{hooks:ru}=ge,su=i.browse();function iu(e,l){let c=0,p=0;const w=!su.firefox&&Fl(e,"vxe-checkbox--label");if(w){const x=getComputedStyle(e);c-=i.toNumber(x.paddingTop),p-=i.toNumber(x.paddingLeft)}for(;e&&e!==l;)if(c+=e.offsetTop,p+=e.offsetLeft,e=e.offsetParent,w){const x=getComputedStyle(e);c-=i.toNumber(x.paddingTop),p-=i.toNumber(x.paddingLeft)}return{offsetTop:c,offsetLeft:p}}ru.add("tableKeyboardModule",{setupTable(e){const{props:l,reactData:c,internalData:p}=e,{refElem:w}=e.getRefMaps(),{computeEditOpts:x,computeCheckboxOpts:y,computeMouseOpts:k,computeTreeOpts:B,computeRowOpts:U,computeColumnOpts:f,computeCellOpts:d,computeDefaultRowHeight:z,computeCurrentRowOpts:N,computeCurrentColumnOpts:M}=e.getComputeMaps();function _(Q,he,re,E,O,L){const{showOverflow:ae}=l,{fullAllDataRowIdData:W,isResizeCellHeight:T}=p,G=U.value,fe=d.value,Ie=z.value,{row:Ee}=he;let Ae=0,Ce=[],De=0;const Se=L>0,{scrollYLoad:$}=c,{afterFullData:ue}=p;if(Se?De=O+L:De=E.height-O+Math.abs(L),$){const ie=e.getVTRowIndex(Ee);if(!(T||fe.height||G.height)&&ae)Se?Ce=ue.slice(ie,ie+Math.ceil(De/Ie)):Ce=ue.slice(ie-Math.floor(De/Ie),ie+1);else if(Se)for(let Y=ie;Y<ue.length;Y++){const J=ue[Y],be=e.getRowid(J),ee=W[be]||{};if(Ae+=ee.resizeHeight||fe.height||G.height||ee.height||Ie,Ce.push(J),Ae>De)return Ce}else for(let Y=ie;Y>=0;Y--){const J=ue[Y],be=e.getRowid(J),ee=W[be]||{};if(Ae+=ee.resizeHeight||fe.height||G.height||ee.height||Ie,Ce.push(J),Ae>De)return Ce}}else{const ie=Se?"next":"previous";for(;re&&Ae<De;){const te=e.getRowNode(re);te&&(Ce.push(te.item),Ae+=re.offsetHeight,re=re[`${ie}ElementSibling`])}}return Ce}const oe=(Q,he)=>{const{elemStore:re}=p,E=Je(re["main-body-scroll"]),O=Je(re["left-body-scroll"]),L=Je(re["right-body-scroll"]),{column:ae,cell:W}=he;if(ae.type==="checkbox"){let T=E;if(O&&ae.fixed==="left"?T=O:L&&ae.fixed==="right"&&(T=L),!T)return;const G=w.value,fe=Q.clientX,Ie=Q.clientY,Ee=T.querySelector(".vxe-table--checkbox-range"),Ae=W.parentElement,Ce=e.getCheckboxRecords();let De=[];const Se=1,$=iu(Q.target,T),ue=$.offsetTop+Q.offsetY,ie=$.offsetLeft+Q.offsetX,te=T.scrollTop,Y=Ae.offsetHeight,J=Ae.getBoundingClientRect(),be=Ie-J.y;let ee=null,Re=!1,ne=1;const ce=(Fe,we)=>{e.dispatchEvent(`checkbox-range-${Fe}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},we)},Me=Fe=>{const{clientX:we,clientY:Ye}=Fe,_e=we-fe,Xe=Ye-Ie+(T.scrollTop-te);let He=Math.abs(Xe),nt=Math.abs(_e),yt=ue,Et=ie;Xe<Se?(yt+=Xe,yt<Se&&(yt=Se,He=ue)):He=Math.min(He,T.scrollHeight-ue-Se),_e<Se?(Et+=_e,nt>ie&&(Et=Se,nt=ie)):nt=Math.min(nt,T.clientWidth-ie-Se),Ee.style.height=`${He}px`,Ee.style.width=`${nt}px`,Ee.style.left=`${Et}px`,Ee.style.top=`${yt}px`,Ee.style.display="block";const rt=_(Fe,he,Ae,J,be,Xe<Se?-He:He);if(He>10&&rt.length!==De.length){const gt=lr(Fe);De=rt,gt?rt.forEach(vt=>{e.handleBatchSelectRows([vt],Ce.indexOf(vt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(rt,!0,!1)),ce("change",Fe)}},me=()=>{clearTimeout(ee),ee=null},Z=Fe=>{me(),ee=setTimeout(()=>{if(ee){const{scrollLeft:we,scrollTop:Ye,clientHeight:_e,scrollHeight:Xe}=T,He=Math.ceil(ne*50/Y);Re?Ye+_e<Xe?(e.scrollTo(we,Ye+He),Z(Fe),Me(Fe)):me():Ye?(e.scrollTo(we,Ye-He),Z(Fe),Me(Fe)):me()}},50)};cl(G,"drag--range"),document.onmousemove=Fe=>{Fe.preventDefault(),Fe.stopPropagation();const{clientY:we}=Fe,{boundingTop:Ye}=Br(T);we<Ye?(Re=!1,ne=Ye-we,ee||Z(Fe)):we>Ye+T.clientHeight?(Re=!0,ne=we-Ye-T.clientHeight,ee||Z(Fe)):ee&&me(),Me(Fe)},document.onmouseup=Fe=>{me(),zo(G,"drag--range"),Ee.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,ce("end",Fe)},ce("start",Q)}},V=(Q,he)=>{const{editConfig:re,checkboxConfig:E,mouseConfig:O}=l,L=y.value,ae=k.value,W=x.value;if(O&&ae.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(Q,he);E&&L.range&&oe(Q,he),O&&ae.selected&&(!re||W.mode==="cell")&&e.handleSelected(he,Q)},K=(Q,he,re,E,O,L)=>{const{afterFullData:ae,visibleColumn:W}=p,T=Object.assign({},he),G=e.getVTRowIndex(T.row),fe=e.getVTColumnIndex(T.column);return Q.preventDefault(),E&&G>0?(T.rowIndex=G-1,T.row=ae[T.rowIndex]):L&&G<ae.length-1?(T.rowIndex=G+1,T.row=ae[T.rowIndex]):re&&fe?(T.columnIndex=fe-1,T.column=W[T.columnIndex]):O&&fe<W.length-1&&(T.columnIndex=fe+1,T.column=W[T.columnIndex]),e.scrollToRow(T.row,T.column).then(()=>{T.cell=e.getCellElement(T.row,T.column),e.handleSelected(T,Q)}),T};return{moveTabSelected(Q,he,re){const{editConfig:E}=l,{afterFullData:O,visibleColumn:L}=p,ae=x.value,W=U.value,T=N.value,G=f.value,fe=M.value;let Ie,Ee,Ae;const Ce=Object.assign({},Q),De=e.getVTRowIndex(Ce.row),Se=e.getVTColumnIndex(Ce.column);re.preventDefault(),he?Se<=0?De>0&&(Ee=De-1,Ie=O[Ee],Ae=L.length-1):Ae=Se-1:Se>=L.length-1?De<O.length-1&&(Ee=De+1,Ie=O[Ee],Ae=0):Ae=Se+1;const $=L[Ae];$&&(Ie?(Ce.rowIndex=Ee,Ce.row=Ie):Ce.rowIndex=De,Ce.columnIndex=Ae,Ce.column=$,Ce.cell=e.getCellElement(Ce.row,Ce.column),W.isCurrent&&T.isFollowSelected&&e.triggerCurrentRowEvent(re,Ce),G.isCurrent&&fe.isFollowSelected&&e.triggerCurrentColumnEvent(re,Ce),E?(ae.trigger==="click"||ae.trigger==="dblclick")&&(ae.mode==="row"?e.handleEdit(Ce,re):e.scrollToRow(Ce.row,Ce.column).then(()=>{e.handleSelected(Ce,re)})):e.scrollToRow(Ce.row,Ce.column).then(()=>{e.handleSelected(Ce,re)}))},moveCurrentRow(Q,he,re){const{treeConfig:E}=l,{currentRow:O}=c,{afterFullData:L}=p,ae=B.value,W=ae.children||ae.childrenField;let T;if(O)if(E){const{index:G,items:fe}=i.findTree(L,Ie=>Ie===O,{children:W});Q&&G>0?T=fe[G-1]:he&&G<fe.length-1&&(T=fe[G+1])}else{const G=e.getVTRowIndex(O);Q&&G>0?T=L[G-1]:he&&G<L.length-1&&(T=L[G+1])}else T=L[0];if(T){re.preventDefault();const G={$table:e,row:T,rowIndex:e.getRowIndex(T),$rowIndex:e.getVMRowIndex(T)};e.scrollToRow(T).then(()=>e.triggerCurrentRowEvent(re,G))}},moveCurrentColumn(Q,he,re){const{currentColumn:E}=c,{visibleColumn:O}=p;let L=null;if(E){const ae=e.getVTColumnIndex(E);Q&&ae>0?L=O[ae-1]:he&&ae<O.length-1&&(L=O[ae+1])}else L=O[0];if(L){re.preventDefault();const ae={$table:e,column:L,columnIndex:e.getColumnIndex(L),$columnIndex:e.getVMColumnIndex(L)};e.scrollToColumn(L).then(()=>e.triggerCurrentColumnEvent(re,ae))}},moveArrowSelected(Q,he,re,E,O,L){const{highlightCurrentRow:ae,highlightCurrentColumn:W}=l,T=U.value,G=N.value,fe=f.value,Ie=M.value,Ee=K(L,Q,he,re,E,O);(T.isCurrent||ae)&&(G.isFollowSelected?e.triggerCurrentRowEvent(L,Ee):(re||O)&&(T.isCurrent||ae)&&e.moveCurrentRow(re,O,L)),(fe.isCurrent||W)&&(Ie.isFollowSelected?e.triggerCurrentColumnEvent(L,Ee):(he||E)&&(fe.isCurrent||W)&&e.moveCurrentColumn(he,E,L))},moveEnterSelected(Q,he,re,E,O,L){const{highlightCurrentRow:ae,highlightCurrentColumn:W}=l,T=U.value,G=N.value,fe=f.value,Ie=M.value,Ee=K(L,Q,he,re,E,O);(T.isCurrent||ae)&&G.isFollowSelected&&e.triggerCurrentRowEvent(L,Ee),(fe.isCurrent||W)&&Ie.isFollowSelected&&e.triggerCurrentColumnEvent(L,Ee)},moveSelected(Q,he,re,E,O,L){K(L,Q,he,re,E,O)},handleCellMousedownEvent:V}}});const{getConfig:au,validators:cu,hooks:du}=ge;class Qn{constructor(l){Object.assign(this,{$options:l,required:l.required,min:l.min,max:l.max,type:l.type,pattern:l.pattern,validator:l.validator,trigger:l.trigger,maxWidth:l.maxWidth})}get content(){return Cl(this.$options.content||this.$options.message)}get message(){return this.content}}function uu(e,l){return!(e&&!(i.isRegExp(e)?e:new RegExp(e)).test(l))}function Es(e,l){return!(!i.eqNull(e)&&l>i.toNumber(e))}function ys(e,l){return!(!i.eqNull(e)&&l<i.toNumber(e))}function Ki(e,l,c){const{type:p,min:w,max:x,pattern:y}=e,k=p==="array",B=p==="number",U=p==="string",f=`${l}`;if(!uu(y,f))return!1;if(k){if(!i.isArray(l)||c&&!l.length||!ys(w,l.length)||!Es(x,l.length))return!1}else if(B){const d=Number(l);if(isNaN(d)||!ys(w,d)||!Es(x,d))return!1}else if(U&&!i.isString(l)||c&&!f||!ys(w,f.length)||!Es(x,f.length))return!1;return!0}function fu(e,l){const{required:c}=e,p=i.isArray(l)?!l.length:Ml(l);if(c){if(p||!Ki(e,l,c))return!1}else if(!p&&!Ki(e,l,c))return!1;return!0}const pu=["fullValidate","validate","fullValidateField","validateField","clearValidate"];du.add("tableValidatorModule",{setupTable(e){const{props:l,reactData:c,internalData:p}=e,{refValidTooltip:w}=e.getRefMaps(),{computeValidOpts:x,computeTreeOpts:y,computeEditOpts:k}=e.getComputeMaps();let B={},U={},f;const d=M=>new Promise(_=>{x.value.autoPos===!1?(e.dispatchEvent("valid-error",M,null),_()):e.handleEdit(M,{type:"valid-error",trigger:"call"}).then(()=>{_(U.showValidTooltip(M))})}),z=M=>{if(x.value.msgMode==="single"){const oe=Object.keys(M),V={};if(oe.length){const K=oe[0];V[K]=M[K]}return V}return M},N=(M,_,oe,V)=>{const K={},{editRules:le,treeConfig:Q}=l,{afterFullData:he,pendingRowMaps:re,removeRowMaps:E}=p,O=y.value,L=O.children||O.childrenField,ae=x.value;let W;M===!0?W=he:M&&(i.isFunction(M)?oe=M:W=i.isArray(M)?M:[M]),W||(e.getInsertRecords?W=e.getInsertRecords().concat(e.getUpdateRecords()):W=[]);const T=[];p._lastCallTime=Date.now(),f=!1,B.clearValidate();const G={};if(le){const fe=_&&_.length?_:e.getColumns(),Ie=Ee=>{const Ae=Be(e,Ee);if(!E[Ae]&&!re[Ae]&&(V||!f)){const Ce=[];fe.forEach(De=>{const Se=i.isString(De)?De:De.field;(V||!f)&&i.has(le,Se)&&Ce.push(U.validCellRules("all",Ee,De).catch(({rule:$,rules:ue})=>{const ie={rule:$,rules:ue,rowIndex:e.getRowIndex(Ee),row:Ee,columnIndex:e.getColumnIndex(De),column:De,field:Se,$table:e};if(K[Se]||(K[Se]=[]),G[`${Be(e,Ee)}:${De.id}`]={column:De,row:Ee,rule:$,content:$.content},K[Se].push(ie),!V)return f=!0,Promise.reject(ie)}))}),T.push(Promise.all(Ce))}};return Q?i.eachTree(W,Ie,{children:L}):W.forEach(Ie),Promise.all(T).then(()=>{const Ee=Object.keys(K);return c.validErrorMaps=z(G),de().then(()=>{if(Ee.length)return Promise.reject(K[Ee[0]][0]);oe&&oe()})}).catch(Ee=>new Promise((Ae,Ce)=>{const De=()=>{de(()=>{oe?(oe(K),Ae()):au().validToReject==="obsolete"?Ce(K):Ae(K)})},Se=()=>{Ee.cell=e.getCellElement(Ee.row,Ee.column),qc(Ee.cell),d(Ee).then(De)};if(ae.autoPos===!1)De();else{const $=Ee.row,ue=Ee.column;e.scrollToRow($,ue).then(Se)}}))}else c.validErrorMaps={};return de().then(()=>{oe&&oe()})};return B={fullValidate(M,_){return i.isFunction(_)&&pt("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),N(M,null,_,!0)},validate(M,_){return N(M,null,_)},fullValidateField(M,_){const oe=(i.isArray(_)?_:_?[_]:[]).map(V=>to(e,V));return oe.length?N(M,oe,null,!0):de()},validateField(M,_){const oe=(i.isArray(_)?_:_?[_]:[]).map(V=>to(e,V));return oe.length?N(M,oe,null):de()},clearValidate(M,_){const{validErrorMaps:oe}=c,V=w.value,K=x.value,le=i.isArray(M)?M:M?[M]:[],Q=(i.isArray(_)?_:_?[_]:[]).map(re=>to(e,re));let he={};if(V&&V.reactData.visible&&V.close(),K.msgMode==="single")return c.validErrorMaps={},de();if(le.length&&Q.length)he=Object.assign({},oe),le.forEach(re=>{Q.forEach(E=>{const O=`${Be(e,re)}:${E.id}`;he[O]&&delete he[O]})});else if(le.length){const re=le.map(E=>`${Be(e,E)}`);i.each(oe,(E,O)=>{re.indexOf(O.split(":")[0])>-1&&(he[O]=E)})}else if(Q.length){const re=Q.map(E=>`${E.id}`);i.each(oe,(E,O)=>{re.indexOf(O.split(":")[1])>-1&&(he[O]=E)})}return c.validErrorMaps=he,de()}},U={validCellRules(M,_,oe,V){const K=e.xeGrid,{editRules:le}=l,{field:Q}=oe,he=[],re=[];if(Q&&le){const E=i.get(le,Q);if(E){const O=i.isUndefined(V)?i.get(_,Q):V;E.forEach(L=>{const{trigger:ae,validator:W}=L;if(M==="all"||!ae||M===ae)if(W){const T={cellValue:O,rule:L,rules:E,row:_,rowIndex:e.getRowIndex(_),column:oe,columnIndex:e.getColumnIndex(oe),field:oe.field,$table:e,$grid:K};let G;if(i.isString(W)){const fe=cu.get(W);if(fe){const Ie=fe.tableCellValidatorMethod||fe.cellValidatorMethod;Ie?G=Ie(T):ze("vxe.error.notValidators",[W])}else ze("vxe.error.notValidators",[W])}else G=W(T);G&&(i.isError(G)?(f=!0,he.push(new Qn({type:"custom",trigger:ae,content:G.message,rule:new Qn(L)}))):G.catch&&re.push(G.catch(fe=>{f=!0,he.push(new Qn({type:"custom",trigger:ae,content:fe&&fe.message?fe.message:L.content||L.message,rule:new Qn(L)}))})))}else fu(L,O)||(f=!0,he.push(new Qn(L)))})}}return Promise.all(re).then(()=>{if(he.length){const E={rules:he,rule:he[0]};return Promise.reject(E)}})},hasCellRules(M,_,oe){const{editRules:V}=l,{field:K}=oe;if(K&&V){const le=i.get(V,K);return le&&!!i.find(le,Q=>M==="all"||!Q.trigger||M===Q.trigger)}return!1},triggerValidate(M){const{editConfig:_,editRules:oe}=l,{editStore:V}=c,{actived:K}=V,le=k.value,Q=x.value;if(oe&&Q.msgMode==="single"&&(c.validErrorMaps={}),_&&oe&&K.row){const{row:he,column:re,cell:E}=K.args;if(U.hasCellRules(M,he,re))return U.validCellRules(M,he,re).then(()=>{le.mode==="row"&&B.clearValidate(he,re)}).catch(({rule:O})=>{if(!O.trigger||M===O.trigger){const L={rule:O,row:he,column:re,cell:E};return U.showValidTooltip(L),Promise.reject(L)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(M){const{height:_}=l,{tableData:oe,validStore:V,validErrorMaps:K}=c,{rule:le,row:Q,column:he,cell:re}=M,E=x.value,O=w.value,L=le.content;return V.visible=!0,E.msgMode==="single"?c.validErrorMaps={[`${Be(e,Q)}:${he.id}`]:{column:he,row:Q,rule:le,content:L}}:c.validErrorMaps=Object.assign({},K,{[`${Be(e,Q)}:${he.id}`]:{column:he,row:Q,rule:le,content:L}}),e.dispatchEvent("valid-error",M,null),O&&O&&(E.message==="tooltip"||E.message==="default"&&!_&&oe.length<2)?O.open(re,L):de()}},Object.assign(Object.assign({},B),U)},setupGrid(e){return e.extendTableMethods(pu)}});const gu=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];ge.hooks.add("tableCustomModule",{setupTable(e){const{reactData:l,internalData:c}=e,{computeCustomOpts:p}=e.getComputeMaps(),{refElem:w}=e.getRefMaps(),x=e.xeGrid,y=()=>{const{customStore:V}=l,K=w.value;let le=0;K&&(le=K.clientHeight-28),V.maxHeight=Math.max(88,le)},k=()=>{const{initStore:V,customStore:K}=l;return K.visible=!0,V.custom=!0,B(),M(),y(),de().then(()=>y())},B=()=>{const{customStore:V}=l,{collectColumn:K}=c;if(V.visible){const le={},Q={},he={};i.eachTree(K,re=>{const E=re.getKey();re.renderFixed=re.fixed,re.renderVisible=re.visible,re.renderResizeWidth=re.renderWidth,le[E]=re.renderSortNumber,Q[E]=re.fixed,he[E]=re.visible}),V.oldSortMaps=le,V.oldFixedMaps=Q,V.oldVisibleMaps=he,l.customColumnList=K.slice(0)}},U=()=>{const{customStore:V}=l,K=p.value;return V.visible&&(V.visible=!1,K.immediate||e.handleCustom()),de()},f=()=>{const{customColumnList:V}=l,K=p.value,{allowVisible:le,allowSort:Q,allowFixed:he,allowResizable:re}=K;return i.eachTree(V,(E,O,L,ae,W)=>{if(W)E.fixed=W.fixed;else{if(Q){const T=O+1;E.renderSortNumber=T}he&&(E.fixed=E.renderFixed)}re&&E.renderVisible&&(!E.children||E.children.length)&&E.renderResizeWidth!==E.renderWidth&&(E.resizeWidth=E.renderResizeWidth,E.renderWidth=E.renderResizeWidth),le&&(E.visible=E.renderVisible)}),l.isCustomStatus=!0,l.isDragColMove=!0,setTimeout(()=>{l.isDragColMove=!1},1e3),e.saveCustomStore("confirm")},d=()=>{const{customColumnList:V,customStore:K}=l,{oldSortMaps:le,oldFixedMaps:Q,oldVisibleMaps:he}=K,re=p.value,{allowVisible:E,allowSort:O,allowFixed:L,allowResizable:ae}=re;return i.eachTree(V,W=>{const T=W.getKey(),G=!!he[T],fe=Q[T]||"";E&&(W.renderVisible=G,W.visible=G),L&&(W.renderFixed=fe,W.fixed=fe),O&&(W.renderSortNumber=le[T]||0),ae&&(W.renderResizeWidth=W.renderWidth)},{children:"children"}),de()},z=V=>{const{customStore:K}=l,{customColumnList:le}=l,Q=p.value,{checkMethod:he,visibleMethod:re}=Q,E=!!V;return Q.immediate?(i.eachTree(le,O=>{re&&!re({$table:e,column:O})||he&&!he({$table:e,column:O})||(O.visible=E,O.renderVisible=E,O.halfVisible=!1)}),K.isAll=E,l.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(i.eachTree(le,O=>{re&&!re({$table:e,column:O})||he&&!he({$table:e,column:O})||(O.renderVisible=E,O.halfVisible=!1)}),K.isAll=E),e.checkCustomStatus(),de()},N={openCustom:k,closeCustom:U,saveCustom:f,cancelCustom:d,resetCustom(V){const{collectColumn:K}=c,le=p.value,{checkMethod:Q}=le,he=Object.assign({visible:!0,resizable:V===!0,fixed:V===!0,sort:V===!0},V);return i.eachTree(K,re=>{he.resizable&&(re.resizeWidth=0),he.fixed&&(re.fixed=re.defaultFixed),he.sort&&(re.renderSortNumber=re.sortNumber),(!Q||Q({$table:e,column:re}))&&(re.visible=re.defaultVisible),re.renderResizeWidth=re.renderWidth}),l.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:V}=l,K=!V.isAll;return z(K)},setCustomAllCheckbox:z},M=()=>{const{customStore:V}=l,{collectColumn:K}=c,le=p.value,{checkMethod:Q}=le;V.isAll=K.every(he=>(Q?!Q({$table:e,column:he}):!1)||he.renderVisible),V.isIndeterminate=!V.isAll&&K.some(he=>(!Q||Q({$table:e,column:he}))&&(he.renderVisible||he.halfVisible))},_=(V,K)=>{(x||e).dispatchEvent("custom",{type:V},K)},oe={checkCustomStatus:M,emitCustomEvent:_,triggerCustomEvent(V){const K=e.reactData,{customStore:le}=K;le.visible?(U(),_("close",V)):(le.btnEl=V.target,k(),_("open",V))},customOpenEvent(V){const K=e.reactData,{customStore:le}=K;le.visible||(le.activeBtn=!0,le.btnEl=V.target,e.openCustom(),e.emitCustomEvent("open",V))},customCloseEvent(V){const K=e.reactData,{customStore:le}=K;le.visible&&(le.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",V))},handleUpdateCustomColumn:B};return Object.assign(Object.assign({},N),oe)},setupGrid(e){return e.extendTableMethods(gu)}});const{getConfig:Pr,renderer:hu,getI18n:_s,getComponent:Oa}=ge,Da="modelValue",Ma={};function xl(e,l,c){return i.eqNull(e)?i.eqNull(l)?c:l:e}function mu(e,l){return e&&l.valueFormat?i.toStringDate(e,l.valueFormat):e}function bu(e,l,c){const{dateConfig:p={}}=l;return i.toDateString(mu(e,l),p.labelFormat||c)}function Rs(e,l){return bu(e,l,_s(`vxe.input.date.labelFormat.${l.type||"date"}`))}function xu(e){return`vxe-${e.replace("$","")}`}function No({name:e}){return Oa(e)}function Xr({name:e}){return xc(xu(e))}function jr(e,l,c){const{$panel:p}=e;p.changeOption({},l,c)}function Kr(e){let{name:l,attrs:c}=e;return l==="input"&&(c=Object.assign({type:"text"},c)),c}function Fa(e){const{name:l,immediate:c,props:p}=e;if(!c){if(l==="VxeInput"||l==="$input"){const{type:w}=p||{};return!(!w||w==="text"||w==="number"||w==="integer"||w==="float")}return!(l==="input"||l==="textarea"||l==="$textarea")}return c}function Ko(e,l,c,p){return i.assign({immediate:Fa(e)},Ma,p,e.props,{[Da]:c})}function zr(e,l,c,p){return i.assign({},Ma,p,e.props,{[Da]:c})}function Yr(e,l){return l.$type==="cell"||Fa(e)}function Vo(e,l,c,p){const{placeholder:w}=e;return[h("span",{class:["vxe-cell--label",p?p.class:""]},w&&ks(c)?[h("span",{class:"vxe-cell--placeholder"},Eo(Cl(w),1))]:Eo(c,1))]}function Ta(e,l,c){const{events:p}=e,w=Ca(e),x=wa(e),{model:y,change:k,blur:B}=c||{},U=x===w,f={};return p&&i.objectEach(p,(d,z)=>{f[Pl(z)]=function(...N){d(l,...N)}}),y&&(f[Pl(w)]=function(d){y(d),U&&k&&k(d),p&&p[w]&&p[w](l,d)}),!U&&k&&(f[Pl(x)]=function(d){k(d),p&&p[x]&&p[x](l,d)}),B&&(f[Pl(Tn)]=function(d){B(d),p&&p[Tn]&&p[Tn](l,d)}),f}const Tn="blur";function kn(e,l,c,p){const{events:w}=e,x=Ca(e),y=wa(e),{model:k,change:B,blur:U}=c||{},f={};return i.objectEach(w,(d,z)=>{f[Pl(z)]=function(...N){i.isFunction(d)||ze("vxe.error.errFunc",[d]),d(l,...N)}}),k&&(f[Pl(x)]=function(d){k(d),w&&w[x]&&w[x](l,d)}),B&&(f[Pl(y)]=function(...d){B(...d),w&&w[y]&&w[y](l,...d)}),U&&(f[Pl(Tn)]=function(...d){U(...d),w&&w[Tn]&&w[Tn](l,...d)}),p?Object.assign(f,p):f}function ol(e,l){const{$table:c,row:p,column:w}=l,{name:x}=e,{model:y}=w,k=Yr(e,l);return kn(e,l,{model(B){y.update=!0,y.value=B,k&&dl(p,w,B)},change(B){if(!k&&x&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(x)){const U=B.value;y.update=!0,y.value=U,c.updateStatus(l,U)}else c.updateStatus(l)},blur(){k?c.handleCellRuleUpdateStatus("blur",l):c.handleCellRuleUpdateStatus("blur",l,y.value)}})}function _r(e,l,c){return kn(e,l,{model(p){c.data=p},change(){jr(l,!i.eqNull(c.data),c)},blur(){jr(l,!i.eqNull(c.data),c)}})}function Ia(e,l){const{$table:c,row:p,column:w}=l,{model:x}=w;return Ta(e,l,{model(y){const k=y.target;if(k){const B=k.value;Yr(e,l)?dl(p,w,B):(x.update=!0,x.value=B)}},change(y){const k=y.target;if(k){const B=k.value;c.updateStatus(l,B)}},blur(y){const k=y.target;if(k){const B=k.value;c.updateStatus(l,B)}}})}function ka(e,l,c){return Ta(e,l,{model(p){const w=p.target;w&&(c.data=w.value)},change(){jr(l,!i.eqNull(c.data),c)},blur(){jr(l,!i.eqNull(c.data),c)}})}function Ss(e,l){const{row:c,column:p}=l,{name:w}=e,x=Yr(e,l)?bo(c,p):p.model.value;return[h(w,Object.assign(Object.assign(Object.assign({class:`vxe-default-${w}`},Kr(e)),{value:x}),Ia(e,l)))]}function vu(e,l){return[h(No(e),Object.assign(Object.assign({},Ko(e,l,null)),kn(e,l)))]}function jo(e,l){const{row:c,column:p}=l,w=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,w)),ol(e,l)))]}function Cu(e,l){const{row:c,column:p}=l,w=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,w)),ol(e,l)))]}function Yi(e,l){const{options:c}=e,{row:p,column:w}=l,x=bo(p,w);return[h(No(e),Object.assign(Object.assign({options:c},Ko(e,l,x)),ol(e,l)))]}function Lr(e,l){const{row:c,column:p}=l,w=bo(c,p);return[h(Xr(e),Object.assign(Object.assign({},Ko(e,l,w)),ol(e,l)))]}function Aa(e,l){return[h(Oa("vxe-button"),Object.assign(Object.assign({},Ko(e,l,null)),kn(e,l)))]}function wu(e,l){return e.children.map(c=>Aa(c,l)[0])}function La(e,l,c){const{optionGroups:p,optionGroupProps:w={}}=e,x=w.options||"options",y=w.label||"label";return p?p.map((k,B)=>h("optgroup",{key:B,label:k[y]},c(k[x],e,l))):[]}function Wr(e,l,c){const{optionProps:p={}}=l,{row:w,column:x}=c,y=p.label||"label",k=p.value||"value",B=p.disabled||"disabled",U=Yr(l,c)?bo(w,x):x.model.value;return e?e.map((f,d)=>h("option",{key:d,value:f[k],disabled:f[B],selected:f[k]==U},f[y])):[]}function Eu(e,l){const{column:c}=l,{name:p}=e,w=Kr(e);return c.filters.map((x,y)=>h(p,Object.assign(Object.assign(Object.assign({key:y,class:`vxe-default-${p}`},w),{value:x.data}),ka(e,l,x))))}function Os(e,l){const{column:c}=l;return c.filters.map((p,w)=>{const x=p.data;return h(No(e),Object.assign(Object.assign({key:w},zr(e,e,x)),_r(e,l,p)))})}function yu(e,l){const{column:c}=l;return c.filters.map((p,w)=>{const x=p.data;return h(Xr(e),Object.assign(Object.assign({key:w},zr(e,e,x)),_r(e,l,p)))})}function Jn({option:e,row:l,column:c}){const{data:p}=e;return i.get(l,c.field)==p}function er({option:e,row:l,column:c}){const{data:p}=e,w=i.get(l,c.field);return i.toValueString(w).indexOf(p)>-1}function Ui(e,l){return[h("select",Object.assign(Object.assign({class:"vxe-default-select"},Kr(e)),Ia(e,l)),e.optionGroups?La(e,l,Wr):Wr(e.options,e,l))]}function Zi(e,l){const{row:c,column:p}=l,{options:w,optionProps:x,optionGroups:y,optionGroupProps:k}=e,B=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,B,{options:w,optionProps:x,optionGroups:y,optionGroupProps:k})),ol(e,l)))]}function Qi(e,l){const{row:c,column:p}=l,{options:w,optionProps:x}=e,y=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,y,{options:w,optionProps:x})),ol(e,l)))]}function Ji(e,l){const{row:c,column:p}=l,{options:w,optionProps:x,optionGroups:y,optionGroupProps:k}=e,B=bo(c,p);return[h(Xr(e),Object.assign(Object.assign({},Ko(e,l,B,{options:w,optionProps:x,optionGroups:y,optionGroupProps:k})),ol(e,l)))]}function On(e,{row:l,column:c}){const{options:p,optionGroups:w,optionProps:x={},optionGroupProps:y={}}=e,k=i.get(l,c.field);let B;const U=x.label||"label",f=x.value||"value";return k!=null?i.map(i.isArray(k)?k:[k],w?d=>{const z=y.options||"options";for(let N=0;N<w.length&&(B=i.find(w[N][z],M=>M[f]==d),!B);N++);return B?B[U]:d}:d=>(B=i.find(p,z=>z[f]==d),B?B[U]:d)).join(", "):""}function Hr(e){const{row:l,column:c,options:p}=e;return p.original?bo(l,c):On(c.editRender||c.cellRender,e)}function or(e,{row:l,column:c}){const{options:p,optionProps:w={}}=e,x=i.get(l,c.field),y=w.label||"label",k=w.value||"value",B=w.children||"children";if(x!=null){const U={};return i.eachTree(p,f=>{U[i.get(f,k)]=f},{children:B}),i.map(i.isArray(x)?x:[x],f=>{const d=U[f];return d&&i.get(d,y)}).join(", ")}return""}function Ds(e){const{row:l,column:c,options:p}=e;return p.original?bo(l,c):or(c.editRender||c.cellRender,e)}function ea(e,l){const{props:c={},showNegativeStatus:p}=e,{row:w,column:x}=l,{type:y}=c;let k=i.get(w,x.field),B=!1;if(!ks(k)){const U=Pr().numberInput||{};if(y==="float"){const f=xl(c.autoFill,U.autoFill,!0),d=xl(c.digits,U.digits,1);k=i.toFixed(i.floor(k,d),d),f||(k=i.toNumber(k)),p&&k<0&&(B=!0)}else if(y==="amount"){const f=xl(c.autoFill,U.autoFill,!0),d=xl(c.digits,U.digits,2),z=xl(c.showCurrency,U.showCurrency,!1);if(k=i.toNumber(k),p&&k<0&&(B=!0),k=i.commafy(k,{digits:d}),!f){const[N,M]=k.split(".");if(M){const _=M.replace(/0+$/,"");k=_?[N,".",_].join(""):N}}z&&(k=`${c.currencySymbol||U.currencySymbol||_s("vxe.numberInput.currencySymbol")||""}${k}`)}else p&&i.toNumber(k)<0&&(B=!0)}return Vo(e,l,k,B?{class:"is--negative"}:{})}hu.mixin({input:{tableAutoFocus:"input",renderTableEdit:Ss,renderTableDefault:Ss,renderTableFilter:Eu,tableFilterDefaultMethod:er},textarea:{tableAutoFocus:"textarea",renderTableEdit:Ss},select:{renderTableEdit:Ui,renderTableDefault:Ui,renderTableCell(e,l){return Vo(e,l,On(e,l))},renderTableFilter(e,l){const{column:c}=l;return c.filters.map((p,w)=>h("select",Object.assign(Object.assign({key:w,class:"vxe-default-select"},Kr(e)),ka(e,l,p)),e.optionGroups?La(e,l,Wr):Wr(e.options,e,l)))},tableFilterDefaultMethod:Jn,tableExportMethod:Hr},VxeInput:{tableAutoFocus:"input",renderTableEdit:jo,renderTableCell(e,l){const{props:c={}}=e,{row:p,column:w}=l,x=Pr().input||{},y=c.digits||x.digits||2;let k=i.get(p,w.field);if(k)switch(c.type){case"date":case"week":case"month":case"quarter":case"year":k=Rs(k,c);break;case"float":k=i.toFixed(i.floor(k,y),y);break}return Vo(e,l,k)},renderTableDefault:jo,renderTableFilter:Os,tableFilterDefaultMethod:er},FormatNumberInput:{renderTableDefault:ea,tableFilterDefaultMethod:er,tableExportMethod(e){const{row:l,column:c}=e;return i.get(l,c.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:jo,renderTableCell:ea,renderTableFooter(e,l){const{props:c={}}=e,{row:p,column:w,_columnIndex:x}=l,{type:y}=c,k=i.isArray(p)?p[x]:i.get(p,w.field);if(i.isNumber(k)){const B=Pr().numberInput||{};if(y==="float"){const U=xl(c.autoFill,B.autoFill,!0),f=xl(c.digits,B.digits,1);let d=i.toFixed(i.floor(k,f),f);return U||(d=i.toNumber(d)),d}else if(y==="amount"){const U=xl(c.autoFill,B.autoFill,!0),f=xl(c.digits,B.digits,2),d=xl(c.showCurrency,B.showCurrency,!1);let z=i.commafy(i.toNumber(k),{digits:f});if(!U){const[N,M]=z.split(".");if(M){const _=M.replace(/0+$/,"");z=_?[N,".",_].join(""):N}}return d&&(z=`${c.currencySymbol||B.currencySymbol||_s("vxe.numberInput.currencySymbol")||""}${z}`),z}}return Cl(k,1)},renderTableDefault:jo,renderTableFilter:Os,tableFilterDefaultMethod:er,tableExportMethod(e){const{row:l,column:c}=e;return i.get(l,c.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:jo,renderTableCell(e,l){const{props:c={}}=e,{row:p,column:w}=l;let x=i.get(p,w.field);return x&&c.type!=="time"&&(x=Rs(x,c)),Vo(e,l,x)},renderTableDefault:jo,renderTableFilter:Os,tableFilterDefaultMethod:Jn},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,l){const{startField:c,endField:p}=e,{$table:w,row:x,column:y}=l,{model:k}=y,B=bo(x,y),U={},f={};return c&&p&&(U.startValue=i.get(x,c),U.endValue=i.get(x,p),f["onUpdate:startValue"]=d=>{c&&i.set(x,c,d)},f["onUpdate:endValue"]=d=>{p&&i.set(x,p,d)}),[h(No(e),Object.assign(Object.assign({},Ko(e,l,B,U)),kn(e,l,{model(d){k.update=!0,k.value=d,dl(x,y,d)},change(){w.updateStatus(l)},blur(){w.handleCellRuleUpdateStatus("blur",l)}},f)))]},renderTableCell(e,l){const{startField:c,endField:p}=e,{row:w,column:x}=l;let y="",k="";if(c&&p)y=i.get(w,c),k=i.get(w,p);else{const U=i.get(w,x.field);if(U)if(i.isArray(U))y=U[0],k=U[1];else{const f=`${U}`.split(",");y=f[0],k=f[1]}}let B="";return y&&k&&(B=`${y} ~ ${k}`),Vo(e,l,B)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:jo,renderTableCell(e,l){const{row:c,column:p}=l,w=i.get(c,p.field);return Vo(e,l,w)}},VxeButton:{renderTableDefault:vu},VxeButtonGroup:{renderTableDefault(e,l){const{options:c}=e;return[h(No(e),Object.assign(Object.assign({options:c},Ko(e,l,null)),kn(e,l)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:Zi,renderTableDefault:Zi,renderTableCell(e,l){return Vo(e,l,On(e,l))},renderTableFilter(e,l){const{column:c}=l,{options:p,optionProps:w,optionGroups:x,optionGroupProps:y}=e;return c.filters.map((k,B)=>{const U=k.data;return h(No(e),Object.assign(Object.assign({key:B},zr(e,l,U,{options:p,optionProps:w,optionGroups:x,optionGroupProps:y})),_r(e,l,k)))})},tableFilterDefaultMethod:Jn,tableExportMethod:Hr},formatOption:{renderTableDefault(e,l){return Vo(e,l,On(e,l))}},FormatSelect:{renderTableDefault(e,l){return Vo(e,l,On(e,l))},tableFilterDefaultMethod:Jn,tableExportMethod:Hr},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Qi,renderTableCell(e,l){return Vo(e,l,or(e,l))},tableExportMethod:Ds},formatTree:{renderTableDefault(e,l){return Vo(e,l,or(e,l))}},FormatTreeSelect:{renderTableDefault(e,l){return Vo(e,l,or(e,l))},tableExportMethod:Ds},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Qi,renderTableCell(e,l){return Vo(e,l,or(e,l))},tableExportMethod:Ds},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,l){const{row:c,column:p}=l,{options:w}=e,x=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,x,{colors:w})),ol(e,l)))]},renderTableCell(e,l){const{row:c,column:p}=l,w=i.get(c,p.field);return h("span",{class:"vxe-color-picker--readonly"},[h("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:w}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,l){const{row:c,column:p}=l,{options:w}=e,x=bo(c,p);return[h(No(e),Object.assign(Object.assign({},Ko(e,l,x,{icons:w})),ol(e,l)))]},renderTableCell(e,l){const{row:c,column:p}=l,w=i.get(c,p.field);return h("i",{class:w})}},VxeRadioGroup:{renderTableDefault:Yi},VxeCheckbox:{renderTableDefault:Cu},VxeCheckboxGroup:{renderTableDefault:Yi},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:jo,renderTableDefault:jo},VxeUpload:{renderTableEdit:jo,renderTableCell:jo,renderTableDefault:jo},VxeImage:{renderTableDefault(e,l){const{row:c,column:p}=l,{props:w}=e,x=bo(c,p);return[h(No(e),Object.assign(Object.assign(Object.assign({},w),{src:x}),ol(e,l)))]}},VxeImageGroup:{renderTableDefault(e,l){const{row:c,column:p}=l,{props:w}=e,x=bo(c,p);return[h(No(e),Object.assign(Object.assign(Object.assign({},w),{urlList:x}),ol(e,l)))]}},VxeTextEllipsis:{renderTableDefault(e,l){const{row:c,column:p}=l,{props:w}=e,x=bo(c,p);return[h(No(e),Object.assign(Object.assign(Object.assign({},w),{content:x}),ol(e,l)))]}},VxeRate:{renderTableDefault:jo},VxeSlider:{renderTableDefault:jo},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Lr,renderTableCell(e,l){var c;const{props:p={}}=e,{row:w,column:x}=l,y=p.digits||((c=Pr().input)===null||c===void 0?void 0:c.digits)||2;let k=i.get(w,x.field);if(k)switch(p.type){case"date":case"week":case"month":case"year":k=Rs(k,p);break;case"float":k=i.toFixed(i.floor(k,y),y);break}return Vo(e,l,k)},renderTableDefault:Lr,renderTableFilter:yu,tableFilterDefaultMethod:er},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:Aa},$buttons:{renderTableDefault:wu},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ji,renderTableDefault:Ji,renderTableCell(e,l){return Vo(e,l,On(e,l))},renderTableFilter(e,l){const{column:c}=l,{options:p,optionProps:w,optionGroups:x,optionGroupProps:y}=e;return c.filters.map((k,B)=>{const U=k.data;return h(Xr(e),Object.assign(Object.assign({key:B},zr(e,l,U,{options:p,optionProps:w,optionGroups:x,optionGroupProps:y})),_r(e,l,k)))})},tableFilterDefaultMethod:Jn,tableExportMethod:Hr},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Lr,renderTableDefault:Lr}});const Ws=Object.assign({},Jl,{install(e){e.component(Jl.name,Jl)}}),Ru={useCellView:Bd};ge.dynamicApp&&ge.dynamicApp.component(Jl.name,Jl);ge.component(Jl);ge.tableHandle=Ru;const Su=Ws,Gs=Object.assign({},en,{install(e){e.component(en.name,en)}});ge.dynamicApp&&ge.dynamicApp.component(en.name,en);ge.component(en);const Ou=Gs,Du={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},Mu=[Ps,Vs,js,Ws,Gs];function Fu(e,l){ge.setConfig(l),Mu.forEach(c=>c.install(e))}if(!ge.hasLanguage("zh-CN")){const e="zh-CN";ge.setI18n(e,Du),ge.setLanguage(e)}ge.setTheme("light");const Lu=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:ud,Column:dd,Grid:Hd,Table:Su,Toolbar:Ou,VXETable:Nc,VxeColgroup:Vs,VxeColumn:Ps,VxeGrid:js,VxeTable:Ws,VxeToolbar:Gs,VxeUI:ge,_t:ca,clipboard:Bc,commands:Lc,config:ia,formats:Ac,getConfig:Ec,getI18n:Dc,getIcon:Rc,getTheme:Cc,globalEvents:Mc,globalResize:Fc,hooks:Pc,install:Fu,interceptor:Hc,log:$c,menus:kc,modal:Wc,print:_c,readFile:zc,renderer:Tc,saveFile:jc,setConfig:wc,setI18n:Oc,setIcon:yc,setLanguage:Sc,setTheme:vc,setup:sa,t:aa,use:Vc,validators:Ic,version:As},Symbol.toStringTag,{value:"Module"}));export{Lu as V};
//# sourceMappingURL=vxe-table.80dee652.1755689448535.js.map
