{"version":3,"file":"registrations.75c0390f.1753605037589.js","sources":["../../src/pages/event/registrations.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <a-card>\r\n      <p>报名参赛</p>\r\n\r\n      <a-list item-layout=\"horizontal\" size=\"small\" :pagination=\"pagination\" :data-source=\"listData\">\r\n        <template #renderItem=\"{ item }\">\r\n          <a-list-item key=\"item.title\">\r\n            <template #extra>\r\n              <p>\r\n                {{ item.format }}\r\n\r\n                <a-divider type=\"vertical\">\r\n                </a-divider>\r\n                开始时间：{{ item.start_time }}\r\n\r\n                <a-divider type=\"vertical\">\r\n                </a-divider>\r\n                结束时间：{{ item.end_time }}\r\n                <a-divider type=\"vertical\">\r\n                </a-divider>\r\n                最大报名人数：{{ item.max_participants }}\r\n                <a-divider type=\"vertical\">\r\n                </a-divider>\r\n                最大开赛人数：{{ item.min_participants }}\r\n              </p>\r\n            </template>\r\n            <template #actions>\r\n              <p>\r\n                <a-tag color=\"warning\" v-if=\"item.event_type==='outdoor'\">户外</a-tag>\r\n                <a-tag color=\"success\" v-if=\"item.event_type==='professional'\">专业</a-tag>\r\n              </p>\r\n              <a-button type=\"primary\" @click=\"regist(item)\">报名</a-button>\r\n            </template>\r\n            <a-list-item-meta :description=\"item.description\">\r\n              <template #title>\r\n                <router-link :to=\"`/event/${item.id}/event_detail`\">\r\n                  {{\r\n                    item.title\r\n                  }}\r\n                </router-link>\r\n\r\n              </template>\r\n              <template #avatar>\r\n                <a-avatar :src=\"`${baseApiUrl}/uploads/${item.cover_image}`\"/>\r\n              </template>\r\n            </a-list-item-meta>\r\n            {{ item.description }}\r\n            <div>\r\n              <div class=\"flex\" v-if=\"item.event_type==='professional'\">\r\n                卡券：{{ item.professional_event.ticket.name }}，（￥{{ item.professional_event.ticket.value }}）元\r\n                场馆：{{item.professional_event.venue.name}}\r\n              </div>\r\n              <div class=\"flex\" v-if=\"item.event_type==='outdoor'\">\r\n                联系人：{{ item.outdoor_event.contact_person }}\r\n                联系电话：{{ item.outdoor_event.contact_phone }}\r\n                集合地点：{{ item.outdoor_event.meeting_point }}\r\n              </div>\r\n              <div>\r\n                <span>编码：{{ item.code }}</span>\r\n              </div>\r\n              报名截止：{{ item.registration_deadline }}\r\n            </div>\r\n          </a-list-item>\r\n        </template>\r\n      </a-list>\r\n    </a-card>\r\n\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport Api from \"@/api\"\r\n\r\nconst baseApiUrl = import.meta.env.VITE_API_URL ? import.meta.env.VITE_API_URL : '';\r\n\r\nconst listData = ref([])\r\nconst router = useRouter();\r\nconst loadData = async () => {\r\n  const data = await Api.eventController.index({currentPage: 1})\r\n  listData.value = data.data;\r\n}\r\nloadData()\r\n\r\nconst pagination = ref({\r\n  onChange: async (page: number) => {\r\n    await Api.eventController.index({currentPage: page})\r\n    console.log(page);\r\n  },\r\n  pageSize: 3,\r\n});\r\n\r\nconst regist = () => {\r\n\r\n}\r\n</script>\r\n\r\n"],"names":["baseApiUrl","listData","ref","useRouter","data","Api","pagination","page","regist"],"mappings":"0tFAyEA,MAAAA,EAAA,sBAEAC,EAAAC,EAAA,CAAA,CAAA,EACAC,EAAA,GACA,SAAA,CACE,MAAAC,EAAA,MAAAC,EAAA,gBAAA,MAAA,CAAA,YAAA,CAAA,CAAA,EACAJ,EAAA,MAAAG,EAAA,IAAsB,KAIxB,MAAAE,EAAAJ,EAAA,CAAuB,SAAA,MAAAK,GAAA,CAEnB,MAAAF,EAAA,gBAAA,MAAA,CAAA,YAAAE,CAAA,CAAA,EACA,QAAA,IAAAA,CAAA,CAAgB,EAClB,SAAA,CACU,CAAA,EAGZC,EAAA,IAAA,CAAqB;;;;;;;;;;"}