{"version":3,"file":"sporter.b513d90e.1753605037589.js","sources":["../../src/pages/cert/sporter.vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport {ref} from 'vue'\r\nimport {message} from 'ant-design-vue'\r\nimport type {VxeGridListeners} from 'vxe-table'\r\nimport {destroy} from \"@/api/identityController\";\r\nimport useCoach from \"@/composible/useCoach\";\r\nconst serveApiUrl = import.meta.env.VITE_API_URL;\r\n\r\nconst {gridOptions,type} = useCoach()\r\nconst xGrid = ref()\r\ntype.value=\"sporter\"\r\n// 编辑用户\r\nconst editCourse = (row: any) => {\r\n  const grid = xGrid.value\r\n  grid.setEditRow(row)\r\n}\r\n\r\n// 删除用户\r\nconst delCourse = async (row: any) => {\r\n  try {\r\n    await destroy({id: row.id})\r\n    xGrid.value.commitProxy('query')\r\n  } catch (error) {\r\n    message.error('删除失败')\r\n  }\r\n}\r\n\r\n\r\nconst gridEvent: VxeGridListeners = {\r\n  proxyQuery() {\r\n    /*设置选项*/\r\n    const column = xGrid.value.getColumnByField('course_type_id')\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"demo-page-wrapper\">\r\n    <vxe-grid\r\n        ref=\"xGrid\"\r\n        v-bind=\"gridOptions\"\r\n        v-on=\"gridEvent\"\r\n    >\r\n      <template #id_card_front=\"{ row }\">\r\n        <a-space>\r\n          <vxe-image :src=\"`${serveApiUrl}${row.id_card_front}`\" width=\"64\" height=\"64\"></vxe-image>\r\n          <FileSelect ref=\"fileRef\" v-model=\"row.id_card_front\">\r\n          </FileSelect>\r\n        </a-space>\r\n      </template>\r\n      <template #id_card_back=\"{ row }\">\r\n        <a-space>\r\n          <vxe-image :src=\"`${serveApiUrl}${row.id_card_back}`\" width=\"64\" height=\"64\"></vxe-image>\r\n          <FileSelect ref=\"fileRef\" v-model=\"row.id_card_back\">\r\n          </FileSelect>\r\n        </a-space>\r\n      </template>\r\n      <template #certificate=\"{ row }\">\r\n        <a-space>\r\n          <vxe-image :src=\"`${serveApiUrl}${row.certificate}`\" width=\"64\" height=\"64\"></vxe-image>\r\n          <FileSelect ref=\"fileRef\" v-model=\"row.certificate\">\r\n          </FileSelect>\r\n        </a-space>\r\n      </template>\r\n      <template #exam_report=\"{ row }\">\r\n        <a-space>\r\n          <vxe-image :src=\"`${serveApiUrl}${row.exam_report}`\" width=\"64\" height=\"64\"></vxe-image>\r\n          <FileSelect ref=\"fileRef\" v-model=\"row.exam_report\">\r\n          </FileSelect>\r\n        </a-space>\r\n      </template>\r\n      <template #resume=\"{ row }\">\r\n        <a-space>\r\n          <vxe-image :src=\"`${serveApiUrl}${row.resume}`\" width=\"64\" height=\"64\"></vxe-image>\r\n          <FileSelect ref=\"fileRef\" v-model=\"row.resume\">\r\n          </FileSelect>\r\n        </a-space>\r\n      </template>\r\n      <template #action=\"{ row }\">\r\n        <a-space>\r\n          <a-button type=\"primary\" size=\"small\" @click=\"editCourse(row)\">编辑</a-button>\r\n          <a-popconfirm\r\n              title=\"确认删除吗？\"\r\n              ok-text=\"是\"\r\n              cancel-text=\"否\"\r\n              @confirm=\"delCourse(row)\"\r\n          >\r\n            <a-button size=\"small\" type=\"primary\" danger>删除</a-button>\r\n          </a-popconfirm>\r\n        </a-space>\r\n      </template>\r\n    </vxe-grid>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n.demo-page-wrapper {\r\n  padding: 20px;\r\n}\r\n</style>"],"names":["serveApiUrl","gridOptions","type","useCoach","xGrid","ref","editCourse","row","delCourse","destroy","message","gridEvent"],"mappings":"2zFAMA,MAAAA,EAAA,sBAEA,CAAA,YAAAC,EAAA,KAAAC,CAAA,EAAAC,EAAA,EACAC,EAAAC,IACAH,EAAA,MAAA,UAEA,MAAAI,EAAAC,GAAA,CACEH,EAAA,MACA,WAAAG,CAAA,CAAmB,EAIrBC,EAAA,MAAAD,GAAA,CACE,GAAA,CACE,MAAAE,EAAA,CAAA,GAAAF,EAAA,EAAA,CAAA,EACAH,EAAA,MAAA,YAAA,OAAA,CAA+B,MAAA,CAE/BM,EAAA,MAAA,MAAA,CAAoB,CACtB,EAIFC,EAAA,CAAoC,YAAA,CAGhCP,EAAA,MAAA,iBAAA,gBAAA,CAA4D,CAC9D"}