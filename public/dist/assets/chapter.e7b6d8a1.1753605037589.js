import{i as S,H as T,J as j,G,s as H}from"./ant-design-vue.00fd9e7c.1753605037589.js";import{_ as J}from"./FileSelect.vue_vue_type_script_setup_true_lang.c8ce7069.1753605037589.js";import{A as b}from"./index-a4f0172e.js";import{a as M}from"./vue-router.9360959a.1753605037589.js";import{d as P,r as f,e as Z,a1 as v,Z as U,_ as q,c as o,a3 as l,I as e,a5 as p,u as r,a2 as K,j as L}from"./@vue.3ad65df9.1753605037589.js";import"./@babel.ff5fac95.1753605037589.js";import"./resize-observer-polyfill.0f9f8adb.1753605037589.js";import"./vue-types.ef06c517.1753605037589.js";import"./@ant-design.002a57d7.1753605037589.js";import"./@ctrl.110cde02.1753605037589.js";import"./dom-align.ecb06dd6.1753605037589.js";import"./lodash-es.3d27f5e2.1753605037589.js";import"./dayjs.d60d73bd.1753605037589.js";import"./async-validator.dee29e8b.1753605037589.js";import"./scroll-into-view-if-needed.583c97c5.1753605037589.js";import"./compute-scroll-into-view.183f845a.1753605037589.js";import"./pinia.11f4bfaa.1753605037589.js";import"./vue-demi.71ba0ef2.1753605037589.js";import"./axios.dcb3bfcc.1753605037589.js";import"./qs.247a6393.1753605037589.js";import"./side-channel.9d8f1847.1753605037589.js";import"./es-errors.c75f5a96.1753605037589.js";import"./object-inspect.0fbacf7d.1753605037589.js";import"./side-channel-list.c76608c5.1753605037589.js";import"./side-channel-map.76c430fe.1753605037589.js";import"./get-intrinsic.7d53f00e.1753605037589.js";import"./es-object-atoms.11ea1ab9.1753605037589.js";import"./math-intrinsics.9389030e.1753605037589.js";import"./gopd.30775706.1753605037589.js";import"./es-define-property.27915812.1753605037589.js";import"./has-symbols.76fb15e9.1753605037589.js";import"./get-proto.757e385d.1753605037589.js";import"./dunder-proto.05150bcd.1753605037589.js";import"./call-bind-apply-helpers.0833f3e9.1753605037589.js";import"./function-bind.61637ca6.1753605037589.js";import"./hasown.67f3f833.1753605037589.js";import"./call-bound.09054f06.1753605037589.js";import"./side-channel-weakmap.4b9abb6a.1753605037589.js";import"./stepin.df3b4e80.1753605037589.js";import"./enquire.js.29d23a08.1753605037589.js";import"./lodash.5999789d.1753605037589.js";import"./js-cookie.df2f1d76.1753605037589.js";import"./@vueuse.60746e97.1753605037589.js";import"./clipboard.f49c93fb.1753605037589.js";import"./highlight.js.1f23b1ae.1753605037589.js";import"./nprogress.dafb99c9.1753605037589.js";import"./vxe-table.a5304289.1753605037589.js";import"./xe-utils.0b26132f.1753605037589.js";import"./@vxe-ui.1c5cc959.1753605037589.js";import"./dom-zindex.d72a3c32.1753605037589.js";import"./vue.5e2bff9c.1753605037589.js";import"./vxe-pc-ui.ed308165.1753605037589.js";import"./vue-pick-colors.10d84206.1753605037589.js";import"./@popperjs.f3391c26.1753605037589.js";const Qt=P({__name:"chapter",setup(O){const $=M(),_=f($.params.id),a=f({}),g="https://hongyu.cyou",c=f({content:"",course_id:"",duration:60,image:"",remark:"",serial:0,sort:"",target:"",title:""}),m=f({chapters:[]}),x=async()=>{a.value=await b.courseController.show({id:_.value});const s=await b.courseController.chapter({id:_.value});m.value.chapters=s,console.log(m.value),N()};x();const k=f(null),V=f(null),A=f([{name:"保存",code:"save",status:"success"}]),I=async({code:s})=>{switch(s){case"add":m.value.chapters.push(c.value);break;case"del":m.value.chapters=m.value.chapters.filter(t=>t.id!==c.value.id);break;case"save":await b.courseController.saveChapter({id:_.value},m.value),x();break}},N=()=>{m.value.chapters.length==0&&(m.value.chapters=Array.from({length:a.value.coupon_template.times},(s,t)=>({id:t+1,serial:t+1,title:`第${t+1}节`,content:"",remark:"",image:"",duration:60,target:""})))};return Z(()=>{const s=k.value,t=V.value;s&&t&&s.connect(t)}),(s,t)=>{const y=S,i=T,C=v("vxe-image"),R=j,B=v("vxe-toolbar"),u=v("vxe-column"),w=v("vxe-textarea"),F=J,z=G,D=H,E=v("vxe-table");return U(),q("div",null,[o(y,null,{default:l(()=>t[0]||(t[0]=[e("课程")])),_:1}),t[19]||(t[19]=e()),o(R,{size:"small",bordered:"",layout:"vertical",column:6},{default:l(()=>[o(i,{label:"标题"},{default:l(()=>[e(p(r(a).title),1)]),_:1}),t[1]||(t[1]=e()),o(i,{label:"节数"},{default:l(()=>[e(p(r(a).total),1)]),_:1}),t[2]||(t[2]=e()),o(i,{label:"节数"},{default:l(()=>[e(p(r(a).coupon_template?r(a).coupon_template.times:"暂无"),1)]),_:1}),t[3]||(t[3]=e()),o(i,{label:"价格"},{default:l(()=>[e(p(r(a).coupon_template?r(a).coupon_template.total:"暂无"),1)]),_:1}),t[4]||(t[4]=e()),o(i,{label:"标签"},{default:l(()=>[e(p(r(a).tags),1)]),_:1}),t[5]||(t[5]=e()),o(i,{label:"描述"},{default:l(()=>[e(p(r(a).description),1)]),_:1}),t[6]||(t[6]=e()),o(i,{label:"场馆"},{default:l(()=>[e(p(r(a).venue?r(a).venue.name:"暂无"),1)]),_:1}),t[7]||(t[7]=e()),o(i,{label:"时长"},{default:l(()=>[e(p(r(a).duration),1)]),_:1}),t[8]||(t[8]=e()),r(a).cover?(U(),K(i,{key:0,label:"封面",span:2},{default:l(()=>[o(C,{src:`${r(g)}/uploads/${r(a).cover}`,width:"48",height:"48"},null,8,["src"])]),_:1})):L("",!0),t[9]||(t[9]=e()),o(i,{label:"创建时间"},{default:l(()=>[e(p(r(a).created_at),1)]),_:1})]),_:1}),t[20]||(t[20]=e()),o(y,null,{default:l(()=>t[10]||(t[10]=[e("章节管理")])),_:1}),t[21]||(t[21]=e()),o(B,{ref_key:"toolbarRef",ref:V,buttons:r(A),onButtonClick:I},null,8,["buttons"]),t[22]||(t[22]=e()),o(E,{ref_key:"tableRef",ref:k,border:"",size:"small","cell-config":{height:90},"show-overflow":"","edit-config":{mode:"row",trigger:"click"},data:r(m).chapters},{default:l(()=>[o(u,{field:"serial",title:"序号",width:"90",sortable:"","edit-render":{name:"AInputNumber"}}),t[12]||(t[12]=e()),o(u,{field:"title",title:"标题","edit-render":{name:"VxeInput"}}),t[13]||(t[13]=e()),o(u,{field:"content",title:"内容",width:"600"},{default:l(({row:n})=>[o(w,{modelValue:n.content,"onUpdate:modelValue":d=>n.content=d,style:{height:"80px"},placeholder:`水中行走：在浅水区练习平衡，适应水压和阻力。\r
呼吸训练：口吸鼻呼的节奏练习，水中憋气与换气。\r
漂浮练习：扶池壁完成俯卧/仰卧漂浮，学会从漂浮状态站立。\r
蹬壁滑行：借助池壁蹬出，保持身体流线型滑行。\r
辅助器材使用：浮板辅助踢腿练习，培养水感。\r
`},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t[14]||(t[14]=e()),o(u,{field:"remark",title:"备注"},{default:l(({row:n})=>[o(w,{modelValue:n.remark,"onUpdate:modelValue":d=>n.remark=d,style:{height:"80px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t[15]||(t[15]=e()),o(u,{field:"image",title:"图片"},{default:l(({row:n})=>[o(z,null,{default:l(()=>[o(C,{src:`${r(g)}/uploads/${n.image}`,width:"64",height:"64"},null,8,["src"]),t[11]||(t[11]=e()),o(F,{ref:"fileRef",modelValue:n.image,"onUpdate:modelValue":d=>n.image=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1}),t[16]||(t[16]=e()),o(u,{field:"pointer",title:"知识点（项）","edit-render":{name:"AInputNumber"}}),t[17]||(t[17]=e()),o(u,{field:"duration",title:"时长(分钟)","edit-render":{name:"AInputNumber"}}),t[18]||(t[18]=e()),o(u,{field:"target",title:"课程目标"},{default:l(({row:n})=>[o(D,{value:n.target,"onUpdate:value":d=>n.target=d,mode:"tags",placeholder:"Please select",style:{width:"120px"}},null,8,["value","onUpdate:value"])]),_:1})]),_:1},8,["data"])])}}});export{Qt as default};
//# sourceMappingURL=chapter.e7b6d8a1.1753605037589.js.map
