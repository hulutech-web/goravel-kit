{"version":3,"file":"confirm.52ffdff8.1753605037589.js","sources":["../../src/pages/venue/confirm.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport Api from \"@/api\";\n\nconst baseApiUrl = import.meta.env.VITE_API_URL;\nconst route = useRoute();\nconst router = useRouter();\nconst id = ref(route.params.id)\n\nconst venueForm = ref({\n  id: null,\n  name: \"\",\n  address: \"\",\n  realname: \"\",\n\n  phone: \"\",\n  id_card_number: \"\",\n  id_card_front: \"\",\n  id_card_back: \"\",\n  registration_pic: \"\",\n  registration_code: \"\",\n  special_pic: \"\",\n  location: {\n    type: \"Point\",\n    coordinates: []\n  },\n  max_concurrent_courses: 5,\n  open_time: \"\",\n  close_time: \"\",\n  area_size: \"\",\n  facilities: [],\n  logo: \"\",\n  sports: [],\n  status: null,\n  images: [],\n  error_msg: \"\",\n  description: \"\",\n})\nconst loadIdentity = async () => {\n  venueForm.value = await Api.venueIdentityRecordController.show({id: id.value});\n  showBtn.value = venueForm.value.status !== 3;\n}\nloadIdentity()\n\nconst showBtn = ref(false)\nconst handleSubmit = async () => {\n  await Api.venueIdentityRecordController.update({id: venueForm.value.id}, venueForm.value)\n  setTimeout(() => {\n    router.go(-1)\n  }, 500)\n}\n</script>\n\n<template>\n  <div>\n    <a-descriptions title=\"场馆审核\" layout=\"vertical\" bordered :column=\"6\" size=\"small\">\n      <a-descriptions-item label=\"场馆名\">{{ venueForm.name }}</a-descriptions-item>\n      <a-descriptions-item label=\"地址\">{{ venueForm.address }}</a-descriptions-item>\n      <a-descriptions-item label=\"法人姓名\">{{ venueForm.realname }}</a-descriptions-item>\n      <a-descriptions-item label=\"电话\">{{ venueForm.phone }}</a-descriptions-item>\n      <a-descriptions-item label=\"身份证号\">{{ venueForm.id_card_number }}</a-descriptions-item>\n      <a-descriptions-item label=\"状态\">{{ venueForm.status }}</a-descriptions-item>\n      <a-descriptions-item label=\"状态\">\n        <!--    1、未审核2、未通过、3、审核成功    -->\n        <span v-if=\"venueForm.status === 1\">未审核</span>\n        <span v-if=\"venueForm.status === 2\">未通过</span>\n        <span v-if=\"venueForm.status === 3\">审核成功</span>\n      </a-descriptions-item>\n      <a-descriptions-item label=\"首页宣传图\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.main_pic}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"身份证正面\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.id_card_front}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"身份证背面\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.id_card_back}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"营业执照号\">\n\n        {{ venueForm.registration_code }}\n      </a-descriptions-item>\n      <a-descriptions-item label=\"特殊资质\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.special_pic}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"营业执照\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.registration_pic}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"地理位置\">{{ venueForm.location }}</a-descriptions-item>\n      <a-descriptions-item label=\"最大同时授课课堂\">{{ venueForm.max_concurrent_courses }}</a-descriptions-item>\n      <a-descriptions-item label=\"开馆时间\">{{ venueForm.open_time }}</a-descriptions-item>\n      <a-descriptions-item label=\"闭馆时间\">{{ venueForm.close_time }}</a-descriptions-item>\n      <a-descriptions-item label=\"场馆面积\">{{ venueForm.area_size }}</a-descriptions-item>\n      <a-descriptions-item label=\"设施\">{{ venueForm.facilities }}</a-descriptions-item>\n      <a-descriptions-item label=\"LOGO\">\n        <a-image\n            :width=\"120\"\n            :src=\"`${baseApiUrl}${venueForm.logo}`\"\n        />\n      </a-descriptions-item>\n      <a-descriptions-item label=\"经营项目\">{{ venueForm.sports }}</a-descriptions-item>\n      <a-descriptions-item label=\"图片\">\n        <div class=\"flex\">\n          <a-image\n              v-for=\"(item, index) in venueForm.images\" :key=\"index\"\n              :width=\"120\"\n              :src=\"`${baseApiUrl}${item}`\"\n          />\n        </div>\n      </a-descriptions-item>\n      <a-descriptions-item label=\"描述\">{{ venueForm.description }}</a-descriptions-item>\n    </a-descriptions>\n\n    <a-form :model=\"venueForm\">\n      <a-form-item label=\"意见\">\n        <a-textarea v-model:value=\"venueForm.error_msg\" placeholder=\"请输入内容\"/>\n      </a-form-item>\n      <a-form-item label=\"审核\">\n        <a-select v-model:value=\"venueForm.status\">\n          <a-select-option :value=\"1\">未审核</a-select-option>\n          <a-select-option :value=\"2\">驳回</a-select-option>\n          <a-select-option :value=\"3\">通过</a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item>\n        <a-button type=\"primary\" v-if=\"showBtn\" @click=\"handleSubmit\">提交</a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<style scoped lang=\"less\">\n\n</style>"],"names":["baseApiUrl","route","useRoute","router","useRouter","id","ref","venueForm","Api","showBtn","handleSubmit"],"mappings":"yvFAGA,MAAAA,EAAA,sBACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,EAAAL,EAAA,OAAA,EAAA,EAEAM,EAAAD,EAAA,CAAsB,GAAA,KAChB,KAAA,GACE,QAAA,GACG,SAAA,GACC,MAAA,GAEH,eAAA,GACS,cAAA,GACD,aAAA,GACD,iBAAA,GACI,kBAAA,GACC,YAAA,GACN,SAAA,CACH,KAAA,QACF,YAAA,CAAA,CACQ,EAChB,uBAAA,EACwB,UAAA,GACb,WAAA,GACC,UAAA,GACD,WAAA,CAAA,EACE,KAAA,GACP,OAAA,CAAA,EACG,OAAA,KACD,OAAA,CAAA,EACC,UAAA,GACE,YAAA,EACE,CAAA,GAEf,SAAA,CACEC,EAAA,MAAA,MAAAC,EAAA,8BAAA,KAAA,CAAA,GAAAH,EAAA,KAAA,CAAA,EACAI,EAAA,MAAAF,EAAA,MAAA,SAAA,CAA2C,KAI7C,MAAAE,EAAAH,EAAA,EAAA,EACAI,EAAA,SAAA,CACE,MAAAF,EAAA,8BAAA,OAAA,CAAA,GAAAD,EAAA,MAAA,EAAA,EAAAA,EAAA,KAAA,EACA,WAAA,IAAA,CACEJ,EAAA,GAAA,EAAA,CAAY,EAAA,GAAA,CACR"}