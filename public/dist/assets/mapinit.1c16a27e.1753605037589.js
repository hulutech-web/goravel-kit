import{c as d}from"./coordtransform.c5296600.1753605037589.js";import{f as c}from"./@vue.3ad65df9.1753605037589.js";import"./@babel.ff5fac95.1753605037589.js";let i=null,s={lat:null,lng:null,address:""};const n=c({markerLayer:"",marker:null,infoWindow:null,value:1}),g=t=>{n.marker=new TMap.MultiMarker({map:i,geometries:[{position:new TMap.LatLng(t.lat,t.lng)}]})},w=t=>new Promise((o,r)=>{const l=new TMap.service.Geocoder,a=new TMap.LatLng(t.latLng.lat,t.latLng.lng);l.getAddress({location:a}).then(e=>{e.status===0&&(n.infoWindow.open(),n.infoWindow.setPosition(t.latLng),n.infoWindow.setContent(e.result.address),s.address=e.result.address,o(s))})}),L=(t,o)=>{const r=window.TMap;let l=null;o&&Array.isArray(o)&&o.length>0?l=d.wgs84togcj02(o[0],o[1]):l=d.wgs84togcj02(31.20929040462313,107.46796970075786);const a=new r.LatLng(l[0],l[1]);i=new r.Map(document.getElementById("container"),{center:a,zoom:14,viewMode:"3D"}),g(a),i.on("click",e=>{n.marker.setMap(null),n.infoWindow.close(),n.marker=null,g(e.latLng),s.lat=e.latLng.lat,s.lng=e.latLng.lng,w(e).then(m=>{t(s)})}),n.infoWindow=new r.InfoWindow({map:i,position:a,offset:{x:0,y:-32}}),n.infoWindow.close()};export{L as default};
//# sourceMappingURL=mapinit.1c16a27e.1753605037589.js.map
