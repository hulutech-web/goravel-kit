import{r as Z,s as J,t as K,e as W,g as X,F as Y,o as h,G as ee}from"./ant-design-vue.00fd9e7c.1753605037589.js";import{_ as te}from"./FileSelect.vue_vue_type_script_setup_true_lang.c8ce7069.1753605037589.js";import oe from"./index.71f5d5b6.1753605037589.js";import{A as k,a as ne}from"./index-a4f0172e.js";import{u as re}from"./vue-router.9360959a.1753605037589.js";import{d as ie,r as s,f as ae,a1 as f,Z as p,_ as v,c as t,a3 as o,u,F as b,a7 as F,a2 as O,I as r,a5 as x,j as se,a4 as le,bs as me}from"./@vue.3ad65df9.1753605037589.js";import"./@babel.ff5fac95.1753605037589.js";import"./resize-observer-polyfill.0f9f8adb.1753605037589.js";import"./vue-types.ef06c517.1753605037589.js";import"./@ant-design.002a57d7.1753605037589.js";import"./@ctrl.110cde02.1753605037589.js";import"./dom-align.ecb06dd6.1753605037589.js";import"./lodash-es.3d27f5e2.1753605037589.js";import"./dayjs.d60d73bd.1753605037589.js";import"./async-validator.dee29e8b.1753605037589.js";import"./scroll-into-view-if-needed.583c97c5.1753605037589.js";import"./compute-scroll-into-view.183f845a.1753605037589.js";import"./xe-utils.0b26132f.1753605037589.js";import"./pinia.11f4bfaa.1753605037589.js";import"./vue-demi.71ba0ef2.1753605037589.js";import"./axios.dcb3bfcc.1753605037589.js";import"./qs.247a6393.1753605037589.js";import"./side-channel.9d8f1847.1753605037589.js";import"./es-errors.c75f5a96.1753605037589.js";import"./object-inspect.0fbacf7d.1753605037589.js";import"./side-channel-list.c76608c5.1753605037589.js";import"./side-channel-map.76c430fe.1753605037589.js";import"./get-intrinsic.7d53f00e.1753605037589.js";import"./es-object-atoms.11ea1ab9.1753605037589.js";import"./math-intrinsics.9389030e.1753605037589.js";import"./gopd.30775706.1753605037589.js";import"./es-define-property.27915812.1753605037589.js";import"./has-symbols.76fb15e9.1753605037589.js";import"./get-proto.757e385d.1753605037589.js";import"./dunder-proto.05150bcd.1753605037589.js";import"./call-bind-apply-helpers.0833f3e9.1753605037589.js";import"./function-bind.61637ca6.1753605037589.js";import"./hasown.67f3f833.1753605037589.js";import"./call-bound.09054f06.1753605037589.js";import"./side-channel-weakmap.4b9abb6a.1753605037589.js";import"./stepin.df3b4e80.1753605037589.js";import"./enquire.js.29d23a08.1753605037589.js";import"./lodash.5999789d.1753605037589.js";import"./js-cookie.df2f1d76.1753605037589.js";import"./@vueuse.60746e97.1753605037589.js";import"./clipboard.f49c93fb.1753605037589.js";import"./highlight.js.1f23b1ae.1753605037589.js";import"./nprogress.dafb99c9.1753605037589.js";import"./vxe-table.a5304289.1753605037589.js";import"./@vxe-ui.1c5cc959.1753605037589.js";import"./dom-zindex.d72a3c32.1753605037589.js";import"./vue.5e2bff9c.1753605037589.js";import"./vxe-pc-ui.ed308165.1753605037589.js";import"./vue-pick-colors.10d84206.1753605037589.js";import"./@popperjs.f3391c26.1753605037589.js";const pe=ie({__name:"index",setup(ue){re();const{gridOptions:U}=oe(),V=s(),w="https://hongyu.cyou",R={proxyQuery(){}};s([]),s(null);const C=s([]);s(!1);const g=s(!1),$=l=>{g.value=!0,d.value.user_id=l.id,B()},y=s(),B=async()=>{C.value=await k.courseController.option()},d=s({user_id:null,user_coupon_templates:[]}),i=ae({domains:[{course_id:null,remain_num:0}]}),S=()=>{y.value.validate().then(async()=>{console.log("values",i.domains),d.value={...d.value,user_coupon_templates:i.domains},console.log(d.value),await k.userCouponTemplateController.makeup(d.value)}).catch(l=>{console.log("error",l)})},A=()=>{y.value.resetFields()},D=l=>{let e=i.domains.indexOf(l);e!==-1&&i.domains.splice(e,1)},G=()=>{i.domains.push({course_id:null,remain_num:0})};return(l,e)=>{const M=Z,N=J,_=K,P=W,T=f("MinusCircleOutlined"),j=f("PlusOutlined"),c=X,q=Y,z=h,E=f("vxe-image"),I=te,H=ee,L=f("vxe-grid");return p(),v("div",null,[t(z,{visible:g.value,"onUpdate:visible":e[0]||(e[0]=n=>g.value=n),title:"学员补课",footer:!1,width:900},{default:o(()=>[t(q,{ref_key:"formRef",ref:y,name:"dynamic_form_item",model:u(i)},{default:o(()=>[(p(!0),v(b,null,F(u(i).domains,(n,m)=>(p(),v("div",{class:"flex justify-between items-center",key:m},[t(_,{label:"课程",name:["domains",m,"course_id"],style:{flex:"3",margin:"12px"},rules:{required:!0,message:"课程不为空",trigger:"change"}},{default:o(()=>[t(N,{value:n.course_id,"onUpdate:value":a=>n.course_id=a,"show-search":""},{default:o(()=>[(p(!0),v(b,null,F(C.value,(a,Q)=>(p(),O(M,{key:Q,value:a.value},{default:o(()=>[r(x(a.label)+" 教练："+x(a.coach_name)+"【共"+x(a.times)+"节】",1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1032,["name"]),e[1]||(e[1]=r()),t(_,{label:"剩余节数",name:["domains",m,"remain_num"],style:{flex:"2",margin:"12px"},rules:{required:!0,message:"剩余节数不为空",trigger:"change"}},{default:o(()=>[t(P,{value:n.remain_num,"onUpdate:value":a=>n.remain_num=a,placeholder:"节数"},null,8,["value","onUpdate:value"])]),_:2},1032,["name"]),e[2]||(e[2]=r()),u(i).domains.length>1?(p(),O(T,{key:0,style:{"font-size":"24px",flex:"1","margin-bottom":"8px"},disabled:u(i).domains.length===1,onClick:a=>D(n)},null,8,["disabled","onClick"])):se("",!0)]))),128)),e[7]||(e[7]=r()),t(_,null,{default:o(()=>[t(c,{type:"dashed",style:{width:"60%"},onClick:G},{default:o(()=>[t(j),e[3]||(e[3]=r(`
            添加
          `))]),_:1})]),_:1}),e[8]||(e[8]=r()),t(_,null,{default:o(()=>[t(c,{type:"primary","html-type":"submit",onClick:S},{default:o(()=>e[4]||(e[4]=[r("提交")])),_:1}),e[6]||(e[6]=r()),t(c,{style:{"margin-left":"10px"},onClick:A},{default:o(()=>e[5]||(e[5]=[r("Reset")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),e[12]||(e[12]=r()),t(L,le({ref_key:"xGrid",ref:V},u(U),me(R)),{avatar:o(({row:n})=>[t(H,null,{default:o(()=>[t(E,{src:`${u(w)}${n.avatar}`,width:"64",height:"64"},null,8,["src"]),e[9]||(e[9]=r()),t(I,{ref:"fileRef",modelValue:n.avatar,"onUpdate:modelValue":m=>n.avatar=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),action:o(({row:n})=>[t(c,{type:"primary",size:"small",onClick:m=>$(n)},{default:o(()=>e[10]||(e[10]=[r("学员补课")])),_:2},1032,["onClick"])]),_:1},16)])}}});const _t=ne(pe,[["__scopeId","data-v-6904a6f1"]]);export{_t as default};
//# sourceMappingURL=index.785d9dec.1753605037589.js.map
