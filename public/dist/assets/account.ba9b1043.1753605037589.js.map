{"version":3,"file":"account.ba9b1043.1753605037589.js","sources":["../../src/pages/system/tenant/account.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport Api from \"@/api\";\n\nlet accountState = ref({\n  id: null,\n  venue_id: null,\n  realname: \"\",\n  phone: \"\",\n  password: \"\"\n});\nconst formRef = ref(null)\nconst route = useRoute()\nconst id = ref(route.params.id)\nconst loadData = async () => {\n  accountState.value.venue_id = +(id.value)\n  let res = await Api.userController.getAdmin({venue_id: id.value})\n  accountState.value.realname = res.realname;\n  accountState.value.phone = res.phone;\n  accountState.value.password = res.password;\n  accountState.value.id = res.id;\n}\n\nloadData()\n\nconst onUpdate =  () => {\n  formRef.value.validateFields().then(async (e) => {\n    await Api.userController.setAdmin(accountState.value)\n  });\n}\n</script>\n\n<template>\n  <div>\n    <a-divider>系统账号</a-divider>\n    <a-row>\n      <a-col :span=\"12\">\n\n        <a-form ref=\"formRef\" :model=\"accountState\">\n          <a-form-item\n              label=\"场馆ID\"\n              name=\"venue_id\"\n              :rules=\"[{ required: true,message:'场馆ID' }]\"\n          >\n            <a-input v-model:value=\"accountState.venue_id\" disabled></a-input>\n          </a-form-item>\n\n          <a-form-item\n              label=\"用户\"\n              name=\"id\"\n              :rules=\"[{ required: true,message:'用户ID' }]\"\n          >\n            <UserSelect v-model:id=\"accountState.id\" v-model:username=\"accountState.realname\"></UserSelect>\n          </a-form-item>\n\n          <a-form-item\n              label=\"管理员姓名\"\n              name=\"realname\"\n              :rules=\"[{ required: true,message:'必填' }]\"\n          >\n            <a-input v-model:value=\"accountState.realname\"></a-input>\n          </a-form-item>\n          <a-form-item\n              label=\"登录手机号\"\n              name=\"phone\"\n              :rules=\"[{ required: true ,message:'必填'}]\"\n          >\n            <a-input v-model:value=\"accountState.phone\"></a-input>\n          </a-form-item>\n          <a-form-item\n              label=\"登录密码\"\n              name=\"password\"\n              :rules=\"[{ required: true ,message:'必填'}]\"\n          >\n            <a-input type=\"password\" v-model:value=\"accountState.password\"></a-input>\n          </a-form-item>\n          <a-form-item>\n            <a-space>\n              <a-button type=\"primary\" @click=\"onUpdate\">提交</a-button>\n            </a-space>\n          </a-form-item>\n        </a-form>\n\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<style scoped lang=\"less\">\n\n</style>"],"names":["accountState","ref","formRef","route","useRoute","id","res","Api","onUpdate","e"],"mappings":"yuFAGA,IAAAA,EAAAC,EAAA,CAAuB,GAAA,KACjB,SAAA,KACM,SAAA,GACA,MAAA,GACH,SAAA,EACG,CAAA,EAEZ,MAAAC,EAAAD,EAAA,IAAA,EACAE,EAAAC,IACAC,EAAAJ,EAAAE,EAAA,OAAA,EAAA,GACA,SAAA,CACEH,EAAA,MAAA,SAAA,CAAAK,EAAA,MACA,IAAAC,EAAA,MAAAC,EAAA,eAAA,SAAA,CAAA,SAAAF,EAAA,KAAA,CAAA,EACAL,EAAA,MAAA,SAAAM,EAAA,SACAN,EAAA,MAAA,MAAAM,EAAA,MACAN,EAAA,MAAA,SAAAM,EAAA,SACAN,EAAA,MAAA,GAAAM,EAAA,EAA4B,KAK9B,MAAAE,EAAA,IAAA,CACEN,EAAA,MAAA,eAAA,EAAA,KAAA,MAAAO,GAAA,CACE,MAAAF,EAAA,eAAA,SAAAP,EAAA,KAAA,CAAoD,CAAA,CACrD"}