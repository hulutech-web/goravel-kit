{"version":3,"file":"useTable.edd458fb.1755837291293.js","sources":["../../src/composible/useTable.ts"],"sourcesContent":["import {request} from \"@/utils/request\";\r\n\r\nimport router from \"@/plugins/router\";\r\nimport XEUtils from \"xe-utils\";\r\n\r\nexport default () => {\r\n    // 方法\r\n\r\n    const getTable= async()=>{\r\n        return await request({\r\n            url: `crud/tables`,\r\n            method:\"GET\"\r\n        })\r\n    }\r\n\r\n    const getColumn= async(table_name)=>{\r\n        return await request({\r\n            url: `crud/table_column`,\r\n            method:\"POST\",\r\n            data:{\r\n                table_name:table_name\r\n            }\r\n        })\r\n    }\r\n    // 表单配置\r\n    const serveApiUrl = import.meta.env.VITE_API_URL;\r\n\r\n    const execMigrate= async(tablename:string,sql:string,fields)=>{\r\n        return await request({\r\n            url: `crud/migrate`,\r\n            method:\"post\",\r\n            data:{sql:sql,tablename:tablename,fields:fields}\r\n        })\r\n    }\r\n\r\n    const makeRequest =async(data)=>{\r\n        return await request({\r\n            url:\"crud/request_make\",\r\n            method:\"post\",\r\n            data:data\r\n        })\r\n    }\r\n    const makeRouter =async(data)=>{\r\n        return await request({\r\n            url:\"crud/router_make\",\r\n            method:\"post\",\r\n            data:data\r\n        })\r\n    }\r\n\r\n    const makeController =async(data)=>{\r\n        return await request({\r\n            url:\"crud/controller_make\",\r\n            method:\"post\",\r\n            data:data\r\n        })\r\n    }\r\n    return {\r\n        getTable,\r\n        execMigrate,\r\n        getColumn,\r\n        makeRequest,\r\n        makeRouter,\r\n        makeController\r\n    };\r\n};"],"names":["useTable","request","tablename","sql","fields","table_name","data"],"mappings":"wCAKA,MAAAA,EAAe,KAoDJ,CACH,SAlDY,SACL,MAAMC,EAAQ,CACjB,IAAK,cACL,OAAO,KAAA,CACV,EA+CD,YAhCe,MAAMC,EAAiBC,EAAWC,IAC1C,MAAMH,EAAQ,CACjB,IAAK,eACL,OAAO,OACP,KAAK,CAAC,IAAAE,EAAQ,UAAAD,EAAoB,OAAAE,CAAa,CAAA,CAClD,EA4BD,UA7Ca,MAAMC,GACZ,MAAMJ,EAAQ,CACjB,IAAK,oBACL,OAAO,OACP,KAAK,CACD,WAAAI,CACJ,CAAA,CACH,EAuCD,YA1Be,MAAMC,GACd,MAAML,EAAQ,CACjB,IAAI,oBACJ,OAAO,OACP,KAAAK,CAAA,CACH,EAsBD,WApBc,MAAMA,GACb,MAAML,EAAQ,CACjB,IAAI,mBACJ,OAAO,OACP,KAAAK,CAAA,CACH,EAgBD,eAbkB,MAAMA,GACjB,MAAML,EAAQ,CACjB,IAAI,uBACJ,OAAO,OACP,KAAAK,CAAA,CACH,CAQD"}