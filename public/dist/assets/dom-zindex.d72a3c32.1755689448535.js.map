{"version":3,"file":"dom-zindex.d72a3c32.1755689448535.js","sources":["../../node_modules/.pnpm/dom-zindex@1.0.6/node_modules/dom-zindex/es/index.esm.js"],"sourcesContent":["var winDom = null;\nvar bodyEl = null;\nvar storeEl = null;\nvar storeId = 'z-index-manage';\nvar styleEl = null;\nvar styleId = 'z-index-style';\nvar storeMainKey = 'm';\nvar storeSubKey = 's';\nvar storeData = {\n    m: 1000,\n    s: 1000\n};\nfunction getDocument() {\n    if (!winDom) {\n        if (typeof document !== 'undefined') {\n            winDom = document;\n        }\n    }\n    return winDom;\n}\nfunction getBody() {\n    if (winDom && !bodyEl) {\n        bodyEl = winDom.body || winDom.getElementsByTagName('body')[0];\n    }\n    return bodyEl;\n}\nfunction getDomMaxZIndex() {\n    var max = 0;\n    var dom = getDocument();\n    if (dom) {\n        var body = getBody();\n        if (body) {\n            var allElem = body.getElementsByTagName('*');\n            for (var i = 0; i < allElem.length; i++) {\n                var elem = allElem[i];\n                if (elem && elem.style && elem.nodeType === 1) {\n                    var zIndex = elem.style.zIndex;\n                    if (zIndex && /^\\d+$/.test(zIndex)) {\n                        max = Math.max(max, Number(zIndex));\n                    }\n                }\n            }\n        }\n    }\n    return max;\n}\nfunction getStyle() {\n    if (!styleEl) {\n        var dom = getDocument();\n        if (dom) {\n            styleEl = dom.getElementById(styleId);\n            if (!styleEl) {\n                styleEl = dom.createElement('style');\n                styleEl.id = styleId;\n                dom.getElementsByTagName('head')[0].appendChild(styleEl);\n            }\n        }\n    }\n    return styleEl;\n}\nfunction updateVar() {\n    var styEl = getStyle();\n    if (styEl) {\n        var prefixes = '--dom-';\n        var propKey = '-z-index';\n        styEl.innerHTML = ':root{' + prefixes + 'main' + propKey + ':' + getCurrent() + ';' + prefixes + 'sub' + propKey + ':' + getSubCurrent() + '}';\n    }\n}\nfunction getStoreDom() {\n    if (!storeEl) {\n        var dom = getDocument();\n        if (dom) {\n            storeEl = dom.getElementById(storeId);\n            if (!storeEl) {\n                var body = getBody();\n                if (body) {\n                    storeEl = dom.createElement('div');\n                    storeEl.id = storeId;\n                    storeEl.style.display = 'none';\n                    body.appendChild(storeEl);\n                    setCurrent(storeData.m);\n                    setSubCurrent(storeData.s);\n                }\n            }\n        }\n    }\n    return storeEl;\n}\nfunction createSetHandle(key) {\n    return function (value) {\n        if (value) {\n            value = Number(value);\n            storeData[key] = value;\n            var el = getStoreDom();\n            if (el) {\n                if (el.dataset) {\n                    el.dataset[key] = value + '';\n                }\n                else {\n                    el.setAttribute('data-' + key, value + '');\n                }\n            }\n        }\n        updateVar();\n        return storeData[key];\n    };\n}\nexport var setCurrent = createSetHandle(storeMainKey);\nfunction createGetHandle(key, nextMethod) {\n    return function getCurrent(currZindex) {\n        var zIndex;\n        var el = getStoreDom();\n        if (el) {\n            var domVal = el.dataset ? el.dataset[key] : el.getAttribute('data-' + key);\n            if (domVal) {\n                zIndex = Number(domVal);\n            }\n        }\n        if (!zIndex) {\n            zIndex = storeData[key];\n        }\n        if (currZindex) {\n            if (Number(currZindex) < zIndex) {\n                return nextMethod();\n            }\n            return currZindex;\n        }\n        return zIndex;\n    };\n}\nexport var getCurrent = createGetHandle(storeMainKey, getNext);\nexport function getNext() {\n    return setCurrent(getCurrent() + 1);\n}\nexport var setSubCurrent = createSetHandle(storeSubKey);\nvar _getSubCurrent = createGetHandle(storeSubKey, getSubNext);\nexport function getSubCurrent() {\n    return getCurrent() + _getSubCurrent();\n}\nexport function getSubNext() {\n    setSubCurrent(_getSubCurrent() + 1);\n    return getSubCurrent();\n}\n/**\n * Web common z-index style management\n */\nvar DomZIndex = {\n    setCurrent: setCurrent,\n    getCurrent: getCurrent,\n    getNext: getNext,\n    setSubCurrent: setSubCurrent,\n    getSubCurrent: getSubCurrent,\n    getSubNext: getSubNext,\n    getMax: getDomMaxZIndex\n};\nupdateVar();\nexport default DomZIndex;\n"],"names":["winDom","bodyEl","storeEl","storeId","styleEl","styleId","storeMainKey","storeSubKey","storeData","getDocument","getBody","getDomMaxZIndex","max","dom","body","allElem","i","elem","zIndex","getStyle","updateVar","styEl","prefixes","propKey","getCurrent","getSubCurrent","getStoreDom","setCurrent","setSubCurrent","createSetHandle","key","value","el","createGetHandle","nextMethod","currZindex","domVal","getNext","_getSubCurrent","getSubNext","DomZIndex"],"mappings":"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","x_google_ignoreList":[0]}