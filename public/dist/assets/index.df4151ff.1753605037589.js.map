{"version":3,"file":"index.df4151ff.1753605037589.js","sources":["../../src/components/statistic/MiniStatisticCard.vue","../../src/utils/useTheme.ts","../../src/pages/workplace/index.vue"],"sourcesContent":["<template>\n  <div\n    class=\"mini-statistic-card overflow-hidden relative min-h-[112px] bg-container inline-flex items-center justify-between drop-shadow-sm p-md border-border rounded-lg\"\n  >\n    <div class=\"statistic-main flex-1\">\n      <div class=\"statistic-title text-subtext text-xs\">{{ title }}</div>\n      <div class=\"statistic-content flex items-baseline\">\n        <span class=\"value text-title text-xxl font-bold\">{{ value }}</span>\n        <span class=\"suffix ml-1 text-xs text-green-500 font-bold\">+30%</span>\n      </div>\n    </div>\n    <div class=\"statistic-icon absolute bottom-0 right-0\"><slot name=\"icon\"></slot></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue';\n\n  export default defineComponent({\n    props: {\n      title: String,\n      value: [String, Number] as PropType<string | number>,\n    },\n    name: 'MiniStatisticCard',\n  });\n</script>\n\n<style lang=\"less\" scoped>\n  .mini-statistic-card {\n  }\n</style>\n","import { useSettingStore } from '@/store';\nimport { onBeforeMount, onUnmounted, onActivated, onDeactivated } from 'vue';\n\nexport function useUnbounded() {\n  const { setContentClass } = useSettingStore();\n\n  const setUnbounded = () => {\n    setContentClass('unbounded');\n    setTimeout(() => window.dispatchEvent(new Event('resize')), 300);\n  };\n\n  const removeUnbounded = () => {\n    setContentClass('common');\n    setTimeout(() => window.dispatchEvent(new Event('resize')), 300);\n  };\n\n  onBeforeMount(setUnbounded);\n  onUnmounted(removeUnbounded);\n  onActivated(setUnbounded);\n  onDeactivated(removeUnbounded);\n}\n","<template>\n\n\n  <div class=\"workplace grid grid-rows-none gap-4 mt-xxs\">\n\n    <div class=\"bg-container p-base rounded-b-lg rounded-tr-lg pt-8 flex items-end justify-between\">\n      <div class=\"flex items-center\">\n        <div class=\"ml-base\">\n          <div class=\"text-title font-bold text-lg\">{{ userInfo.username }}，欢迎回来</div>\n          <div class=\"text-subtext font-bold text-sm\">{{ userInfo.id == 1 ? \"超管\" : \"管理员\" }}</div>\n          <div class=\"text-subtext font-bold text-sm\">最后登录：{{ userInfo.last_login }}</div>\n        </div>\n      </div>\n      <div class=\"flex items-start\">\n        <a-statistic class=\"w-20\" :valueStyle=\"{ fontWeight: 500 }\" title=\"会员\" :value=\"data.total_member_count\"></a-statistic>\n        <a-statistic class=\"w-20\" :valueStyle=\"{ fontWeight: 500 }\" title=\"教练\" :value=\"data.coach_count\"></a-statistic>\n        <a-statistic class=\"w-20\" :valueStyle=\"{ fontWeight: 500 }\" title=\"销售额\" >\n          <template #formatter>\n            <div><span class=\"text-base\">￥</span>{{data.coupon_order_sum}}</div>\n          </template>\n        </a-statistic>\n      </div>\n    </div>\n    <div class=\"grid grid-cols-12 gap-6\">\n      <mini-statistic-card class=\"card col-span-12 mdx:col-span-6 xlx:col-span-3\" v-for=\"(item, i) in statisticList\"\n                           :key=\"i\" :title=\"item.title\" :value=\"item.value\">\n        <template #icon>\n          <component :class=\"`text-[96px] translate-x-[25%] translate-y-[25%] opacity-75 ${item.iconClass}`\"\n                     v-bind:is=\"item.icon\"/>\n        </template>\n      </mini-statistic-card>\n    </div>\n    <div class=\"overview grid grid-cols-12 gap-4\">\n      <active-users class=\"col-span-12 xlx:col-span-6 xxlx:col-span-5 drop-shadow-sm\"/>\n      <sales-overview class=\"col-span-12 xlx:col-span-6 xxlx:col-span-7 drop-shadow-sm\"/>\n    </div>\n    <div class=\"project-list grid grid-cols-12 gap-4\">\n      <projects class=\"col-span-12 xlx:col-span-7 xxlx:col-span-8 drop-shadow-sm\"/>\n      <order-history class=\"col-span-12 xlx:col-span-5 xxlx:col-span-4 drop-shadow-sm\"/>\n    </div>\n    <about-us/>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {onMounted, reactive} from 'vue';\nimport MiniStatisticCard from '@/components/statistic/MiniStatisticCard.vue';\nimport ActiveUsers from './ActiveUsers.vue';\nimport SalesOverview from './SalesOverview.vue';\nimport Projects from './Projects.vue';\nimport OrderHistory from './OrderHistory.vue';\nimport AboutUs from './AboutUs.vue';\nimport {useUnbounded} from '@/utils/useTheme';\nimport Api from \"@/api\"\n\nconst data = ref({})\n\nconst getDate = async () => {\n  data.value = await Api.dashboardController.index()\n  console.log(data.value)\n\n  statisticList.value[0].value=data.value.today_order_count\n  statisticList.value[1].value=data.value.today_reservation_count\n  statisticList.value[2].value=data.value.today_member_count\n  statisticList.value[3].value=data.value.today_schedule_count\n}\nuseUnbounded();\nconst user = localStorage.getItem(\"user\")\nconst userInfo = JSON.parse(user)\nconst statisticList = ref([\n  {\n    title: '今日订单数',\n    value: '￥53,000',\n    change: '+31%',\n    icon: 'dollar-circle-filled',\n    iconClass: 'text-blue-100',\n  },\n  {\n    title: '今日新增预约',\n    value: '138',\n    change: '+23%',\n    icon: 'usergroup-add-outlined',\n    iconClass: 'text-purple-100',\n  },\n  {\n    title: '今日新增会员',\n    value: '￥5000',\n    change: '30%',\n    icon: 'heart-filled',\n    iconClass: 'text-primary-100',\n  },\n  {\n    title: '今日排期',\n    value: '3200',\n    change: '-11%',\n    icon: 'shopping-filled',\n    iconClass: 'text-green-100',\n  },\n]);\nonMounted(()=>{\n  getDate()\n})\n</script>\n\n<style scoped lang=\"less\">\n.workplace {\n}\n</style>\n  "],"names":["_sfc_main$1","defineComponent","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_ctx","_cache","_createTextVNode","_renderSlot","useUnbounded","setContentClass","useSettingStore","setUnbounded","removeUnbounded","onBeforeMount","onUnmounted","onActivated","onDeactivated","data","ref","getDate","Api","statisticList","user","userInfo","onMounted"],"mappings":"srGAkBE,MAAAA,EAAAC,EAAA,CAA+B,MAAA,CACtB,MAAA,OACE,MAAA,CAAA,OAAA,MAAA,CACe,EACxB,KAAA,mBAEF,CAAA,EAtBE,MAAAC,EAAA,CAAA,MAAA,iKAEKC,EAAA,CAAA,MAAA,yBACEC,EAAA,CAAA,MAAA,wCACAC,EAAA,CAAA,MAAA,yCACGC,EAAA,CAAA,MAAA,uCAILC,EAAA,CAAA,MAAA,oEAVP,OAAAC,EAAA,EAAAC,EAAA,MAAAP,EAAA,CAWMQ,EAAA,MAAAP,EAAA,CAFEO,EAAA,MAAAN,EAAAO,EAAAC,EAAA,KAAA,EAAA,CAAA,EALsDC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAA,GALhEJ,EAAA,MAAAL,EAAA,CASYK,EAAA,OAAAJ,EAAAK,EAAAC,EAAA,KAAA,EAAA,CAAA,EAFsDC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAA,GAPlED,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAH,EAAA,OAAA,CAAA,MAAA,8CAAA,EAAA,OAAA,EAAA,EAQuE,CAAA,IARvEG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAA,GAAAJ,EAAA,MAAAH,EAAA,CAWyFQ,EAAAH,EAAA,OAAA,OAAA,CAAA,EAAA,OAAA,EAAA,CAAN,CAAA,gECR5E,SAASI,GAAe,CACvB,KAAA,CAAE,gBAAAC,GAAoBC,IAEtBC,EAAe,IAAM,CACzBF,EAAgB,WAAW,EAChB,WAAA,IAAM,OAAO,cAAc,IAAI,MAAM,QAAQ,CAAC,EAAG,GAAG,CAAA,EAG3DG,EAAkB,IAAM,CAC5BH,EAAgB,QAAQ,EACb,WAAA,IAAM,OAAO,cAAc,IAAI,MAAM,QAAQ,CAAC,EAAG,GAAG,CAAA,EAGjEI,EAAcF,CAAY,EAC1BG,EAAYF,CAAe,EAC3BG,EAAYJ,CAAY,EACxBK,EAAcJ,CAAe,CAC/B,khBCmCA,MAAAK,EAAAC,EAAA,CAAA,CAAA,EAEAC,EAAA,SAAA,CACEF,EAAA,MAAA,MAAAG,EAAA,oBAAA,MAAA,EACA,QAAA,IAAAH,EAAA,KAAA,EAEAI,EAAA,MAAA,CAAA,EAAA,MAAAJ,EAAA,MAAA,kBACAI,EAAA,MAAA,CAAA,EAAA,MAAAJ,EAAA,MAAA,wBACAI,EAAA,MAAA,CAAA,EAAA,MAAAJ,EAAA,MAAA,mBACAI,EAAA,MAAA,CAAA,EAAA,MAAAJ,EAAA,MAAA,oBAAwC,EAE1CT,IACA,MAAAc,EAAA,aAAA,QAAA,MAAA,EACAC,EAAA,KAAA,MAAAD,CAAA,EACAD,EAAAH,EAAA,CAA0B,CACxB,MAAA,QACS,MAAA,UACA,OAAA,OACC,KAAA,uBACF,UAAA,eACK,EACb,CACA,MAAA,SACS,MAAA,MACA,OAAA,OACC,KAAA,yBACF,UAAA,iBACK,EACb,CACA,MAAA,SACS,MAAA,QACA,OAAA,MACC,KAAA,eACF,UAAA,kBACK,EACb,CACA,MAAA,OACS,MAAA,OACA,OAAA,OACC,KAAA,kBACF,UAAA,gBACK,CACb,CAAA,EAEF,OAAAM,EAAA,IAAA,CACEL,GAAQ,CAAA"}