import{e as O}from"./ant-design-vue.6003db98.1755837291293.js";import{o as Q,a as R,c as X}from"./index-e86a3d8d.js";import{k as Z,r as h,a as W,e as Y,w as q,d as F,y as tt,Z as T,a2 as J,$ as p,a6 as y,I as s,S as et,c as C,a3 as H,s as ot,A as it,_ as D,z as P,u as U}from"./@vue.f517c4d3.1755837291293.js";import"./@babel.ff5fac95.1755837291293.js";import"./resize-observer-polyfill.0f9f8adb.1755837291293.js";import"./vue-types.ef06c517.1755837291293.js";import"./@ant-design.9d2fe45e.1755837291293.js";import"./@ctrl.110cde02.1755837291293.js";import"./dom-align.ecb06dd6.1755837291293.js";import"./lodash-es.3d27f5e2.1755837291293.js";import"./dayjs.ff9046db.1755837291293.js";import"./async-validator.dee29e8b.1755837291293.js";import"./scroll-into-view-if-needed.e8fe8fab.1755837291293.js";import"./compute-scroll-into-view.183f845a.1755837291293.js";import"./vue-router.9464b678.1755837291293.js";import"./pinia.8982db38.1755837291293.js";import"./vue-demi.71ba0ef2.1755837291293.js";import"./axios.dcb3bfcc.1755837291293.js";import"./qs.a529ec33.1755837291293.js";import"./side-channel.9e54de98.1755837291293.js";import"./es-errors.c75f5a96.1755837291293.js";import"./object-inspect.7e6175f7.1755837291293.js";import"./side-channel-list.169b004a.1755837291293.js";import"./side-channel-map.33f5b958.1755837291293.js";import"./get-intrinsic.a2929bf2.1755837291293.js";import"./es-object-atoms.11ea1ab9.1755837291293.js";import"./math-intrinsics.9389030e.1755837291293.js";import"./gopd.30775706.1755837291293.js";import"./es-define-property.27915812.1755837291293.js";import"./has-symbols.76fb15e9.1755837291293.js";import"./get-proto.0694628e.1755837291293.js";import"./dunder-proto.eacfd4c7.1755837291293.js";import"./call-bind-apply-helpers.7f6153fb.1755837291293.js";import"./function-bind.48f717dc.1755837291293.js";import"./hasown.62c0daf0.1755837291293.js";import"./call-bound.9966c24b.1755837291293.js";import"./side-channel-weakmap.d483489f.1755837291293.js";import"./stepin.98140aa1.1755837291293.js";import"./enquire.js.29d23a08.1755837291293.js";import"./lodash.907b933a.1755837291293.js";import"./js-cookie.df2f1d76.1755837291293.js";import"./@vueuse.9b0e1a90.1755837291293.js";import"./clipboard.1ee81d47.1755837291293.js";import"./highlight.js.f034732b.1755837291293.js";import"./nprogress.cfb775e5.1755837291293.js";import"./vxe-table.748bd7a0.1755837291293.js";import"./xe-utils.dd761dc0.1755837291293.js";import"./@vxe-ui.edbd1fdc.1755837291293.js";import"./dom-zindex.d72a3c32.1755837291293.js";import"./vue.39adf4ea.1755837291293.js";import"./vxe-pc-ui.0dbee1b4.1755837291293.js";import"./vue-pick-colors.8c35f1dd.1755837291293.js";import"./@popperjs.f3391c26.1755837291293.js";const rt={class:"guider-content"},st={class:"guider-footer flex justify-between w-full"},nt=Z({__name:"Guider",props:{current:[HTMLElement,Object,String],options:{required:!0,type:Array},show:Boolean},emits:["close","update:show","update:current"],setup(E,{emit:S}){const l=E,c=h(0),x=W({get(){return l.current&&(c.value=l.options.findIndex(t=>t.target===l.current)),c.value},set(t){const e=l.options[t];e?(c.value=t,u("update:current",e.target)):(c.value=0,u("close"),u("update:current",l.options[0].target),u("update:show",!1))}}),n=h(),g=h(l.show),o=Y({width:0,height:0,left:0,top:0,right:0,bottom:0}),u=S,$=W(()=>{var e;const t=l.current??((e=l.options[c.value])==null?void 0:e.target);if(t)return typeof t=="string"?document.querySelector(t):t instanceof HTMLElement?t:t.$el}),k=W(()=>{const{offsetWidth:t,offsetHeight:e}=n.value||{offsetWidth:0,offsetHeight:0},{left:a,top:m,right:v,bottom:f,height:b,width:d}=o,r={main:"horizontal",sub:"vertical",horizontal:"left",vertical:"top"};return Math.max(a,v)>=Math.max(m,f)?(r.main="horizontal",r.sub="vertical",r.horizontal=a>v?"left":"right",m+b/2<e/2&&f+b/2>e/2?r.vertical="top":m+b/2>e/2&&f+b/2<e/2?r.vertical="bottom":r.vertical="center"):(r.main="vertical",r.sub="horizontal",r.vertical=m>f?"top":"bottom",a+d/2<t/2&&v+d/2>t/2?r.horizontal="left":a+d/2>t/2&&v+d/2<t/2?r.horizontal="right":r.horizontal="center"),r}),_=W(()=>{var L,M,j,G,N,V;const t={left:0,top:0};if(!l.show||!n.value||!g.value)return t;const{top:e,left:a,right:m,bottom:v,height:f,width:b}=o,d=k.value,r=d[d.main],A=d[d.sub],I=10,K=(d.main==="horizontal"?(L=n.value)==null?void 0:L.offsetWidth:(M=n.value)==null?void 0:M.offsetHeight)??0;return t[r]=o[r]-K-I,r==="right"?t.left=a+b+I:r==="bottom"&&(t.top=e+f+I),A==="center"?d.main==="horizontal"?t.top=e+f/2-(((j=n.value)==null?void 0:j.offsetHeight)??0)/2:t.left=a+b/2-(((G=n.value)==null?void 0:G.offsetWidth)??0)/2:t[A]=o[A],t.left===void 0&&(t.left=window.innerWidth-t.right-((N=n.value)==null?void 0:N.offsetWidth)),t.top===void 0&&(t.top=window.innerHeight-t.bottom-((V=n.value)==null?void 0:V.offsetHeight)),t}),i=W(()=>{const t={left:-16,top:-16};if(!l.show||!n.value||!g.value)return t;const e=k.value,a=e[e.main],m=e[e.sub],{offsetHeight:v=0,offsetWidth:f=0}=n.value??{};return a==="left"?t.left=(f??0)-4:a==="top"&&(t.top=(v??0)-4),e.main==="horizontal"&&(m==="center"?t.top=v/2-10:m==="bottom"?t.top=v-o.height/2-10:t.top=o.height/2-10),e.main==="vertical"&&(m==="center"?t.left=f/2-10:m==="right"?t.left=f-o.width/2-10:t.left=o.width/2-10),t});function w(){const t=$.value;if(!t)return;const e=Q(t);o.left=e[0],o.top=e[1],o.width=t.offsetWidth,o.height=t.offsetHeight,o.right=window.innerWidth-o.width-o.left,o.bottom=window.innerHeight-o.height-o.top}q(()=>[$.value,l.show],w),q(()=>l.show,t=>{g.value=t},{flush:"post"}),F(()=>{window.addEventListener("resize",w)}),tt(()=>{window.removeEventListener("resize",w)});function B(){x.value+=1}function z(){u("close"),u("update:show",!1)}return(t,e)=>{const a=O;return T(),J(ot,{to:"body"},[p("div",{class:"guider",style:y(`display: ${E.show?"static":"none"}`)},[p("div",{class:"guider-left",style:y(`border-left: ${o.left-2}px solid rgba(0, 0, 0, 0.25);`)},null,4),e[7]||(e[7]=s()),p("div",{class:"guider-top",style:y(`left: ${o.left-2}px; width: ${o.width+4}px; border-top: ${o.top-2}px solid rgba(0, 0, 0, 0.25);`)},null,4),e[8]||(e[8]=s()),p("div",{class:"guider-right",style:y(`left: ${o.left+o.width+2}px; background-color: rgba(0, 0, 0, 0.25)`)},null,4),e[9]||(e[9]=s()),p("div",{class:"guider-bottom",style:y(`left: ${o.left-2}px; width: ${o.width+4}px; top: ${o.top+o.height+2}px`)},null,4),e[10]||(e[10]=s()),p("div",{ref_key:"doc",ref:n,class:"guider-doc flex flex-col justify-between rounded-md",style:y(`left: ${_.value.left}px;top:${_.value.top}px`)},[p("div",{class:"arrow",style:y(`left: ${i.value.left}px; top: ${i.value.top}px; border-${k.value[k.value.main]}-color: white`)},null,4),e[5]||(e[5]=s()),p("div",rt,[e[0]||(e[0]=p("h1",null,"第一步",-1)),e[1]||(e[1]=s()),p("div",null,[et(t.$slots,"default",{},void 0,!0)])]),e[6]||(e[6]=s()),p("div",st,[C(a,{onClick:z},{default:H(()=>e[2]||(e[2]=[s("关闭")])),_:1}),e[4]||(e[4]=s()),C(a,{type:"primary",onClick:B},{default:H(()=>e[3]||(e[3]=[s("下一步")])),_:1})])],4)],4)])}}});const lt=R(nt,[["__scopeId","data-v-7d02193c"]]),at={class:"test-page"},pt=Z({__name:"Test",setup(E){const S=X();S.setAuthorities(["personal:edit","personal:remove"]);const l=S.useAuth("personal:edit",_=>console.log("hi, "+_)),c=()=>console.log("say hi");l("jack");const x=h(),n=h(),g=h();let o=[];const u=h(),$=h(!1);function k(){console.log("hello")}return F(()=>{u.value=x.value,o.push({target:x.value,doc:g.value},{target:n.value,doc:g.value})}),(_,i)=>{const w=O,B=it("auth");return T(),D("div",at,[p("div",null,[P((T(),J(w,{onClick:i[0]||(i[0]=z=>$.value=!0)},{default:H(()=>i[4]||(i[4]=[s("新手引导1")])),_:1})),[[B,"personal:edit"]]),i[8]||(i[8]=s()),C(w,{class:"btn1",ref_key:"btn1",ref:x,type:"primary",onClick:i[1]||(i[1]=z=>u.value=n.value)},{default:H(()=>i[5]||(i[5]=[s("button 1")])),_:1},512),i[9]||(i[9]=s()),C(w,{class:"btn2",ref_key:"btn2",ref:n,type:"primary",onClick:i[2]||(i[2]=z=>u.value=x.value)},{default:H(()=>i[6]||(i[6]=[s("button 2")])),_:1},512),i[10]||(i[10]=s()),P((T(),D("span",{onClick:c,class:"ml-40 p-2"},i[7]||(i[7]=[s("test")]))),[[B,"hello"]])]),i[11]||(i[11]=s()),C(U(lt),{current:u.value,options:U(o),show:$.value,"onUpdate:show":i[3]||(i[3]=z=>$.value=z)},{default:H(()=>[p("div",{ref_key:"doc",ref:g,onClick:k},"功能指引",512)]),_:1},8,["current","options","show"])])}}});const pe=R(pt,[["__scopeId","data-v-0a39d9f4"]]);export{pe as default};
//# sourceMappingURL=Test.d5670a13.1755837291293.js.map
